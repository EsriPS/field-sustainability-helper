{"version":3,"file":"static/js/3582.42e2db45.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/effects/EffectView.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/views/support/floorFilterUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/renderers/support/numberUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/renderers/support/utils.js","../node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import s from\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as o}from\"./parser.js\";import{canInterpolateEffects as l,normalizeEffects as f}from\"./utils.js\";const a=-1;let h=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=s(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(_(t))}catch(e){this._transitionTo([]),i.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&p(this._current,_(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&p(this._current,t,this.scale)?(this._final=t,this._to=r(t),m(this._current,this._to,this.scale),this._from=r(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?r(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=g(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?r(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};t([n()],h.prototype,\"_to\",void 0),t([n()],h.prototype,\"duration\",void 0),t([n({value:\"\"})],h.prototype,\"effect\",null),t([n({readOnly:!0})],h.prototype,\"effects\",void 0),t([n({readOnly:!0})],h.prototype,\"hasEffects\",null),t([n({value:0})],h.prototype,\"scale\",null),t([n({readOnly:!0})],h.prototype,\"transitioning\",null),h=t([c(\"esri.layers.effects.EffectView\")],h);const u=h;function _(t){const e=o(t)||[];return d(e)?[{scale:a,effects:e}]:e}function p(t,e,s){var r,i,n,c;if(null==(r=t[0])||!r.effects||null==(i=e[0])||!i.effects)return!0;return!(((null==(n=t[0])?void 0:n.scale)===a||(null==(c=e[0])?void 0:c.scale)===a)&&(t.length>1||e.length>1)&&s<=0)&&l(t[0].effects,e[0].effects)}function m(t,e,s){var r,i;const n=t.length>e.length?t:e,c=t.length>e.length?e:t,o=c[c.length-1],l=null!=(r=null==o?void 0:o.scale)?r:s,h=null!=(i=null==o?void 0:o.effects)?i:[];for(let f=c.length;f<n.length;f++)c.push({scale:l,effects:[...h]});for(let u=0;u<n.length;u++)c[u].scale=c[u].scale===a?s:c[u].scale,n[u].scale=n[u].scale===a?s:n[u].scale,f(c[u].effects,n[u].effects)}function g(t,e,s){return t+(e-t)*s}function d(t){const e=t[0];return!!e&&\"type\"in e}export{p as canInterpolateEffectStops,_ as convertEffectToStops,u as default,m as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";import{getLayerFloorFilterClause as n,combineFloorsDefinitionExpression as y}from\"../../views/support/floorFilterUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){var e;const r=!(null==(e=this.floors)||!e.length),s=this.visibleSublayers.filter((e=>null!=e.definitionExpression||r&&null!=e.floorInfo));return s.length?JSON.stringify(s.reduce(((e,r)=>{const s=n(this.floors,r),i=t(s)?y(s,r):r.definitionExpression;return e[r.id]=i,e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([i({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([i()],c.prototype,\"floors\",void 0),e([i({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([i()],c.prototype,\"layer\",null),e([i({readOnly:!0})],c.prototype,\"layers\",null),e([i({readOnly:!0})],c.prototype,\"layerDefs\",null),e([i({type:Number})],c.prototype,\"scale\",void 0),e([i(a)],c.prototype,\"timeExtent\",void 0),e([i({readOnly:!0})],c.prototype,\"version\",null),e([i({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([o(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){const o=n.flatten((({sublayers:e})=>e)).length;if(o!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:t}of e){for(;i<o&&r[i]!==t;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type}function s(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if(\"floorInfo\"in l&&null!=(n=l.floorInfo)&&n.floorField&&\"floors\"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return\"floorInfo\"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{l as combineFloorsDefinitionExpression,o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{formatDate as A,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";const g=\"<\",w=\">\",I=a(\"short-date\");function U(a,U,e,i){let o=\"\";0===U?o=`${g} `:U===e&&(o=`${w} `);let r=null;return r=i?A(a,I):t(a),o+r}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];export{e as RGB_IMG_SOURCE,w as SPECIAL_CHARS_GREATER_THAN,g as SPECIAL_CHARS_LESS_THAN,U as createStopLabel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:f(e)}}function f(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as i}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as o}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{createStopLabel as a}from\"./utils.js\";const u=30,c=12,m=[255,255,255],f=[200,200,200],p=[128,128,128],y=20,b=5;function d(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function h(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function w(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function S(e,l,n,i,o,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=V(e,n),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=s(p);let S=null,k=null,j=null;k=g&&!h?t([l.minDataValue,l.maxDataValue]):f||await C(l,p,i,o);const L=null==e?void 0:e.authoringInfo,O=\"univariate-color-size\"===(null==L?void 0:L.type),D=O&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!k&&h&&(k=l.stops.map((e=>e.value)),S=l.stops.some((e=>!!e.label)),S&&(j=l.stops.map((e=>e.label)))),g&&(null==(u=k)?void 0:u.length)>2&&!D&&(k=[k[0],k[k.length-1]]),!k)return null;O&&5!==(null==(c=k)?void 0:c.length)&&(k=I({minSize:k[0],maxSize:k[k.length-1]}));const E=g?z(e,k):null,T=r(p),q=S?null:w(k,a);return(await Promise.all(k.map((async(t,n)=>{const s=g?E[n]:await M(l,p,t,i,o);return{value:t,symbol:U(D&&\"class-breaks\"===e.type?x(e,n):p,s),label:S?j[n]:q[n],size:s,outlineSize:T}})))).reverse()}function z(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let i=[c,u];if(n){const e=l[0],t=l[l.length-1],n=c,o=u;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&i.reverse(),i}function x(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.indexOf(\"3d\")>-1?j(i):L(i)),i}function V(e,l){let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||k(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?j(t):L(t)),t)}function k(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function j(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:p}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:f}:(e.material={color:m},e.outline={color:p,size:1.5})}))}function L(l){\"cim\"===l.type?o(l,new e(f)):-1!==l.type.indexOf(\"line\")?l.color=p:(l.color=m,\"simple-marker\"===l.type&&(l.outline={color:p,width:1.5}))}async function C(e,l,n,i){const o=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,i),s=o&&I(o);if(!o&&!s)return;let r=s.map((l=>O(l,e,o)));r=t(r);for(let t=1;t<r.length-1;t++){const o=await D(e,l,r[t],r[t-1],n,i);o&&(r[t]=o[0],s[t]=o[1])}return r}function I(e){const l=e.minSize,t=e.maxSize,n=b,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function O(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function D(e,l,o,s,r,a){const u=await M(e,l,o,r,a),c=await M(e,l,s,r,a),m=n(o),f=m.fractional,p=y;let b=m.integer,d=null,h=null;o>0&&o<1&&(d=10**f,b=n(o*=d).integer);for(let n=b-1;n>=0;n--){const s=10**n;let m=Math.floor(o/s)*s,f=Math.ceil(o/s)*s;null!=d&&(m/=d,f/=d);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const b=await M(e,l,m,r,a),v=await M(e,l,f,r,a),g=await M(e,l,y,r,a),w=i(u,b,c,null),S=i(u,v,c,null),z=i(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,b]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function M(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function U(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(d(n))n.size=t;else if(h(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else v(n)?n.width=t:g(n)&&n.font&&(n.font.size=t);return n}export{u as REAL_WORLD_MAX_SIZE,c as REAL_WORLD_MIN_SIZE,S as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{unique as e}from\"../../core/arrayUtils.js\";import n from\"../../core/Logger.js\";import{convertDateFormatToIntlOptions as t,formatDate as l}from\"../../intl/date.js\";import{format as a,round as i}from\"./numberUtils.js\";import o from\"../visualVariables/support/ColorStop.js\";const r=n.getLogger(\"esri.renderers.support.utils\"),s={lte:\"<=\",gte:\">=\",lt:\"<\",gt:\">\",pct:\"%\",ld:\"–\"},u={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},d={millisecond:\"long-month-day-year-long-time\",second:\"long-month-day-year-long-time\",minute:\"long-month-day-year-short-time\",hour:\"long-month-day-year-short-time\",day:\"long-month-day-year\",month:\"long-month-day-year\",year:\"year\"},m=t(\"short-date\");function f(e,n,t){let l=\"\";return 0===n?l=s.lt+\" \":n===t&&(l=s.gt+\" \"),l+e}function c(e){const{values:n,colors:t,labelIndexes:i,isDate:r,dateFormatOptions:s}=e;return n.map(((e,u)=>{let d=null;if(!i||i.indexOf(u)>-1){let t;t=r?l(e,s):a(e),t&&(d=f(t,u,n.length-1))}return new o({value:e,color:t[u],label:d})}))}function p(e){const{stops:n,changes:t,isDate:o,dateFormatOptions:r}=e,s=n.map((e=>e.value)),u=[];for(const l of t)u.push(l.index),s[l.index]=l.value;const d=i(s,{indexes:u});n.forEach(((e,t)=>{if(e.value=s[t],null!=e.label){let i,s=null;i=o?l(d[t],r):a(d[t]),i&&(s=f(i,t,n.length-1)),e.label=s}}))}function h(e){let n=e.minValue,t=e.maxValue;const l=e.isFirstBreak?\"\":s.gt+\" \",i=\"percent-of-total\"===e.normalizationType?s.pct:\"\";return n=null==n?\"\":a(n),t=null==t?\"\":a(t),l+n+i+\" \"+s.ld+\" \"+t+i}function y(e){const n=e.classBreakInfos,t=e.normalizationType;let l=[];if(n&&n.length)if(\"standard-deviation\"!==e.classificationMethod)if(e.round){l.push(n[0].minValue);for(const e of n)l.push(e.maxValue);l=i(l),n.forEach(((e,n)=>{e.label=h({minValue:0===n?l[0]:l[n],maxValue:l[n+1],isFirstBreak:0===n,normalizationType:t})}))}else n.forEach(((e,n)=>{e.label=h({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===n,normalizationType:t})}));else r.warn(\"setLabelsForClassBreaks\",\"cannot set labels for class breaks generated using 'standard-deviation' method.\")}function g(e){if(\"standard-deviation\"===e.classificationMethod)return void r.warn(\"updateClassBreak\",\"cannot update labels for class breaks generated using 'standard-deviation' method.\");const n=e.classBreaks,t=e.change,l=t.index,a=t.value,i=n.length;let o=-1,s=-1;0===l?o=l:l===i?s=l-1:(s=l-1,o=l);const u=e.normalizationType;let d=null;o>-1&&o<i&&(d=n[o],d.minValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===o,normalizationType:u})),s>-1&&s<i&&(d=n[s],d.maxValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===s,normalizationType:u}))}function x(e){const n=e.map((e=>new Date(e))),t=n.length;let l=1/0,a=null;for(let i=0;i<t-1;i++){const e=n[i];let o=1/0,r=null;for(let l=i+1;l<t;l++){const t=n[l],a=(e.getFullYear()!==t.getFullYear()?\"year\":e.getMonth()!==t.getMonth()&&\"month\")||e.getDate()!==t.getDate()&&\"day\"||e.getHours()!==t.getHours()&&\"hour\"||e.getMinutes()!==t.getMinutes()&&\"minute\"||e.getSeconds()!==t.getSeconds()&&\"second\"||\"millisecond\",i=u[a];i<o&&(o=i,r=a)}o<l&&(l=o,a=r)}return a}function V(e){const{value:n,domain:i,fieldInfo:o,dateFormatInterval:r}=e;let s=String(n);const u=i&&\"codedValues\"in i&&i.codedValues?i.getName(n):null;return u?s=u:\"number\"==typeof n&&(s=o&&\"date\"===o.type?l(n,r&&t(d[r])):a(n)),s}function b(e,n){return\"normalizationField\"in e&&e.normalizationField?F(e.field,e.normalizationField):\"field\"in e&&e.field?v(e.field):\"valueExpression\"in e&&e.valueExpression?z(e.valueExpression,e.valueExpressionTitle,n):null}function v(e){return{type:\"field\",field:e}}function F(e,n){return{type:\"normalized-field\",field:e,normalizationField:n}}function z(e,n,t){return{type:\"expression\",expression:e,title:n,returnType:t}}function k(n,t){const l=[];if(\"class-breaks\"===n.type||\"heatmap\"===n.type)l.push(b(n,\"number\"));else if(\"unique-value\"===n.type){const e=n.authoringInfo;if(e&&\"relationship\"===e.type){if(e.field1&&e.field2){const n=e.field1.field,t=e.field2.field,a=e.field1.normalizationField,i=e.field2.normalizationField;l.push(b({field:n,normalizationField:a})),l.push(b({field:t,normalizationField:i}))}}else{const e=n.uniqueValueInfos[0];let t=null;if(e&&e.value){const e=typeof n.uniqueValueInfos[0].value;\"string\"!==e&&\"number\"!==e||(t=e)}l.push(b(n,t)),[n.field2,n.field3].forEach((e=>e&&l.push(v(e))))}}else\"dot-density\"===n.type&&n.attributes.forEach((e=>l.push(b(e,\"number\"))));const a=t?t(n):\"visualVariables\"in n?n.visualVariables:null;return a&&a.forEach((e=>l.push(b(e,\"number\")))),e(l.filter(Boolean),((e,n)=>\"field\"===e.type&&\"field\"===n.type?e.field===n.field:\"normalized-field\"===e.type&&\"normalized-field\"===n.type?e.field===n.field&&e.normalizationField===n.normalizationField:\"expression\"===e.type&&\"expression\"===n.type&&e.expression===n.expression))}export{x as calculateDateFormatInterval,h as createClassBreakLabel,c as createColorStops,V as createUniqueValueLabel,b as getAttribute,k as getAttributes,y as setLabelsForClassBreaks,m as timelineDateFormatOptions,g as updateClassBreak,p as updateColorStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isSome as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(!n(i)||!n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as l}from\"../../../kernel.js\";import s from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import n from\"../../../core/Collection.js\";import i from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{px2pt as h}from\"../../../core/screenUtils.js\";import{addQueryParameters as m}from\"../../../core/urlUtils.js\";import{on as p,init as f,whenFalseOnce as g,watch as b}from\"../../../core/watchUtils.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import v from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as w}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as L}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as E}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as C}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as R}from\"../../../symbols/support/cimSymbolUtils.js\";import{renderSymbol as V}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as T,renderDotDensityPreviewHTML as z,renderPreviewHTML as x}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as j}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as O}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as D,getRampStopsForPointCloud as M,getStrectchRampStops as P,getRampStops as A}from\"./colorRampUtils.js\";import{getHeatmapRampStops as U}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as B,getRelationshipRampElement as k}from\"./relationshipRampUtils.js\";import{getRampStops as N,REAL_WORLD_MAX_SIZE as q,REAL_WORLD_MIN_SIZE as W}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as $,SPECIAL_CHARS_GREATER_THAN as G,RGB_IMG_SOURCE as J}from\"./utils.js\";import{formatNumberLabel as Q}from\"../../smartMapping/support/utils.js\";import H from\"../../../symbols/SimpleMarkerSymbol.js\";import X from\"../../../symbols/SimpleFillSymbol.js\";const K=o.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),Y=\"https://utility.arcgis.com/sharing/tools/legend\",Z=\"esri.layers.ImageryLayer\",ee=\"esri.layers.ImageryTileLayer\",te=\"esri.layers.WCSLayer\",le=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,se=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),re={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ne=new H({size:6,outline:{color:[128,128,128,.5],width:.5}}),ie=new X({style:\"solid\"});function ae(e){return\"vector-field\"===e.type}function oe(e){return\"raster-colormap\"===e.type}function ue(e){return\"raster-stretch\"===e.type}function ce(e){return\"raster-shaded-relief\"===e.type}function de(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ye(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function he(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function me(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function pe(e){return ge(e)||be(e)||Se(e)||fe(e)}function fe(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function ge(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Se(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function _e(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function ve(e,t){return de(e)||ye(e)||he(e)||me(e)||_e(e)?\"2d\"===t.type||C(e):ue(e)||oe(e)||ce(e)||ge(e)||be(e)||Se(e)||ae(e)}function we(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Le(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function Ee(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function Ie(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function Ce(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function Fe(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Re(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Ve(e){return e.declaredClass===Z}function Te(e){return e.declaredClass===ee}function ze(e){return e.declaredClass===te}function xe(e){return\"stretch-ramp\"===e.type}function je(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Oe(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const De=new H({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Me={},Pe=class extends r{constructor(e){super(e),this._handles=new i,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([p(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,r=this._handles;l.forEach((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(f(t,\"ready\",e),l)})),s.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Me={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Me=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new v,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,r=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=r?r*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(le.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(Re(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&I(l.renderer),r=se.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:r}):(K.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){K.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){K.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Le(e))this._constructLegendElementsForVoxellayer();else if(Ie(e))this._constructLegendElementsForWMTSlayer();else if(Ee(e))await this._constructLegendElementsForWMSSublayers();else if(we(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Ce(e)||Fe(e)||we(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let s=\"default\";if(Ve(e)){var t,l;const r=e;s=((null==r||null==(t=r.renderingRule)?void 0:t.functionName)||\"default\")+\"_\"+(null!=(l=e.bandIds)&&l.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${s}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(Ve(e)||Te(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>y((async()=>{Me.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(Ve(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await d(l)})).catch((e=>{K.warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,l=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!l&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await g(t,\"updating\");const s=l?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();s.geometry=this.view.extent;return 0!==(l?\"queryFeatureCount\"in t&&await t.queryFeatureCount(s):\"queryFeatureCount\"in e&&await e.queryFeatureCount(s))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||le.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Ce(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\");const e=this.layer;this._handles.add(b(e,\"style\",(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),l=[];var s;if(t)if(null!=(s=t.uniqueValues)&&s.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new X({color:t.color,outline:null})})})),e.length&&l.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:s}=t.transferFunction,r=e.toArray().reverse(),n=s.map(((e,t)=>`${0===t?$:G} ${Q(e)}`)).reverse(),i=r.map((e=>({color:e.color,value:null,label:null})));i[0].label=n[0],i[i.length-1].label=n[1],l.push({type:\"color-ramp\",title:t.label,infos:i,preview:T(r.map((e=>e.color)))})}const r=e.opacity,n=l.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,r)));await d(n),this.legendElements=l,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(b(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(b(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let r=e.legendUrl;if(!r)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(r=m(r,t));let i=null;const a=null==(l=e.layer)?void 0:l.opacity;try{i=(await s(r,{responseType:\"image\"})).data,i&&(i.style.opacity=a)}catch{}return n.infos.push({src:r,preview:i,opacity:a}),n}_getLegendLayers(e,t){const l=Me&&Me[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return Me[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(Ve(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:s,customParameters:r}=t;l={raster:e,viewId:s,...l,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=Y+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return s(r,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){K.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(r.renderer){l=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:s,sublayer:r}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){K.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(n=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of n){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||i.visible&&i.legendEnabled&&this._isSublayerInScale(i)){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>2){await i.load();r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=this.layer,s=e.source;let r=null;if(!(!s||\"map-layer\"===s.type&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"labelsVisible\")>2){const e=new L({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const n=r||`${t.uid}-default`;(await this._getLegendLayers(n,r)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if(!s&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const r=null==t?void 0:t.renderer;let n=(null==t?void 0:t.title)||e.layerName;if(r&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>2)){const e=(null==t?void 0:t.title)||this._getRendererTitle(r,t);e&&(n&&\"string\"!=typeof e&&\"title\"in e&&(e.title=n),n=e)}const i={type:\"symbol-table\",title:n,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const r={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=r.infos)?void 0:s.length)>0&&i.infos.push(r)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,s){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=l(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:null==s?this.opacity:s,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,r=null,n=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(r=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,r=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||r>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let r=null,n=null;return s&&e.some(((e,t)=>(e.values||(r=t,n=e,n.label||(n.label=\"others\")),null!=n))),l?\"unique-value\"===l.type?n&&(e.splice(r,1),e.push(n)):\"class-breaks\"===l.type&&(n&&e.splice(r,1),e.reverse(),n&&e.push(n)):n&&(e.splice(r,1),e.push(n)),e}async _getRendererLegendElements(e,t={}){return ve(e,this.view)?pe(e)?this._constructPointCloudRendererLegendElements(e,t):_e(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):(K.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let r=null,n=null;if(ge(e))r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ne,e.color)})}));else if(be(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=D(e+(l-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ne,s||ne.color)}]};const i=M(e.stops);n={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:T(i.map((e=>e.color)))}}else Se(e)&&(r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ne,e.color)})})));r&&r.infos.length&&s.push(r),n&&n.infos.length&&s.push(n);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:r}=e,n=this.effectList,i=null==n?void 0:n.effects.map((e=>e.toJSON())),a=w(i),o=r+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON()))+\"-\"+a,u=this._dotDensityUrlCache,c=u.has(o)?u.get(o):z(e,t);u.set(o,c);const d={shape:{type:\"image\",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},y=V([[d]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:y,width:c.width,height:c.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,t={}){const{title:l,sublayer:s}=t,r=s||this.layer;let n=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(n,r)||[],a={type:\"symbol-table\",title:l||this._getRendererTitle(n,r),infos:[]};let o=null,c=!1;const y=new Set;if(je(n)){let e=l;const t=Oe(n)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",s=i.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==s?i.splice(s,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];r&&(e=r.title,u.push(r)),o&&(e=o.title,u.push(o)),u.length>0&&i.push({type:t,title:e,infos:u})}else if(me(n)){const e=U(n);i.push({type:\"heatmap-ramp\",title:l,infos:e,preview:T(e.map((e=>e.color)),{effectList:this.effectList})})}else if(he(n)){const e=n&&n.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:o}=e;if(l&&s&&o){const e=[s,o];let u=B(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=De.clone();i.angle=u,a.infos.push({label:n,symbol:i}),y.add(i),u+=90}const c=k({focus:t,numClasses:l,infos:n.uniqueValueInfos});i.unshift(c)}}else{const e=n.field;n.uniqueValueInfos.forEach((t=>{t.symbol&&a.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}n.defaultSymbol&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(ye(n)){o=this._isUnclassedRenderer(n);(!o||!this._hasSizeRamp)&&(n.classBreakInfos.forEach((e=>{e.symbol&&a.infos.unshift({label:e.label||(o?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),o&&(a.title=null),this._updateInfosforClassedSizeRenderer(n,a.infos)),n.defaultSymbol&&!o&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(ue(n))if(Te(this.layer)||ze(this.layer)){const e=this._constructTileImageryStretchRendererElements(n);xe(e)?i.push(e):a.infos=e}else{const e=this.layer;let t,l;n.statistics&&n.statistics.length&&(t=null!=n.statistics[0].min?n.statistics[0].min:n.statistics[0][0],l=null!=n.statistics[0].max?n.statistics[0].max:n.statistics[0][1]);let s=[];const r=u(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties,c=re[e.rasterInfo.pixelType.toLowerCase()];1===r.bandCount||e.bandIds&&1===e.bandIds.length?(t=null!=t?t:r.statistics?r.statistics[e.bandIds[0]].min:c[0],l=null!=l?l:r.statistics?r.statistics[e.bandIds[0]].max:c[1],t||l?i.push(this._getStretchLegendElements(n,{min:t,max:l})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(s=e.bandIds.map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):\"lerc\"===e.format?(s=[0,1,2].map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():\"lerc\"===e.format?(s=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():this._getServerSideLegend()}else if(oe(n))n.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ie,e.color)})}));else if(de(n)){let e=n.symbol;switch(t.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}n.symbol&&!this._hasSizeRamp&&a.infos.push({label:n.label,symbol:e})}else if(ae(n)){n.outputUnit&&(this.title=\"(\"+n.toJSON().outputUnit+\")\"),a.title=n.attributeField;const e=n.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:n.attributeField,symbol:n.getDefaultSymbol()})}else ce(n)&&i.push(this._getStretchLegendElements(n,{min:0,max:255}));const h=n.defaultSymbol;!h||c||de(n)||o&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:n.defaultLabel||\"others\",symbol:h}]}),a.infos.length&&i.unshift(a);const m=null==t.opacity?this.opacity:t.opacity,p=this._isTallSymbol(\"visualVariables\"in n&&n.visualVariables),f=Ve(this.layer)||Te(this.layer),g=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,m,{isDefault:e.symbol===h,applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:p,isSquareFill:f},effectList:y.has(e.symbol)?null:this.effectList})));return n=null,await d(g),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,r=s.rasterInfo,n=r.bandCount||e.statistics.length;let i,a,o=[];const u=r.keyProperties&&r.keyProperties.BandProperties,c=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==r?void 0:r.statistics;if(c)i=void 0!==c[0].min?c[0].min:c[0][0],a=c[0].max||c[0][1];else{const e=re[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(s.hasStandardTime()&&(i=s.getStandardTimeValue(i),a=s.getStandardTimeValue(a)),1===r.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function d(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=n?d(u):d(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=P(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:T(s.map((e=>e.color)))}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:J[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>j(e.symbol)));if(l&&s){const l=q,s=W,r=e.classBreakInfos.length,n=(l-s)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=l-n*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const r=e[s];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null!=l&&l.isDefault||null!=e.size||!this._hasSizeRamp?e.size:h(22);if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return x(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig,effectView:null==l?void 0:l.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var t,l;const s=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const n=\"visualVariables\"in e&&(null==(t=e.visualVariables)?void 0:t.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!le.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!n&&\"featureReduction\"in r&&\"cluster\"===(null==(l=r.featureReduction)?void 0:l.type)){const t=this.layerView._effectiveRenderer,l=u(O(t,this.view));if(l){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:s}=t;l.legendOptions=new F({showLegend:e!==s})}const s=e.visualVariables||[];e.visualVariables=s.concat([l]),this._hasClusterSizeVariable=!0}}const i=await this._getMedianColor(e);if(ye(e)||he(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,i).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(s,t)}return s.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:i).then((t=>{this._applySymbolToRenderer(e,t,de(e))})).catch((()=>{this._applySymbolToRenderer(e,null,de(e))}))),d(s).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}async _getMedianColor(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const t=e.visualVariables.find((e=>\"color\"===e.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const r=l+(s-l)/2,{getColor:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(t,r)}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,r=l&&l.user&&l.user.username,n=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+r,i=this._webStyleSymbolCache;return i.has(n)||(\"2d\"===this.view.type?i.set(n,e.fetchCIMSymbol()):i.set(n,e.fetchSymbol())),i.get(n).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>(K.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,l){if(!e||!l)return e;const s=e.clone(),r=l&&l.toRgba();return s.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(s,r):\"cim\"===s.type?R(s,l):s.color&&(s.color=new t(r||s.color)),s}_applyColorTo3dSymbol(e,l){l&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(l))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const l=e.visualVariables,s=[],r=[],n=[];for(const c of l)\"color\"===c.type?s.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&n.push(c);const i=[...s,...r,...n];let a,o;if(0===s.length&&ye(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===s.length&&de(e)&&(a=e.symbol),a)if(a.type.indexOf(\"3d\")>-1){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(i.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=this._getRampTitle(l,t);let r=null;const n=\"getField\"in t&&t.getField&&t.getField(l.field),i=n&&E(n);if(\"color\"===l.type){const e=await A(l,null,i);r={type:\"color-ramp\",title:s,infos:e,preview:T(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)le.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(r={type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(l):s,infos:await N(e,l,await this._getMedianColor(e),this.scale,this.view.type,i)},this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===l.type){const e=await A(l,o,i);r={type:\"opacity-ramp\",title:s,infos:e,preview:T(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),r=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,r=s&&s.fieldInfos;if(r)for(const t of r)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,r=!1,n=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){r=!0;break}if(\"percent\"===l.style){n=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:r,ratioPercent:n,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,r=null,n=null;ye(l)&&(r=l.normalizationField,n=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,r=\"function\"==typeof r?null:r;let i=null;return(s||r)&&(i={field:s&&this._getFieldAlias(s,t),normField:r&&this._getFieldAlias(r,t),normByPct:n}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let r=null;s&&s.some((t=>e===t.fieldName&&(r=t,!0)));let n=null;\"getField\"in t&&t.getField?n=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(n=t.fieldsIndex.get(e));const i=r||n;let a=null;return i&&(a=r&&r.label||n&&n.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return ye(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([S()],Pe.prototype,\"children\",void 0),e([S({readOnly:!0})],Pe.prototype,\"effectList\",null),e([S()],Pe.prototype,\"layerView\",void 0),e([S()],Pe.prototype,\"layer\",void 0),e([S()],Pe.prototype,\"legendElements\",void 0),e([S({readOnly:!0})],Pe.prototype,\"opacity\",null),e([S()],Pe.prototype,\"parent\",void 0),e([S({readOnly:!0,dependsOn:[]})],Pe.prototype,\"ready\",null),e([S()],Pe.prototype,\"hideLayersNotInCurrentView\",void 0),e([S()],Pe.prototype,\"keepCacheOnDestroy\",void 0),e([S()],Pe.prototype,\"respectLayerVisibility\",void 0),e([S({readOnly:!0})],Pe.prototype,\"scale\",null),e([S()],Pe.prototype,\"sublayerIds\",void 0),e([S({readOnly:!0})],Pe.prototype,\"isScaleDriven\",null),e([S()],Pe.prototype,\"title\",void 0),e([S({readOnly:!0,dependsOn:[\"ready\"],value:0})],Pe.prototype,\"version\",null),e([S()],Pe.prototype,\"view\",void 0),Pe=e([_(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Pe);const Ae=Pe;export{Ae as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{init as s,watch as a,whenTrue as n}from\"../../core/watchUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",v=\"view.basemapView.referenceLayerViews\",p=[_,f,\"view.layerViews\",v];let u=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s(this,\"view\",this._viewHandles),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(a(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===v),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(a(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,t=e.uid,s=this._layerInfosByLayerViewId[t];let o=this._activeLayerInfosByLayerViewId[t];if(!o){const i=s&&void 0!==s.title&&s.layer.uid===r.uid;o=new y({layer:r,layerView:e,title:i?s.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:s&&s.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[t]=o}const l=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==l?void 0:l.uid],!this._handles.has(t)){const i=[a(r,\"title\",(e=>this._titleHandle(e,o))),a(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(o))),n(this.view,\"stationary\",(()=>this._scaleHandle(o))),a(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(o))),a(r,\"effect\",(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const t=a(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o))),s=a(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o)));i.push(t,s)}this._handles.add(i,t)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var t;const i=null==(t=this.layerInfos)?void 0:t.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],s=this._activeLayerInfosByLayerViewId[null==t?void 0:t.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([o()],u.prototype,\"basemapLegendVisible\",void 0),e([o()],u.prototype,\"groundLegendVisible\",void 0),e([o()],u.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],u.prototype,\"keepCacheOnDestroy\",void 0),e([o()],u.prototype,\"respectLayerVisibility\",void 0),e([o()],u.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],u.prototype,\"state\",null),e([o()],u.prototype,\"view\",void 0),u=e([l(\"esri.widgets.Legend.LegendViewModel\")],u);const I=u;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as s,computeBBox as t,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{classes as n}from\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as d}from\"../../../support/jsxFactory.js\";const m=\"http://www.w3.org/2000/svg\",u={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function b(e,a,r,l){const{focus:s,labels:t}=e,i=!!s,o=c(e,a,r,l);return i?d(\"div\",{class:u.diamondContainer},d(\"div\",{class:u.diamondLeftCol},t.left),d(\"div\",{class:u.diamondMidCol},d(\"div\",{class:u.diamondMidColLabel},t.top),o,d(\"div\",{class:u.diamondMidColLabel},t.bottom)),d(\"div\",{class:u.diamondRightCol},t.right)):d(\"div\",{class:u.squareTable},d(\"div\",{class:u.squareTableRow},d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightBottom)},t.left),d(\"div\",{class:u.squareTableCell}),d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftBottom)},t.top)),d(\"div\",{class:u.squareTableRow},d(\"div\",{class:u.squareTableCell}),o,d(\"div\",{class:u.squareTableCell})),d(\"div\",{class:u.squareTableRow},d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightTop)},t.bottom),d(\"div\",{class:u.squareTableCell}),d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftTop)},t.right)))}function p(e,a,r){const l=`${r}_arrowStart`,s=`${r}_arrowEnd`,t=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":t?i.markerStart=`url(#${s})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${s})`;break;case\"LH\":t?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${s})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,b,c,h,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,L=!!q,g=Math.sqrt(f**2+f**2)+(L?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let t=0;t<k;t++){const i=t*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[t][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(s(u))}}const x=10,R=15,$=15,E=10;let M=null;L||(M=\"margin: -15px -15px -18px -15px\");const S=p(\"left\",q,b),j=p(\"right\",q,b),B=t(w),H=i(B,g,g,0,!1,_,!1),U=i(B,g,g,0,!1,L?-45:null,!1),W={filter:o(h),opacity:null==c?null:`${c}`};return d(\"div\",{styles:W,class:L?u.diamondMidColRamp:u.squareTableCell},d(\"svg\",{xmlns:m,width:g,height:g,style:M},d(\"defs\",null,d(\"marker\",{id:`${b}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},d(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),d(\"marker\",{id:`${b}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},d(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),d(\"g\",{transform:H},v),d(\"g\",{transform:U},d(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),d(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":j.markerStart,\"marker-end\":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{b as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),r=10,n=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${n}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function u(t,o,i=\"vertical\",l){t.infos.forEach(((t,r)=>{if(l&&2===r)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),r=l?t.preview:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,l||r.appendChild(t.preview),t.preview=r}}))}function m(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=u;v<=m;v++)if(i&&v===p)c+=\"horizontal\"===l?r:n;else{c+=e(f[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[u].size+f[m].size:\"above\"===o?f[u].size:f[m].size,y=i?\"vertical\"===l?n:r:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.filter((({type:e})=>\"size-ramp\"===e))[0],r=i.filter((({type:e})=>\"color-ramp\"===e))[0];var n,s;(l&&(l={...l},l.infos=[...l.infos],u(l,t,o,!0)),r&&(r={...r},r.infos=[...r.infos]),\"horizontal\"===o)&&(null==(n=l)||n.infos.reverse(),null==(s=r)||s.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.filter((({type:e})=>\"size-ramp\"===e))[0],l=o.filter((({type:e})=>\"color-ramp\"===e))[0];var r,n;(i&&(i={...i},i.infos=[...i.infos],u(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===t)&&(null==(r=i)||r.infos.reverse(),null==(n=l)||n.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,m as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as a}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../symbols/support/utils.js\";import l from\"../../Widget.js\";import{renderRelationshipRamp as n}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as c,getUnivariateSizeRampSize as d,getUnivariateColorRampSize as p,getUnivariateColorRampPreview as m,getUnivariateColorRampMargin as h,getUnivariateColorSizeRampElements as y}from\"./support/univariateUtils.js\";import{getTitle as g,attachToNode as _,isImageryStretchedLegend as v}from\"../support/styleUtils.js\";import{Heading as u}from\"../../support/Heading.js\";import{accessibleHandler as f}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as w}from\"../../support/jsxFactory.js\";import\"../../support/widgetUtils.js\";import{substitute as L}from\"../../../intl/substitute.js\";const C={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},x=25,S=25,z=768,R=100,$=\"#ddd\",I=window.devicePixelRatio;function k(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function N(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let A=class extends l{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=\"auto\"===this.layout&&this.view.container.clientWidth<=z||\"stack\"===this.layout;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=L(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return w(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(C.indicator,{[C.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?w(\"div\",{class:C.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[C.stacked]:this._hasIndicators};return w(\"div\",{class:this.classes(C.base,o)},a||w(\"div\",{class:C.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return w(\"div\",{key:e.layer.uid,class:this.classes(C.service,C.groupLayer)},w(\"div\",{class:C.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[C.groupLayerChild]:!!e.parent};return w(\"div\",{key:e.layer.uid,class:this.classes(C.service,r)},w(\"div\",{class:C.serviceCaptionContainer},w(\"div\",{class:C.serviceCaptionText},e.title)),w(\"div\",{class:C.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer;let c=null;if(\"string\"==typeof e.title)c=e.title;else if(e.title){const t=e.title,s=g(this.messages,t,r||a);c=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),p=this._hasIndicators?w(\"div\",null,w(u,{level:this.headingLevel,class:C.carouselTitle},t.title),w(u,{level:this.headingLevel+1,class:C.layerCaption},c)):c?w(u,{level:this.headingLevel,class:C.layerCaption},c):null,m=t.effectList;let h=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[C.symbolRow],t={[C.labelContainer]:!e&&!i,[C.relationshipLabelContainer]:i};h=w(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?h=this._renderLegendForRamp(e,l.opacity,m):o?h=this._renderSizeRamp(e,l.opacity):\"relationship-ramp\"===e.type?h=n(e,this.id,l.opacity,m):\"univariate-above-and-below-ramp\"===e.type?h=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,m):\"univariate-color-size-ramp\"===e.type&&(h=this._renderUnivariateColorSizeRamp(e,l.opacity,m));if(!h)return null;const y=w(\"div\",{key:d,class:C.section,id:`${d}-panel`,role:\"tabpanel\",\"aria-labelledby\":d,tabIndex:0},[p,h]);return this._sectionMap.set(d,y),y}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=c(e,t,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!0,\"horizontal\"),o=p(i,\"above\",!0,\"horizontal\"),l=p(i,\"below\",!0,\"horizontal\"),n=12,y=m(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=m(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),v=h(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?w(\"div\",{key:t},e):null)),L={display:\"flex\",flexDirection:\"column\"},x={display:\"flex\",flexDirection:\"row\"},S={marginTop:\"3px\",marginLeft:`${v}px`,display:\"flex\"},z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return w(\"div\",{class:C.layerRow,key:\"size-ramp-preview\",styles:L},w(\"div\",{class:this.classes(C.symbolContainer,C.sizeRampHorizontal),styles:x},i.infos.map(((e,t)=>w(\"div\",{key:t,class:C.symbol,bind:e.preview,afterCreate:_})))),y?w(\"div\",{class:C.univariateAboveAndBelowColorRamp,styles:S,key:\"color-ramp-preview\"},w(\"div\",{bind:y,afterCreate:_}),w(\"div\",{bind:g,afterCreate:_})):null,w(\"div\",{class:C.layerInfo},w(\"div\",{class:C.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=y(e,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!1,\"horizontal\"),o=p(i,\"full\",!1,\"horizontal\"),l=m(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=h(i,\"card\"),c=i.infos.length-1,g=i.infos.map(((e,t)=>0===t||t===c?w(\"div\",{key:t},e.label):null)),v={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",marginLeft:`${n}px`,display:\"flex\"},b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return w(\"div\",{class:C.layerRow,key:\"size-ramp-preview\",styles:v},w(\"div\",{class:this.classes(C.symbolContainer,C.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>w(\"div\",{key:t,class:C.symbol,bind:e.preview,afterCreate:_})))),w(\"div\",{class:C.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},w(\"div\",{bind:l,afterCreate:_})),w(\"div\",{class:C.layerInfo},w(\"div\",{class:C.rampLabelsContainer,styles:b},g)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=v(r,s);if(e.preview){var l,n;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return w(\"div\",{key:i,bind:e.preview,afterCreate:_});const t={[C.symbolCell]:this._hasIndicators};return w(\"div\",{key:i,class:this.classes(C.layerRow,{[C.symbolRow]:this._hasIndicators})},w(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:_}),w(\"div\",{class:this.classes(C.imageLabel,{[C.labelCell]:this._hasIndicators})},g(this.messages,e.label,!1)||\"\"))}let s=255,a=255,c=255,d=0,p=255,m=255,h=255,y=0;const v=e.symbol.color&&e.symbol.color.a,u=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;v&&(s=e.symbol.color.r,a=e.symbol.color.g,c=e.symbol.color.b,d=e.symbol.color.a*r.opacity),u&&(p=e.symbol.outline.color.r,m=e.symbol.outline.color.g,h=e.symbol.outline.color.b,y=e.symbol.outline.color.a*r.opacity);const f=null==(l=null==(n=e.symbol.color)?void 0:n.isBright)||l,b=f?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",L={background:v?`rgba(${s}, ${a}, ${c}, ${d})`:\"none\",color:f?\"black\":\"white\",textShadow:`-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,border:u?`1px solid rgba(${p}, ${m}, ${h}, ${y})`:\"none\",filter:o(t.effectList)};return w(\"div\",{key:i,class:C.layerRow},w(\"div\",{class:C.labelElement,styles:L},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return w(\"div\",{key:i,class:C.layerRow},t,w(\"div\",{class:C.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[C.imageryLayerStretchedImage]:s,[C.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return w(\"img\",{alt:g(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,i=t[0],r=t[t.length-1],a=i.symbol,o=this._hasIndicators,l=s(i.size+i.outlineSize)*I,n=s(r.size+r.outlineSize)*I,c=o?l:l+50*I,d=o?l/2+50*I:l,p=N(a),m=k(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/I+\"px\",h.style.height=h.height/I+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=$,y.stroke(),w(\"div\",{bind:h,afterCreate:_,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return w(\"div\",{class:this.classes(C.layerRow,{[C.sizeRampRow]:l})},w(\"div\",{class:C.rampLabel},l?i:r),w(\"div\",{class:C.sizeRampContainer,styles:n},w(\"div\",{bind:a,afterCreate:_,class:C.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),w(\"div\",{bind:o,afterCreate:_,class:C.sizeRampContainer,styles:c})),w(\"div\",{class:C.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,l=i.length-1,n=S,c=l>2&&!r?x*l:R,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/l}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&w(\"div\",{class:C.intervalSeparatorsContainer},w(\"div\",{class:C.intervalSeparator},\"|\"),w(\"div\",{class:C.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=a(u,d,n),{messages:b}=this,L={filter:o(s),opacity:null==t?null:`${t}`};return w(\"div\",{class:C.layerRow},w(\"div\",{class:C.rampLabel},r?b[_]:_),w(\"div\",{class:C.symbolContainer},w(\"div\",{styles:L},f),g),w(\"div\",{class:C.rampLabel},r?b[v]:v))}};e([i()],A.prototype,\"activeLayerInfos\",void 0),e([i()],A.prototype,\"headingLevel\",void 0),e([i()],A.prototype,\"layout\",void 0),e([i(),b(\"esri/widgets/Legend/t9n/Legend\")],A.prototype,\"messages\",void 0),e([i(),b(\"esri/t9n/common\")],A.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],A.prototype,\"type\",void 0),e([i()],A.prototype,\"view\",void 0),e([f()],A.prototype,\"_selectSection\",null),A=e([r(\"esri.widgets.Legend.styles.Card\")],A);const j=A;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as c,isImageryStretchedLegend as m}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(u.service,u.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(u.service,t),tabIndex:0},a,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,l,a){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,r,l,n,e.legendType))).filter((e=>!!e));a.length&&(o=h(\"div\",{class:u.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,l):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,l):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,l));if(!o)return null;const p=e.title;let c=null;if(\"string\"==typeof p)c=p;else if(p){const e=d(this.messages,p,t||i);c=y(p,t||i)&&p.title?`${p.title} (${e})`:e}const m=a?u.layerChildTable:u.layerTable,g=c?h(\"div\",{class:u.layerCaption},c):null,v={[u.layerTableSizeRamp]:n||!a};return h(\"div\",{class:this.classes(m,v)},g,o)}_renderUnivariateAboveAndBelowRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=t(e,r);if(!a)return null;const p=i(a,\"above\",!0),d=i(a,\"below\",!0),y=12,m=n(s,{width:y,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:l}),g=n(s,{width:y,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:l}),v=o(a),b=a.infos.map((e=>e.label)),_=b.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):l?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},j={marginTop:`${v}px`},I={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:c}),m||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),m?h(\"div\",{styles:j,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:I},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=p(e);if(!a)return null;const t=o(a),d=12,y=i(a,\"full\",!1),m=n(s,{width:d,height:y,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:l}),g=a.infos.length-1,v=a.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${y}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:c}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=a?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:c})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a,s){if(e.type)return this._renderLegendForElement(e,r,l,!0);let t=null;const i=m(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:c}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&a};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:l,[u.symbol]:!l},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Handles.js\";import{on as t,watch as i,init as r}from\"../core/watchUtils.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./Widget.js\";import c from\"./Legend/LegendViewModel.js\";import p from\"./Legend/styles/Card.js\";import h from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as v}from\"./support/jsxFactory.js\";const g={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends l{constructor(e,t){super(e,t),this._handles=new s,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=g.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new h,this.view=null,this.viewModel=new c}initialize(){this.own(t(this,\"view\",\"resize\",(()=>this.scheduleRender())),t(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),i(this,\"headingLevel\",(e=>{const{style:s}=this;s&&(s.headingLevel=e)})),r(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof p||e instanceof h)return e;if(\"string\"==typeof e)return\"card\"===e?new p:new h;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?p:h)(s)}return new h}render(){return v(\"div\",{class:this.classes(g.base,g.widget,this.style instanceof h?g.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=r(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const i=t(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(i,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([o(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([o(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([o(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([a()],f.prototype,\"headingLevel\",void 0),e([o(\"viewModel.hideLayersNotInCurrentView\")],f.prototype,\"hideLayersNotInCurrentView\",void 0),e([o(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([o(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([a()],f.prototype,\"iconClass\",void 0),e([a({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([o(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([a(),y(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([a()],f.prototype,\"style\",void 0),e([n(\"style\")],f.prototype,\"castStyle\",null),e([o(\"viewModel.view\")],f.prototype,\"view\",void 0),e([a()],f.prototype,\"viewModel\",void 0),f=e([d(\"esri.widgets.Legend\")],f);const L=f;export{L as default};\n"],"names":["a","h","t","_from","_to","_final","_current","_time","duration","s","effects","this","_get","_set","_transitionTo","_","e","i","declaredClass","warn","effect","error","transitioning","length","_updateForScale","scale","p","_applyTimeTransition","r","n","c","o","l","f","push","u","m","Math","min","g","interpolate","prototype","value","readOnly","d","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","floors","layer","hasDynamicLayers","visibleSublayers","map","toExportImageJSON","JSON","stringify","serviceSublayers","handles","remove","add","allSublayers","on","notifyChange","propertyName","id","join","filter","floorInfo","reduce","y","commitProperty","sublayers","forEach","unshift","some","dpi","format","imageFormat","transparent","imageTransparency","gdbVersion","dynamicLayers","layers","layerDefs","type","Number","flatten","originIdOf","mapLayerId","slice","reverse","toArray","layerDefinition","symbol","uniqueValueInfos","defaultSymbol","classBreakInfos","Array","isArray","details","sort","symbolErrors","floorField","view","visualVariables","find","featuresTilingScheme","getClosestInfoForScale","level","levels","field","minSize","size","minDataValue","maxSize","maxDataValue","toFixed","previous","next","String","match","integer","split","fractional","toLowerCase","indexOf","abs","floor","tolerance","strictBounds","indexes","maximumFractionDigits","I","U","A","stops","label","Promise","all","getColor","color","getOpacity","startIndex","endIndex","weight","colorStops","ratio","HH","HL","LL","LH","symbolLayers","getItemAt","style","H","top","bottom","left","right","focus","infos","numClasses","L","fill","colors","labels","rotation","w","S","legendOptions","customValues","V","b","v","target","k","j","C","authoringInfo","O","D","univariateTheme","E","z","T","q","M","x","outlineSize","clone","material","resource","href","outline","width","getSizeRangeAtScale","ceil","getSize","shape","height","font","log10","notation","minimumSignificantDigits","maximumSignificantDigits","K","le","se","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","re","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ne","ie","X","ae","oe","ue","ce","de","ye","he","me","pe","ge","be","Se","fe","_e","ve","we","Le","Ee","Ie","Ce","Fe","Re","Ve","Te","ze","xe","je","Oe","De","path","Me","Pe","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","destroy","end","_getParentLayerOpacity","_isGroupActive","featureReduction","get","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_isLayerInCurrentView","from","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","_constructLegendElementsForVoxellayer","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","catch","createQuery","geometry","extent","queryFeatureCount","ready","expression","valueExpression","loaded","sourceJSON","getVariableStyle","uniqueValues","enabled","transferFunction","stretchRange","Q","preview","concat","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","resolve","_legendRequest","exportImageServiceParameters","toJSON","raster","viewId","url","replace","version","substring","Y","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","max","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","backgroundColor","dotSize","effectList","has","stroke","offset","effectView","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","findIndex","field1","field2","B","normalizationField","_getFieldAlias","normField","angle","_getDomainName","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","_constructTileImageryStretchRendererElements","statistics","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","rasterInfo","pixelType","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","hasStandardTime","getStandardTimeValue","keys","colorRamps","toColor","fromColor","P","colorRamp","colorName","bandName","J","axis","_effectiveRenderer","clusterMinSize","clusterMaxSize","F","showLegend","_getMedianColor","_fetchSymbol","apply","_applySymbolToRenderer","reject","portal","user","username","styleName","styleUrl","fetchCIMSymbol","fetchSymbol","toRgba","_applyColorTo3dSymbol","R","_getRampTitle","getField","_getClusterTitle","N","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","Ae","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","state","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","includes","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","sqrt","$","W","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","markerStart","markerEnd","x1","y1","x2","y2","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","marginTop","marginLeft","display","flexDirection","justifyContent","afterCreate","isBright","background","textShadow","border","_renderImage","alt","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","marginRight","cloneNode","_renderSizeRampLines","alignItems","verticalAlign","_getStretchStopLabel","iconClass","viewModel","scheduleRender","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","aliasOf","overridable"],"sourceRoot":""}