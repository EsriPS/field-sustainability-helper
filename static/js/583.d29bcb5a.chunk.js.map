{"version":3,"file":"static/js/583.d29bcb5a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/chunks/vec4f32.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js","../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/GrabbingState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/analysis/SlicePlane.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/geometry/support/coordinateSystem.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/Factory.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as l}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function g(g){const p=new s;return p.include(a,{linearDepth:!1}),p.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),p.attributes.add(n.POSITION,\"vec3\"),p.attributes.add(n.UV0,\"vec2\"),p.varyings.add(\"vpos\",\"vec3\"),g.multipassTerrainEnabled&&p.varyings.add(\"depth\",\"float\"),p.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),p.vertex.code.add(l`\n    void main(void) {\n      vpos = position;\n      ${g.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),p.include(r,g),g.multipassTerrainEnabled&&(p.fragment.include(i),p.include(o,g)),p.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.fragment.uniforms.add(\"opacity\",\"float\"),p.varyings.add(\"vTexCoord\",\"vec2\"),g.output===e.Alpha?p.fragment.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${g.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${l.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(p.fragment.include(d),p.fragment.code.add(l`\n    void main() {\n      discardBySlice(vpos);\n      ${g.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${l.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${g.oitEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),p}const p=Object.freeze({__proto__:null,build:g});export{p as I,g as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{Laserline as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as a}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function t(t){const r=new o;return r.include(e,t),r.vertex.uniforms.add(\"modelView\",\"mat4\"),r.vertex.uniforms.add(\"proj\",\"mat4\"),r.attributes.add(a.START,\"vec3\"),r.attributes.add(a.END,\"vec3\"),r.attributes.add(a.UP,\"vec3\"),r.attributes.add(a.EXTRUDE,\"vec2\"),r.varyings.add(\"uv\",\"vec2\"),r.varyings.add(\"vViewStart\",\"vec3\"),r.varyings.add(\"vViewEnd\",\"vec3\"),r.varyings.add(\"vViewPlane\",\"vec4\"),r.vertex.uniforms.add(\"glowWidth\",\"float\"),r.vertex.uniforms.add(\"pixelToNDC\",\"vec2\"),r.vertex.code.add(i`void main() {\nvec3 pos = mix(start, end, extrude.x);\nvec4 viewPos = modelView * vec4(pos, 1);\nvec4 projPos = proj * viewPos;\nvec2 ndcPos = projPos.xy / projPos.w;\nvec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;\nvec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);\nvec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\nvec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\nndcPos += length(lxy) * projExtrudeDir;\nvec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\nvec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;\nvViewStart = (modelView * vec4(start, 1)).xyz;\nvViewEnd = (modelView * vec4(end, 1)).xyz;\nvViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\nfloat xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\nndcPos.x += xPaddingPixels * pixelToNDC.x;\nuv = ndcPos * 0.5 + 0.5;\ngl_Position = vec4(ndcPos, 0, 1);\n}`),r.fragment.uniforms.add(\"globalAlpha\",\"float\"),r.fragment.uniforms.add(\"perScreenPixelRatio\",\"float\"),r.fragment.code.add(i`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\nvec3 origin = mix(start, end, 0.5);\nvec3 basis = end - origin;\nvec3 posAtOrigin = pos - origin;\nfloat x = dot(normalize(basis), posAtOrigin);\nfloat y = dot(plane.xyz, posAtOrigin);\nfloat dx = max(abs(x) - length(basis), 0.0);\nfloat dy = y;\nfloat dist = length(vec2(dx, dy));\nfloat width = fwidth(y);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}\nvoid main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nfloat distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\nvec4 color = laserlineProfile(distance);\nfloat alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\ngl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n}`),r}const r=Object.freeze({__proto__:null,build:t});export{r as L,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{Laserline as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as i}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const l=e(6);function o(e){const l=new a;return l.extensions.add(\"GL_OES_standard_derivatives\"),l.include(i),l.include(t,e),l.fragment.uniforms.add(\"angleCutoff\",\"vec2\"),l.fragment.uniforms.add(\"globalAlpha\",\"float\"),e.heightManifoldEnabled&&l.fragment.uniforms.add(\"heightPlane\",\"vec4\"),e.pointDistanceEnabled&&l.fragment.uniforms.add(\"pointDistanceSphere\",\"vec4\"),e.lineVerticalPlaneEnabled&&l.fragment.uniforms.add(\"lineVerticalPlane\",\"vec4\").add(\"lineVerticalStart\",\"vec3\").add(\"lineVerticalEnd\",\"vec3\"),(e.heightManifoldEnabled||e.pointDistanceEnabled||e.lineVerticalPlaneEnabled)&&l.fragment.uniforms.add(\"maxPixelDistance\",\"float\"),e.intersectsLineEnabled&&l.fragment.uniforms.add(\"intersectsLineStart\",\"vec3\").add(\"intersectsLineEnd\",\"vec3\").add(\"intersectsLineDirection\",\"vec3\").add(\"intersectsLineRadius\",\"float\").add(\"perScreenPixelRatio\",\"float\"),(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)&&l.fragment.code.add(n`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&l.fragment.code.add(n`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),l.fragment.code.add(n`void main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nvec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled&&l.fragment.code.add(n`{\nfloat heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\nvec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));\ncolor = max(color, heightManifoldColor * heightManifoldAlpha);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`{\nfloat pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n}`),e.lineVerticalPlaneEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}\n}`),l.fragment.code.add(n`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n}`),l}const s=Object.freeze({__proto__:null,defaultAngleCutoff:l,build:o});export{s as L,o as b,l as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function m(m){const c=new t;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(i,m),c.fragment.include(n),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"uColor\",\"vec4\"),c.attributes.add(g.POSITION,\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),m.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),m.screenSizeEnabled&&c.attributes.add(g.OFFSET,\"vec3\"),m.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(g.NORMAL,\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(s`\n    void main(void) {\n      vWorldPosition = ${m.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),m.shadingEnabled&&c.vertex.code.add(s`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(s`\n    ${m.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),m.multipassTerrainEnabled&&(c.fragment.include(a),c.include(d,m)),c.fragment.code.add(s`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${m.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),m.shadingEnabled?c.fragment.code.add(s`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`):c.fragment.code.add(s`vec4 finalColor = uColor;`),c.fragment.code.add(s`\n      if (finalColor.a < ${s.float(l)}) {\n        discard;\n      }\n      ${m.output===r.Alpha?s`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${m.output===r.Color?s`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${m.oitEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}const c=Object.freeze({__proto__:null,build:m});export{c as S,m as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as r}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function i(){const i=new e;return i.extensions.add(\"GL_OES_standard_derivatives\"),i.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),i.attributes.add(r.POSITION,\"vec3\"),i.attributes.add(r.UV0,\"vec2\"),i.varyings.add(\"vUV\",\"vec2\"),i.vertex.code.add(d`void main(void) {\nvUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);\n}`),i.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),i.fragment.code.add(d`void main() {\nconst float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\ngl_FragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;\n}`),i}const a=Object.freeze({__proto__:null,build:i});export{a as S,i as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,a){const e=new Float32Array(4);return e[0]=n,e[1]=t,e[2]=r,e[3]=a,e}function a(n,t){return new Float32Array(n,t,4)}function e(){return n()}function u(){return r(1,1,1,1)}function o(){return r(1,0,0,0)}function s(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function i(){return r(0,0,0,1)}const f=e(),l=u(),_=o(),w=s(),N=c(),U=i(),y=Object.freeze({__proto__:null,create:n,clone:t,fromValues:r,createView:a,zeros:e,ones:u,unitX:o,unitY:s,unitZ:c,unitW:i,ZEROS:f,ONES:l,UNIT_X:_,UNIT_Y:w,UNIT_Z:N,UNIT_W:U});export{l as O,_ as U,f as Z,t as a,a as b,n as c,s as d,c as e,r as f,i as g,w as h,N as i,U as j,u as o,o as u,y as v,e as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,M as h,i as d,p as g}from\"../../../chunks/persistableUrlUtils.js\";function w(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=v(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function v(r,e,o){if(t(r)&&\"resource\"===r.type)return U(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=g;return{read:t,write:r}}}}function U(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=R(s),g=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},h.NO):null,w=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(g)&&!i(g)?w?I(this,u,s,g,a,l,f,e):O(g,a,l,f):f&&f.portalItem&&(r(g)||t(d(g))||n(g)||w)?j(this,u,s,g,a,l,f,e):a[l]=g}}}}function j(t,r,o,i,u,a,c,l){const m=p(),y=b(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(P(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),S(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function I(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=b(e,o,s);f(c)===u(a.path)?(S(t,r,a,c,s.resources.toUpdate),i[n]=o):j(t,r,e,o,i,n,s,p)}function O(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function S(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{N(t,r,e)}})}function b(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function R(t){return r(t)?null:\"string\"==typeof t?t:t.url}function N(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{w as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{rad2deg as n,deg2rad as r}from\"../../core/mathUtils.js\";import{g as t,s as u,m as o}from\"../../chunks/quat.js\";import{a as c}from\"../../chunks/quatf64.js\";import{g as s,c as f,n as i,z as e}from\"../../chunks/vec3.js\";function a(n=U){return[n[0],n[1],n[2],n[3]]}function m(n,r,t,u){return j(n,r,t,u,w)}function p(n,r){return j(n[0],n[1],n[2],r,w)}function h(n,r=a()){return j(n[0],n[1],n[2],n[3],r)}function j(n,r,t,u,o=a()){return o[0]=n,o[1]=r,o[2]=t,o[3]=u,o}function k(n,r,t=a()){return s(l(t),n),t[3]=r,t}function g(n,r,t=a()){return f(t,n,r),i(t,t),t[3]=-e(n,r),t}function q(r,c,s=a()){return u(b,l(r),x(r)),u(d,l(c),x(c)),o(b,d,b),z(s,n(t(l(s),b)))}function l(n){return n}function v(n){return n[3]}function x(n){return r(n[3])}function z(n,r){return n[3]=r,n}const U=[0,0,1,0],b=c(),d=c(),w=a();export{U as UP,v as angle,x as angleRad,l as axis,q as compose,h as copy,a as create,k as fromAxisAndAngle,g as fromPoints,j as fromValues,z as setAngle,m as wrap,p as wrapAxisAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch(\"ready\",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?\"attached\"===s?e=t[s]:this[s]=t[s]:console.error(\"Cannot set unknown property\",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{j as o}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s,ShaderTechniqueConfiguration as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Program as n}from\"../lib/Program.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{L as m}from\"../../../../chunks/LaserlinePath.glsl.js\";import{BlendFactor as h}from\"../../../webgl/enums.js\";import{makePipelineState as f,simpleBlendingParams as p,defaultColorWriteParams as g}from\"../../../webgl/renderState.js\";class c extends e{initializeProgram(r){const o=c.shader.get(),t=this.configuration,i=o.build(t);return new n(r.rctx,i,c.attributeLocations)}bind(r,t,i){this.program.setUniform3fv(\"innerColor\",r.innerColor),this.program.setUniform1f(\"innerWidth\",r.innerWidth*i.pixelRatio),this.program.setUniform3fv(\"glowColor\",r.glowColor),this.program.setUniform1f(\"glowWidth\",r.glowWidth*i.pixelRatio),this.program.setUniform1f(\"glowFalloff\",r.glowFalloff),this.program.setUniform1f(\"globalAlpha\",r.globalAlpha),this.program.setUniform1f(\"perScreenPixelRatio\",i.perScreenPixelRatio),this.program.setUniform2f(\"pixelToNDC\",2/i.fullWidth,2/i.fullHeight),this.program.setUniformMatrix4fv(\"proj\",i.projectionMatrix),o(u,i.viewMatrix,t),this.program.setUniformMatrix4fv(\"modelView\",u),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=r.globalAlphaContrastBoost?r.globalAlphaContrastBoost:1)}initializePipeline(){return f({blending:p(h.ONE,h.ONE_MINUS_SRC_ALPHA),colorWrite:g})}}c.shader=new i(m,(()=>import(\"./LaserlinePath.glsl.js\"))),c.attributeLocations=new Map([[l.START,0],[l.END,1],[l.UP,2],[l.EXTRUDE,3]]);class d extends a{constructor(){super(...arguments),this.contrastControlEnabled=!1}}r([s()],d.prototype,\"contrastControlEnabled\",void 0);const u=t();export{c as LaserlinePathTechnique,d as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{s as r,f as s}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{glLayout as o}from\"./buffer/glUtil.js\";import{newLayout as f}from\"./buffer/InterleavedLayout.js\";import{VertexAttribute as n}from\"../webgl-engine/lib/VertexAttribute.js\";import{LaserlinePathTechnique as u}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{BufferObject as a}from\"../../webgl/BufferObject.js\";import{PrimitiveType as c,Usage as h}from\"../../webgl/enums.js\";import{VertexArrayObject as l}from\"../../webgl/VertexArrayObject.js\";class _{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=i(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);r(this._origin,e[t+0],e[t+1],e[t+2])}else r(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this._ensureVAO(t);e(r)&&(t.bindVAO(r),t.drawArrays(c.TRIANGLES,0,this._count))}dispose(){e(this._vao)&&this._vao.dispose()}_ensureVAO(e){return t(this._buffers)?null:(t(this._vao)&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new l(e,u.attributeLocations,{data:o(V)},{data:a.createVertex(e,h.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(e){const t=e.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=t;const i=V.createBuffer(t),o=this._origin;let f=0,n=0;for(const u of e){for(let e=0;e<u.length;e+=3){const t=r(b,u[e+0],u[e+1],u[e+2]);0===e?n=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,n);const a=this._renderCoordsHelper.worldUpAtPosition(t,d),c=f+2*e,h=s(b,t,o);if(e<u.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,h);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,h)}}f+=this._numberOfRenderVertices(u)}return i.buffer}}const d=i(),b=i(),V=f().vec3f(n.START).vec3f(n.END).vec3f(n.UP).vec2f(n.EXTRUDE);export{_ as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i,ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../lib/Program.js\";import{d as s,L as h}from\"../../../../chunks/Laserlines.glsl.js\";import{BlendFactor as f}from\"../../../webgl/enums.js\";import{makePipelineState as m,simpleBlendingParams as p,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";class c extends r{initializeProgram(o){const t=c.shader.get(),e=this.configuration,r=t.build(e);return new l(o.rctx,r,a)}bind(o,e){this.program.setUniform3fv(\"innerColor\",o.innerColor),this.program.setUniform1f(\"innerWidth\",o.innerWidth*e.pixelRatio),this.program.setUniform3fv(\"glowColor\",o.glowColor),this.program.setUniform1f(\"glowWidth\",o.glowWidth*e.pixelRatio),this.program.setUniform1f(\"glowFalloff\",o.glowFalloff),this.program.setUniform1f(\"globalAlpha\",o.globalAlpha),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1);const r=null!=o.angleCutoff?o.angleCutoff:s;this.program.setUniform2f(\"angleCutoff\",Math.cos(r),Math.cos(Math.max(0,r-t(2)))),this.configuration.intersectsLineEnabled&&this.program.setUniform1f(\"perScreenPixelRatio\",e.perScreenPixelRatio)}initializePipeline(){return m({blending:p(f.ONE,f.ONE_MINUS_SRC_ALPHA),colorWrite:d})}}c.shader=new e(h,(()=>import(\"./Laserlines.glsl.js\")));class g extends n{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.contrastControlEnabled=!1}}o([i()],g.prototype,\"heightManifoldEnabled\",void 0),o([i()],g.prototype,\"pointDistanceEnabled\",void 0),o([i()],g.prototype,\"lineVerticalPlaneEnabled\",void 0),o([i()],g.prototype,\"intersectsLineEnabled\",void 0),o([i()],g.prototype,\"contrastControlEnabled\",void 0);export{c as LaserlineTechnique,g as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../core/mathUtils.js\";import{isSome as t,isNone as i,disposeMaybe as n,releaseMaybe as s}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{g as a,m as h,i as l,n as o,c,b as _}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{t as m}from\"../../../chunks/vec4.js\";import{c as p}from\"../../../chunks/vec4f64.js\";import{create as f,fromRay as g,getStart as u,getEnd as b}from\"../../../geometry/support/clipRay.js\";import{intersectClipRay as V}from\"../../../geometry/support/frustum.js\";import{create as P,copy as E,pointAt as L}from\"../../../geometry/support/lineSegment.js\";import{create as q,fromPositionAndNormal as D}from\"../../../geometry/support/plane.js\";import{wrap as S}from\"../../../geometry/support/ray.js\";import{c as R}from\"../../../chunks/sphere.js\";import{LaserlinePathData as T}from\"./LaserlinePathData.js\";import{createQuadVAO as U}from\"../webgl-engine/lib/glUtil3D.js\";import{RenderSlot as M}from\"../webgl-engine/lib/RenderSlot.js\";import{inverseProjectionInfo as x}from\"../webgl-engine/lib/Util.js\";import{copyParameters as C,updateParameters as v}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{LaserlinePathTechniqueConfiguration as A,LaserlinePathTechnique as j}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{LaserlineTechniqueConfiguration as w,LaserlineTechnique as I}from\"../webgl-engine/shaders/LaserlineTechnique.js\";import{PrimitiveType as O}from\"../../webgl/enums.js\";const y=d(),H=p(),z={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:e(6),globalAlphaContrastBoost:2};function N(e,t,i,n){const s=y,r=H;h(s,t,n),a(r,i),r[3]=0,m(r,r,n),D(s,r,e)}class k{constructor(e,t={},i={contrastControlEnabled:!1}){this._renderCoordsHelper=e,this._config=i,this._technique=null,this._projInfo=p(),this._zScale=r(),this._heightManifoldEnabled=!1,this._heightManifoldTarget=d(),this._pointDistanceEnabled=!1,this._pointDistanceOrigin=d(),this._pointDistanceTarget=d(),this._lineVerticalPlaneEnabled=!1,this._lineVerticalPlaneSegment=P(),this._intersectsLineEnabled=!1,this._intersectsLineSegment=P(),this._intersectsLineRadius=3,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._tempNormal=d(),this._tempDir=d(),this._tempUp=d(),this._tempVec3A=d(),this._tempVec3B=d(),this._tempVec4=p(),this._tempPlane=q(),this._tempSphere=R(),this._params=C(t,z)}get renderSlots(){return[this._config.contrastControlEnabled?M.LASERLINES_CONTRAST_CONTROL:M.LASERLINES]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._heightManifoldTarget}set heightManifoldTarget(e){a(this._heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._pointDistanceTarget}set pointDistanceTarget(e){a(this._pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._pointDistanceOrigin}set pointDistanceOrigin(e){a(this._pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){E(e,this._lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._intersectsLineSegment}set intersectsLineSegment(e){E(e,this._intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._intersectsLineRadius}set intersectsLineRadius(e){e!==this._intersectsLineRadius&&(this._intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,t(this._pathVerticalPlaneData)&&this._requestRender())}set pathVerticalPlaneVertices(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new T(this._renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new T(this._renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){v(this._params,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=U(t),this._techniqueRepository=e.shaderTechniqueRepository,this._techniqueConfig=new w;const i=new A;i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(j,i)}uninitializeRenderContext(){this._quadVAO=n(this._quadVAO),this._technique=s(this._technique),this._pathVerticalPlaneData=n(this._pathVerticalPlaneData),this._pathTechnique=s(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._technique=this._techniqueRepository.releaseAndAcquire(I,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}render(e,t){const i=e.camera;x(i.projectionMatrix,i.fullWidth,i.fullHeight,this._projInfo,this._zScale),(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e)}_renderUnified(e,t){const i=e.rctx,n=i.useTechnique(t);this._bindGlobalUniforms(e,n),this._bindHeightManifoldUniforms(e,n),this._bindPointDistanceUniforms(e,n),this._bindLineVerticalPlaneUniforms(e,n),this._bindIntersectsLineUniforms(e,n),t.bind(this._params,e.camera),i.bindVAO(this._quadVAO),i.drawArrays(O.TRIANGLE_STRIP,0,4)}_renderPath(e){if(i(this._pathVerticalPlaneData)||i(this._pathTechnique))return;const t=e.rctx,n=this._pathTechnique,s=t.useTechnique(n);this._bindGlobalUniforms(e,s),n.bind(this._params,this._pathVerticalPlaneData.origin,e.camera),this._pathVerticalPlaneData.draw(e.rctx)}_bindHeightManifoldUniforms(e,t){if(!this.heightManifoldEnabled)return;const i=this._tempVec3A,n=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,i),N(n,this._heightManifoldTarget,i,e.camera.viewMatrix),t.setUniform4fv(\"heightPlane\",n)}_bindPointDistanceUniforms(e,t){if(!this._pointDistanceEnabled)return;const i=e.camera,n=this._tempSphere;a(n,this._pointDistanceOrigin),h(n,n,i.viewMatrix),n[3]=l(this._pointDistanceOrigin,this._pointDistanceTarget),t.setUniform4f(\"pointDistanceSphere\",n[0],n[1],n[2],n[3])}_bindLineVerticalPlaneUniforms(e,t){if(!this._lineVerticalPlaneEnabled)return;const i=this._renderCoordsHelper,n=e.camera,s=this._tempPlane,r=this._tempVec3A,l=this._tempUp,d=this._tempDir,m=this._tempNormal;L(this._lineVerticalPlaneSegment,.5,r),i.worldUpAtPosition(r,l),o(d,this._lineVerticalPlaneSegment.vector),c(m,l,d),o(m,m),N(s,this._lineVerticalPlaneSegment.origin,m,n.viewMatrix),t.setUniform4fv(\"lineVerticalPlane\",s);const p=this._tempVec3A;a(p,this._lineVerticalPlaneSegment.origin),i.setAltitude(p,0),h(p,p,n.viewMatrix),t.setUniform3fv(\"lineVerticalStart\",p);const f=this._tempVec3B;_(f,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector),i.setAltitude(f,0),h(f,f,n.viewMatrix),t.setUniform3fv(\"lineVerticalEnd\",f)}_bindIntersectsLineUniforms(e,t){if(!this._intersectsLineEnabled)return;const i=G,n=F;if(this._intersectsLineInfinite){const t=e.camera;if(g(S(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),B),B.c0=-Number.MAX_VALUE,!V(t.frustum,B))return;u(B,i),b(B,n)}else a(i,this._intersectsLineSegment.origin),_(n,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);const s=this._tempVec3A;h(s,i,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineStart\",s);const r=this._tempVec4;a(r,this._intersectsLineSegment.vector),this._tempVec4[3]=0,m(this._tempVec4,this._tempVec4,e.camera.viewMatrix),h(n,n,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineEnd\",n),o(r,r),t.setUniform3f(\"intersectsLineDirection\",r[0],r[1],r[2]),t.setUniform1f(\"intersectsLineRadius\",this._intersectsLineRadius)}_bindGlobalUniforms(e,t){const i=e.camera;t.setUniform4fv(\"projInfo\",this._projInfo),t.setUniform2fv(\"zScale\",this._zScale),t.setUniform2fv(\"nearFar\",i.nearFar),this._heightManifoldEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin)),t.bindTexture(e.offscreenRenderingHelper.linearDepthTexture,\"depthMap\"),t.bindTexture(e.offscreenRenderingHelper.mainColorTexture,\"frameColor\")}_requestRender(){this._context&&this._context.requestRender()}}const B=f(),G=d(),F=d();export{k as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{g as n,f as a,k as l,o}from\"../../../../chunks/vec3.js\";import{c as h,f as _}from\"../../../../chunks/vec3f64.js\";import{g as d,c as p}from\"../../../../chunks/vec4.js\";import{f as u,a as c}from\"../../../../chunks/vec4f32.js\";import{create as f,fromRay as m,getStart as y,getEnd as g}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as x}from\"../../../../geometry/support/frustum.js\";import{create as w,fromPoints as b,pointAt as E}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as O}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as D}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as A}from\"./Object3DVisualElement.js\";import C from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as P}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as j}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class M extends A{constructor(t){super(t),this._ray=R(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=h(),this._end=_(1,0,0),this._width=1,this._color=u(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=u(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=T.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=P.OccludeAndTransparent,this._fadedExtensions=N,this.applyProps(t)}createExternalResources(){const e=new v(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateGeometry()})));const t=new D({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[h(),h()],i=this.extensionType===T.FADED;i&&t.push(h(),h());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=C.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this._updateVertices(e)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,n(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),a(this._end,e,this._end),O(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,l(this._start,e)||(n(this._start,e),O(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,l(this._end,e)||(n(this._end,e),O(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){d(e,this._color)||(p(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){d(e,this._innerColor)||(p(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!d(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?c(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,N),this.recreateGeometry()}_updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){t(this.object)&&this._updateVertices(this.object)}_updateVertices(e){const s=this._extensionType===T.FADED?this._updateLineSegmentFinite(S):this._updateLineSegmentInfinite(this._extensionType,S);this._updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}_updateLineSegmentFinite(e){return b(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(m(this._ray,G),e){case T.LINE:G.c0=-Number.MAX_VALUE;break;case T.RAY:case T.GROUND_RAY:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&o(G.ray.direction,G.ray.direction),this._extensionType===T.GROUND_RAY&&null!=t&&(G.c1=Math.abs(s-t));break}}if(!x(s.frustum,G))return b(this._start,this._end,t);const i=y(G,W),n=g(G,L);return b(i,n,t)}_updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(j.POSITION).data;if(this.extensionType===T.FADED){const e=E(t,-this.fadedExtensions.start,W);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=E(t,0,W);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=E(t,1,W);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=E(t,1+this.fadedExtensions.end,W);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=E(t,0,W);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=E(t,1,W);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const G=f(),W=h(),L=h(),S=w();var T;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(T||(T={}));const V=1/3,N={start:V,end:V};export{M as ExtendedLineVisualElement,T as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{g as i}from\"../../../../chunks/vec3.js\";import{c as n,a as s}from\"../../../../chunks/vec3f64.js\";import{create as r,fromValues as h,copy as a}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as c}from\"../../support/LaserLineRenderer.js\";import{d}from\"../../../../chunks/Laserlines.glsl.js\";class _ extends l{constructor(e){super(e.view),this._angleCutoff=d,this._style={},this._heightManifoldTarget=n(),this._heightManifoldEnabled=!1,this._intersectsLine=r(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this.renderer}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){e(t)?(i(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(t(e))return void(this.intersectsLine=null);const i=this.view.renderCoordsHelper.worldUpAtPosition(e,o);this.intersectsLine=h(e,i),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(t){e(t)?(a(t,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(t){this._lineVerticalPlaneSegment=e(t)?a(t):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(t){this._pointDistanceLine=e(t)?{origin:s(t.origin),target:s(t.target)}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||e(this._pointDistanceLine)||e(this._pathVerticalPlaneBuffers))?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){e(this.renderer)||(this.renderer=new c(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))}_syncStyle(){t(this.renderer)||(this.renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){t(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){t(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){t(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){t(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){t(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=e(this._pathVerticalPlaneBuffers)&&this.visible,e(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){t(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=e(this._lineVerticalPlaneSegment)&&this.visible,e(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){t(this.renderer)||(this.renderer.pointDistanceEnabled=e(this._pointDistanceLine)&&this.visible,e(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))}_disposeRenderer(){e(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)}}const o=n();export{_ as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as i}from\"./VisualElement.js\";import{UpdatePolicy as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class n extends i{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:o.SYNC});e.add(s);const r=new a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{n as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{createScreenPointArray as i}from\"../../../../core/screenUtils.js\";import{i as o,f as a,g as c,s as n,m as h}from\"../../../../chunks/vec2.js\";import{k as l,g as d,n as m,f as u,b as _}from\"../../../../chunks/vec3.js\";import{c as p,f}from\"../../../../chunks/vec3f64.js\";import{g,c as y}from\"../../../../chunks/vec4.js\";import{f as b}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as j}from\"./Object3DVisualElement.js\";import w from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as x}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as G}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class R extends j{constructor(t){super(t),this._handles=new e,this._location=p(),this._direction=f(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=b(1,0,1,1),this._renderOccluded=x.OccludeAndTransparent,this.applyProps(t)}get location(){return this._location}set location(e){l(this._location,e)||(d(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){l(this._direction,e)||(d(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){m(this._direction,u(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){g(e,this._color)||(y(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}createExternalResources(){const e=new O(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this._updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=w.createPolylineGeometry([p(),p()]),s=w.createPolylineGeometry([p(),p()]),i=t(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this._updateVertices(e)}forEachExternalMaterial(e){r(this._externalResources)&&e(this._externalResources.material)}_updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;s(e)||this._updateVertices(e)}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),_(P,this.location,this.direction),t.projectToScreen(P,v),o(v,a(v,v,V)),this._updateVertexAttributes(t,e,0,V,v,1),this._updateVertexAttributes(t,e,1,V,v,-1)}_updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],l=a.geometry.getMutableAttribute(G.POSITION).data,d=c(A,n(A,i[1]*o,i[0]*-o),this.offset+this.width/2),m=h(M,h(M,h(M,s,c(M,i,this.length/2)),d),d),u=h(k,m,c(k,i,-this.length));e.unprojectFromScreen(m,P),l[0]=P[0],l[1]=P[1],l[2]=P[2],e.unprojectFromScreen(u,P),l[3]=P[0],l[4]=P[1],l[5]=P[2],t.geometryVertexAttrsUpdated(a)}}const P=p(),V=i(),v=i(),A=i(),M=i(),k=i();export{R as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{UpdatePolicy as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ContentObjectType as o}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Object3D as c}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as i}from\"../../webgl-engine/lib/WebGLLayer.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{s.type===o.Geometry&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new i({isPickable:!1,updatePolicy:t.SYNC});e.add(s);const o=new c({castShadow:!1}),a=this.resourceFactory.createResources(o,s);a.forEach((s=>e.add(s))),e.add(o),s.add(o);const h=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:a,cameraHandle:h},this._syncVisible()}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{a as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as i}from\"../../../../core/maybe.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as n,c as a}from\"../../../../chunks/vec4.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as u}from\"../../../../geometry/projection.js\";import{expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as m}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as p}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import{createTexture as d,DEFAULT_SYMBOL_SIZE_RATIO as _}from\"../../layers/graphics/sdfPrimitives.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as y}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class S{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this.resources=new m({view:e.view,createResources:e=>this._createResources(e),recreateGeometry:(e,t)=>(e.geometry=this._recreateGeometry(t,e.material),r(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?r(this.resources)&&this.resources.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){n(e,this._color)||(a(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,r(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){n(e,this._outlineColor)||(a(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}_updateMaterial(){const e=this.resources.resources;i(e)||e.material.setParameters(this._materialParameters(e.texture.id))}_updateSizeAttribute(){const e=this.resources.resources,t=this.resources.object;if(i(e)||i(t))return;const r=e.geometry;if(i(r))return;const s=r.getMutableAttribute(y.SIZE).data,o=this.geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(t.geometryRecords[0])}_materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:z,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/b}_recreateGeometry(e,t){const i=this._createRenderGeometry();return r(i)&&e.addGeometry(i,t),i}_createResources(e){const t=d(this._primitive,this.preferredTextureSize),i=new v(this._materialParameters(t.id)),s=this._recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),r(this.geometry)&&e(this.geometry)}}}get preferredTextureSize(){return e(t(2*this.geometrySize),16,128)}calculateMapBounds(e){if(i(this.resources.resources)||i(this.resources.resources.geometry))return!1;const t=this.resources.resources.geometry.vertexAttributes.get(y.POSITION);return u(t.data,this.view.renderCoordsHelper.spatialReference,x,this.view.spatialReference),c(e,x),!0}_createRenderGeometry(){const e=this.geometry;if(i(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=p(e,r,g.fromElevationInfo(this.elevationInfo),t),n=s(h.get(),e.x,e.y,o),a=h.get();u(n,e.spatialReference,a,t.spatialReference);const l=this.geometrySize;return f.createPointGeometry(null,a,null,[l,l],[0,0,0,1])}}const b=_,z=[b/2,b/2,1-b/2,1-b/2],x=o();export{S as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{f as i,h as r}from\"../../../../chunks/mat4.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{i as a,n as o,f as l,g as n,b as u}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{c as d}from\"../../../../chunks/vec4.js\";import{f as c}from\"../../../../chunks/vec4f32.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as m}from\"./Object3DVisualElement.js\";import{Geometry as p}from\"../../webgl-engine/lib/Geometry.js\";import M from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as g}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as f}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as O}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as y}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class z extends m{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=h(),this._up=h(),this._right=h(),this._renderOccluded=g.OccludeAndTransparent,this._color=c(1,0,0,1),this._outlineColor=c(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=g.Opaque,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){d(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){d(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(a(t,e),a(t,i))/3,o(this._up,l(this._up,e,t)),o(this._right,l(this._right,i,t)),n(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new O(this.quadMaterialParameters),this._outlineMaterial=new y(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=u(_.get(),this._up,this._right),i=M.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const s=this.view.state.camera,a=this._size*s.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,a);i(j,this._position),r(j,j,[o,o,o]),t(e)&&(e.transformation=j)}_quadGeometryData(e,t){const i=u(_.get(),e,t);return new p([[f.POSITION,{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[f.POSITION,new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)}}const j=s();export{z as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{e as t}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as o,ExtensionType as r}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as a}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as l}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as s}from\"./visualElements/RightAngleQuadVisualElement.js\";import{RenderOccludedFlag as c}from\"../webgl-engine/lib/Material.js\";import{defaults as d}from\"../../interactive/snapping/Settings.js\";import{anyMapPointToRender as p,anyMapPointsToRenderWithEqualZ as m,LineSegmentHintType as u}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as v}from\"../../interactive/snapping/SnappingVisualizer.js\";class g extends v{visualizeIntersectionPoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new l({view:a,primitive:\"circle\",geometry:o.vectorToPoint(t.intersectionPoint),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(d.orange),pixelSnappingEnabled:!1}))}visualizePoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new l({view:a,primitive:\"circle\",geometry:o.vectorToPoint(t.point),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(d.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return n(this._createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,i,o,r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,o){const{coordinateHelper:r,elevationInfo:l,view:s}=o,m=p(i.lineStart,r,l,o.view),u=p(i.lineEnd,r,l,o.view),v=t(u,m,u,.5),g=new a({view:s,attached:!1,offset:d.parallelLineHintOffset,length:d.parallelLineHintLength,width:d.parallelLineHintWidth,color:e.toUnitRGBA(d.orange),location:v,renderOccluded:c.Opaque});return g.setDirectionFromPoints(m,v),g.attached=!0,n(g)}visualizeRightAngleQuad(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new s({view:a,attached:!0,color:e.toUnitRGBA(d.orange),renderOccluded:c.Transparent,outlineRenderOccluded:c.Opaque,outlineColor:e.toUnitRGBA(d.orange),outlineSize:d.rightAngleHintOutlineSize,size:d.rightAngleHintSize,geometry:{previous:p(t.previousVertex,o,r,a),center:p(t.centerVertex,o,r,a),next:p(t.nextVertex,o,r,a)}}))}_createLineSegmentHintFromMap(e,n,t,o,r,a,l=!0,s=!0){const c=i(),d=i();return m(n,t,o,r,a,c,d),this._createLineSegmentHint(e,a,c,d,l,s)}_createLineSegmentHint(n,t,i,a,l=!0,s=!0){const p=new o({view:t,extensionType:r.FADED,start:i,end:a,color:e.toUnitRGBA(d.orange),renderOccluded:c.Opaque});switch(n){case u.TARGET:p.width=d.lineHintWidthTarget,p.fadedExtensions={start:0,end:d.lineHintFadedExtensions};break;case u.REFERENCE_EXTENSION:p.width=d.lineHintWidthReference,p.fadedExtensions={start:0,end:0};break;case u.REFERENCE:p.width=d.lineHintWidthReference,p.fadedExtensions={start:l?d.lineHintFadedExtensions:0,end:s?d.lineHintFadedExtensions:0}}return p.attached=!0,p}}export{g as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as e,toRGB as i}from\"../../../../core/colorUtils.js\";import{d as l}from\"../../../../chunks/vec4f64.js\";import{ExtensionType as o}from\"../visualElements/ExtendedLineVisualElement.js\";import{RenderOccludedFlag as s}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as n}from\"../../webgl-engine/materials/lineStippleUtils.js\";const r={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},h=.3;function c(t,e){const i=t.clone();return i.a*=e,i}function a(t,l){const o=t.clone(),s=e(o);s.s*=l;const n=i(s);return o.r=n.r,o.g=n.g,o.b=n.b,o}function d(t,e){if(e)for(const i in e)t[i]=e[i]}class u{constructor(t){this.color=r.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=s.Opaque,d(this,t)}}class p{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=r.main,this.outlineColor=r.outline,this.renderOccluded=s.Opaque,this.hoverOutlineColor=r.selectedOutline,d(this,t)}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:\"color\"!==t||i.a<1,renderOccluded:this.renderOccluded})}}class g{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=c(r.main,.5),this.hoverColor=r.main,this.renderOccluded=s.Transparent,this.minSquaredEdgeLength=900,d(this,t)}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class f{constructor(t){this.vertex=new p({color:r.main,outlineColor:r.outline}),this.edge=new p({color:a(c(r.main,2/3),.5),outlineColor:c(r.outline,.5),size:8,collisionPadding:8}),this.selected=new p({color:r.selected,outlineColor:r.outline}),this.edgeOffset=new g,d(this,t)}}class w{constructor(t){this.color=r.selected,this.width=1.5,this.stipplePattern=n(5),this.stippleOffColor=r.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=r.selected,this.renderOccluded=s.OccludeAndTransparent,d(this,t)}apply(t){t.color=P(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=P(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=P(this.innerColor),t.renderOccluded=this.renderOccluded}}class C{constructor(t){this.color=r.selected,this.size=4,this.outlineSize=1,this.outlineColor=r.outline,this.shape=\"square\",d(this,t)}apply(t){t.color=P(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=P(this.outlineColor),t.primitive=this.shape}}class m{constructor(t){this.innerColor=r.selected,this.innerWidth=1,this.glowColor=r.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=h,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=r.main,d(this,t)}apply(e,i=1){const l={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in e?e.style=l:e.laserlineStyle=l}}class O{constructor(t){this.outline=new w({color:r.outline,renderOccluded:s.OccludeAndTransparentStencil,stippleOffColor:r.selected,stipplePattern:n(5),width:1.5,innerWidth:0}),this.staged=new w({color:r.selected,renderOccluded:s.OccludeAndTransparentStencil,innerColor:r.staged,stippleOffColor:r.outline,stipplePattern:n(5),width:1.5}),this.shadowStyle=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),d(this,t)}}class A{constructor(t){this.outline=new C({color:r.selected,outlineColor:r.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new m({globalAlpha:h,glowColor:r.main,glowFalloff:1.5,glowWidth:6,innerColor:r.selected,innerWidth:1,radius:2}),d(this,t)}}class W extends w{constructor(t){super(),this.extensionType=o.GROUND_RAY,d(this,t)}}class b{constructor(t){this.lineGraphics=new O,this.pointGraphics=new A,this.heightPlane=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),this.heightBox=new m({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:0,heightFillColor:r.main}),this.zVerticalLine=new W({color:c(r.main,5*h/3),falloff:2,innerColor:c(r.selected,0),renderOccluded:s.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:o.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,d(this,t)}}class z{constructor(t){this.visualElements=new b,this.reshapeManipulators=new f,this.zManipulator=new u,d(this,t)}colorToVec4(t){return P(t)}}function P(e){return l(t.toUnitRGBA(e))}const y=new z;export{p as VertexManipulatorStyle,r as colors,y as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{isSome as t,isNone as o}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DrapeSourceType as a}from\"../../layers/interfaces.js\";import{UpdatePolicy as u}from\"../../webgl-engine/lib/basicInterfaces.js\";import{ModelDirty as n}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";class h{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return t(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?o(this._resources)||(this._ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?o(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new d({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(o(this._resources))return;this._ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){var e;if(o(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,n.Geometry.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(o(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,n.Geometry.UPDATE),this._resources.geometriesAdded=!0}}let d=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=a.Features,this.updatePolicy=u.SYNC}};e([i({constructOnly:!0})],d.prototype,\"view\",void 0),e([i({readOnly:!0})],d.prototype,\"drapeSourceType\",void 0),d=e([c(\"DrapedVisualElementLayerView\")],d);export{h as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import{isSome as t,unwrap as r,isNone as s}from\"../../../../core/maybe.js\";import{s as i,b as a,a as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h,s as c}from\"../../../../chunks/vec4.js\";import{f as d,a as u}from\"../../../../chunks/vec4f32.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{create as m,empty as f,expandWithBuffer as _}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as g}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationMode as y}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{DrapedVisualElementResources as O}from\"./DrapedVisualElementResources.js\";import{LaserlineVisualElement as w}from\"./LaserlineVisualElement.js\";import{VisualElementResources as C}from\"./VisualElementResources.js\";import{ElevationContext as b}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfoDraped as R,RemoveDuplicateStartEnd as E,createGeometry as D,geometryToRenderInfo as P}from\"../../layers/graphics/lineUtils.js\";import{computeAttachmentOriginLines as j}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{RenderOccludedFlag as I}from\"../../webgl-engine/lib/Material.js\";import{RenderGeometry as A}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as G}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class S{constructor(t){this.view=null,this._attachmentOrigin=g(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new e,this._isDraped=!1,this._geometry=null,this._width=1,this._color=d(1,0,1,1),this._innerWidth=0,this._innerColor=d(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=I.OccludeAndTransparentStencil,this.resources=new C({view:t.view,createResources:e=>this._createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this._recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=t.view.spatialReference,this.drapedResources=new O({view:t.view,createResources:()=>this._createDrapedResources(),recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this._attachmentOriginChanged()}});let r=!0;this._laserline=new w({view:t.view});for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this._updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&t(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this._updateAttached(e)}_updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this._attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){l(e,this._innerColor)||(h(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const r=t(e)!==t(this._stipplePattern);this._stipplePattern=e,r?this.resources.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&l(e,this._stippleOffColor)||(this._stippleOffColor=e?u(e):null,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this.laserlineAttached,t(e)&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=t(this.resources.resources)?this.resources.resources.geometries:null;if(!e||0===e.length)return null;i(V,0,0,0);let s=0;for(const t of e){const e=t.vertexAttributes.get(G.POSITION),i=t.indices.get(G.POSITION),n=r(this.resources.resources).material.isClosed(e.data,i);j(e,i,n,W)&&(a(V,V,W),s++)}return 0===s?null:(n(V,V,1/s),this.view.renderCoordsHelper.fromRenderCoords(V,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}_updateMaterial(){t(this.resources.resources)&&this.resources.resources.material.setParameters(this.materialParameters),t(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameters(this.materialParameters)}get isClosed(){return t(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===I.OccludeAndTransparentStencil?I.OccludeAndTransparent:this._renderOccluded}_recreateGeometry(e,t,r){const s=this._createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this._attachmentOriginChanged()}_attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}_createResources(e){const t=new M(this.materialParameters),r=[];return this._recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_createDrapedResources(){const e=new M(this.materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const t=this.geometry;if(s(t))return[];const r=R(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:s}of r.lines){const t={overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:s},removeDuplicateStartEnd:this.isClosed?E.REMOVE:E.KEEP},r=new A(D(t),e),a=f(T);_(a,s),c(r.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(r)}return i}calculateMapBounds(e){if(s(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(G.POSITION),i=new Float64Array(s.data.length);p(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),_(e,i)}return!0}_createRenderGeometries(){var e;const t=this.geometry;if(s(t))return[];const r=P(t,this.view.elevationProvider,this.view.renderCoordsHelper,b.fromElevationInfo(null!=(e=this.elevationInfo)?e:new v({mode:y(t,null)}))),i=[],a=[];for(const{position:s,mapPosition:n}of r.lines){const e={overlayInfo:null,attributeData:{position:s,mapPosition:n},removeDuplicateStartEnd:this.isClosed?E.REMOVE:E.KEEP};i.push(D(e)),a.push(s)}return this._laserline.pathVerticalPlane=a,i}}const T=m(),W=o(),V=o();export{S as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{c as e}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{bindSliceUniformsWithOrigin as o}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as s}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as a,bindView as n,bindCameraPosition as l}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as p}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as d}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as c,ShaderTechniqueConfiguration as h}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as m,TransparencyPassType as u}from\"../lib/basicInterfaces.js\";import{blendingDefault as b,oitBlending as g,oitDepthWrite as f,OITPolygonOffset as v}from\"../lib/OrderIndependentTransparency.js\";import{Program as E}from\"../lib/Program.js\";import{VertexAttribute as T}from\"../lib/VertexAttribute.js\";import{S as y}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as S}from\"../../../webgl/enums.js\";import{makePipelineState as j,cullingParams as P,defaultDepthWriteParams as w,defaultColorWriteParams as C}from\"../../../webgl/renderState.js\";class O extends d{initializeProgram(r){const e=O.shader.get(),i=this.configuration,t=e.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,oitEnabled:i.transparencyPassType===u.Color,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new E(r.rctx,t,N)}bindPass(r,e){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=r;a(this.program,e.camera.projectionMatrix),this.program.setUniform4fv(\"uColor\",n),e.multipassTerrainEnabled&&(this.program.setUniform2fv(\"nearFar\",e.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",e.inverseViewport),s(this.program,e)),o&&(this.program.setUniform4fv(\"shadedColor\",this._blendColor(F,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix)),t&&i(this.program,r,e)}bindDraw(r){n(this.program,r),l(this.program,r.origin,r.camera.viewInverseTransposeMatrix),o(this.program,this.configuration,r),this.program.rebindTextures()}_blendColor(r,e,i){const t=1-e[3],o=e[3]+i[3]*t;return 0===o?(r[3]=o,r):(r[0]=(e[0]*e[3]+i[0]*i[3]*t)/o,r[1]=(e[1]*e[3]+i[1]*i[3]*t)/o,r[2]=(e[2]*e[3]+i[2]*i[3]*t)/o,r[3]=i[3],r)}_setPipelineState(r){const e=this.configuration,i=r===u.NONE,o=r===u.FrontFace;return j({blending:e.output!==t.Color&&e.output!==t.Alpha||!e.transparent?null:i?b:g(r),culling:P(e.cullFace),depthTest:{func:o?S.LESS:e.shadingEnabled?S.LEQUAL:S.LESS},depthWrite:i?e.writeDepth&&w:f(r),colorWrite:C,polygonOffset:i||o?null:v})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}O.shader=new p(y,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class x extends h{constructor(){super(...arguments),this.output=t.Color,this.cullFace=m.None,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=u.NONE,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}r([c({count:t.COUNT})],x.prototype,\"output\",void 0),r([c({count:m.COUNT})],x.prototype,\"cullFace\",void 0),r([c()],x.prototype,\"slicePlaneEnabled\",void 0),r([c()],x.prototype,\"transparent\",void 0),r([c()],x.prototype,\"writeDepth\",void 0),r([c()],x.prototype,\"screenSizeEnabled\",void 0),r([c()],x.prototype,\"shadingEnabled\",void 0),r([c({count:u.COUNT})],x.prototype,\"transparencyPassType\",void 0),r([c()],x.prototype,\"multipassTerrainEnabled\",void 0),r([c()],x.prototype,\"cullAboveGround\",void 0);const N=new Map([[T.POSITION,0],[T.NORMAL,1],[T.OFFSET,2]]),F=e();export{O as ShadedColorMaterialTechnique,x as ShadedColorMaterialTechniqueConfiguration,N as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as l}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{CullFaceOptions as c}from\"../lib/basicInterfaces.js\";import h from\"../lib/GLMaterial.js\";import{outputFromPass as p}from\"../lib/GLMaterials.js\";import{DefaultMaterialParameters as f,Material as m}from\"../lib/Material.js\";import{RenderSlot as d}from\"../lib/RenderSlot.js\";import{assert as b}from\"../lib/Util.js\";import{VertexAttribute as E}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as g,writePosition as T}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as S}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as A,ShadedColorMaterialVertexAttrLocations as P,ShadedColorMaterialTechnique as v}from\"../shaders/ShadedColorMaterialTechnique.js\";class F extends m{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new A,this._vertexAttributeLocations=P}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.parameters}intersect(e,s,o,u,l,c,h){if(this.parameters.screenSizeEnabled){const o=e.vertexAttributes.get(E.OFFSET),p={applyToVertex:(e,s,a,n)=>{const l=t(j,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),c=t(x,e,s,a);return r(l,l,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(l)),i(c,c,l),[c[0],c[1],c[2]]},applyToAabb:e=>{const t=a(e,j);return n(e,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(t))}};S(e,s,u,l,c,p,h)}else S(e,s,u,l,c,void 0,h)}requiresSlot(e,t){if(p(t)===l.Highlight)return e===d.OPAQUE_MATERIAL;let r=d.OPAQUE_MATERIAL;return this.parameters.transparent&&(r=this.parameters.writeDepth?d.TRANSPARENT_MATERIAL:d.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===r||e===d.DRAPED_MATERIAL}createGLMaterial(e){return e.output===l.Color||e.output===l.Alpha||e.output===l.Highlight?new q(e):null}createBufferWriter(){return new O(this.parameters.screenSizeEnabled)}}class q extends h{updateParameters(e){return this.ensureTechnique(v,e)}beginSlot(e){return this.updateParameters(e)}bind(e,t){t.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(s(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:c.None,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class O{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(E.POSITION).vec3f(E.NORMAL);this.screenSizeEnabled&&t.vec3f(E.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(E.POSITION).length}write(e,t,r,i){if(g(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(E.OFFSET))throw new Error(`${E.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttributes.get(E.OFFSET),a=t.indices.get(E.OFFSET);b(3===s.size);const n=r.getField(E.OFFSET,o);if(!n)throw new Error(\"unable to acquire view for \"+E.OFFSET);T(a,s.data,e.invTranspTransformation,n,i)}}}}const j=s(),x=s();export{F as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import{settings as a}from\"../editingTools/settings.js\";import{Object3DVisualElement as o}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{CullFaceOptions as c}from\"../../webgl-engine/lib/basicInterfaces.js\";import h from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as u}from\"../../webgl-engine/lib/Material.js\";import{ShadedColorMaterial as d}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class p extends o{constructor(e){super(e),this.view=null,this._renderOccluded=u.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=a.colorToVec4(a.reshapeManipulators.vertex.color),this._size=a.reshapeManipulators.vertex.size,this._outlineColor=a.colorToVec4(a.reshapeManipulators.vertex.outlineColor),this._outlineSize=a.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}_updateMaterial(){this.attached&&this.vertexMaterial.setParameters(this.vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameters(this.vertexOutlineMaterialParameters)}_createRenderGeometries(){const r=this.vertices;if(e(r)||0===r.length)return[];const i=.5,s=.5,a=n(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),o=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=t(m,h[3*e+0],h[3*e+1],h[3*e+2]),a=v(i,r),l=v(s,r);o.push({vertexGeometry:a,vertexOutlineGeometry:l})}return o}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new d({...this.vertexMaterialParameters,writeDepth:!0,cullFace:c.Back,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new d({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:c.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const m=r();function v(e,t){return h.createSphereGeometry(e,16,16,{offset:t})}export{p as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([s({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([s()],e.prototype,\"tracking\",void 0),r([s()],e.prototype,\"displaying\",void 0),r([s()],e.prototype,\"isDraped\",void 0),e=r([t(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{handlesGroup as t,makeHandle as i}from\"../../../../../core/handleUtils.js\";import{isSome as s,destroyMaybe as r}from\"../../../../../core/maybe.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{getEffectiveElevationMode as o}from\"../../../../../support/elevationInfoUtils.js\";import c from\"../../../../../symbols/support/ElevationInfo.js\";import{SnappingVisualizer3D as h}from\"../../SnappingVisualizer3D.js\";import{settings as p}from\"../settings.js\";import{OutlineVisualElement as u}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as m}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as v}from\"../../../layers/graphics/GraphicState.js\";import{DrawGraphicTool as d,geometryTypeToDrawOperationGeometryType as f}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as V}from\"../../../../draw/DrawOperation.js\";import{SceneDrawSurface as w,ElevationDrawSurface as E}from\"../../../../draw/drawSurfaces.js\";let y=class extends d{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const{mode:e,offset:t}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new c({mode:e,offset:t})}normalizeCtorArgs(e){if(!e.elevationInfo){var t;const i=null==(t=e.hasZ)||t;return{...e,elevationInfo:{mode:i?\"absolute-height\":\"on-the-ground\",offset:0}}}return e}initializeGraphic(e){return this._createGraphicState=new v({graphic:e}),t([this.view.maskOccludee(e),this.view.trackGraphicState(this._createGraphicState),a(this._createGraphicState,\"isDraped\",(e=>{s(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))])}makeDrawOperation(){return new V({view:this.view,manipulators:this.manipulators,geometryType:f(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new w(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new E(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new h})}onActiveVertexChanged(e){return s(this._activeVertexVisualElement)?(this._activeVertexVisualElement.vertices=[e],null):(this._activeVertexVisualElement=new m({view:this.view,spatialReference:this.view.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:p.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._activeVertexVisualElement.color=p.colorToVec4(p.reshapeManipulators.selected.color),this._activeVertexVisualElement.attached=!0,i((()=>{this._activeVertexVisualElement=r(this._activeVertexVisualElement)})))}onOutlineChanged(e){if(s(this._outlineVisualElement))return this._outlineVisualElement.geometry=e,null;const t=this.internalGraphicsLayer.elevationInfo;return this._outlineVisualElement=new u({view:this.view,geometry:e,elevationInfo:t,isDraped:s(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===o(this.hasZ,t),attached:!1}),p.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),p.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0,i((()=>{this._outlineVisualElement=r(this._outlineVisualElement)}))}onRegularVerticesChanged(e){return s(this._verticesVisualElement)?(this._verticesVisualElement.vertices=e,null):(this._verticesVisualElement=new m({view:this.view,spatialReference:this.view.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:p.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0,i((()=>{this._verticesVisualElement=r(this._verticesVisualElement)})))}};e([n({constructOnly:!0})],y.prototype,\"elevationInfo\",void 0),e([n({constructOnly:!0})],y.prototype,\"geometryType\",void 0),e([n({readOnly:!0})],y.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],y.prototype,\"view\",void 0),y=e([l(\"esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D\")],y);export{y as DrawGraphicTool3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{sv3d as i}from\"../../../../geometry/support/vectorStacks.js\";function s(e,n,o){return u(e,e.screenToRender(n,r(i.get())),o)}function u(t,c,s){const u=r(n(i.get(),c));if(u[2]=0,!t.unprojectFromRenderScreen(u,s.origin))return null;const m=r(n(i.get(),c));m[2]=1;const g=t.unprojectFromRenderScreen(m,i.get());return e(g)?null:(o(s.direction,g,s.origin),s)}function m(e,n,o){return g(e,e.screenToRender(n,r(i.get())),o)}function g(r,n,s){t(s.origin,r.eye);const u=c(i.get(),n[0],n[1],1),m=r.unprojectFromRenderScreen(u,i.get());return e(m)?null:(o(s.direction,m,s.origin),s)}export{u as fromRender,g as fromRenderAtEye,s as fromScreen,m as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as n,unwrap as r}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as b}from\"../../../chunks/mat4f64.js\";import{a as v}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as A,Z as E}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeENUToSphericalPCPFLocalRotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as I}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as P}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as U,intersectRay as V}from\"../../../geometry/support/plane.js\";import{create as N}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as H}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as Y}from\"../support/ElevationProvider.js\";import{fromScreen as Z}from\"../support/geometryUtils/ray.js\";import q from\"../webgl-engine/lib/Camera.js\";import{Object3D as J}from\"../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as K}from\"../webgl-engine/lib/basicInterfaces.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as X,ManipulatorStateFlags as $}from\"../../interactive/interfaces.js\";import ee from\"../../../geometry/Point.js\";class te{constructor(e){this.camera=new q,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=b(),this._worldFrame=null,this._renderLocation=A(),this._renderLocationDirty=!0,this._location=new ee({x:0,y:0,z:0}),this._elevationAlignedLocation=new ee,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=X.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){ie(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=b()),se(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){H(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){H(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(ie(this._modelTransform)){const t=this._calculateModelTransformOffset(fe);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,oe),n=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(v(this.screenLocation.screenPointArray,s)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,le),a=n*this.screenLocation.pixelSize,c=Z(this.camera,s,re);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(de,s[0],i);for(let t=1;t<s.length;t++){const o=L(ue,s[t],i),n=B(x(e,o,ne),c);if(null!=n&&n<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:E,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,le),l=n*this.screenLocation.pixelSize,h=Z(this.camera,s,re);if(o(h))return null;const d=u(ae,c),_=j(ge,e,d),g=L(me,t,c);U(g,_,he);const m=_e;if(V(he,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,le),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=Z(this.camera,s,re);if(o(l))return null;const d=u(ae,a),_=j(ge,t,d),g=this._calculateModelTransformPosition(me);U(g,_,he);const m=_e;if(!V(he,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(de,s[0],a);for(let t=1;t<s.length;t++){const i=L(ue,s[t],a),o=C(x(e,i,ne),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this.camera.projectToRenderScreen(t,s),s[2]+r}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:K.SYNC});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new ee({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,pe,e.spatialReference),P(e.extent,pe)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=n(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=n(Y(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=n(Y(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=n(Y(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=le;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?$.Focused:$.Unfocused)|(this.selected?$.Selected:$.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.setVisible(!1);continue}const e=(n&$.All)!==$.None,i=(n&X.All)!==X.None,a=!e||(s&n)==(n&$.All),c=!i||(this.state&n)==(n&X.All);if(a&&c)for(const s of r)s.setVisible(!0),s.transformation=t;else for(const t of r)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=r(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new J({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n)}));const n=[];o.forEach(((e,t)=>n.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:n,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=r(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources)||!this.view._stage)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=r(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ce);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function ie(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function se(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=I(e.renderCoordsHelper.spatialReference);return z(t,0,de,0,o.radius),k(i(de[0]),i(de[1]),s),!0}}}const oe=a(),ne=M(),re=N(),ae=_(),ce=b(),le=b(),he=W(),de=A(),ue=A(),_e=A(),ge=A(),me=A(),fe=A(),pe=new ee({x:0,y:0,z:0,spatialReference:null});export{te as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as a,n as c}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as p}from\"./Manipulator3D.js\";import{computeCentroid as u}from\"../layers/graphics/graphicUtils.js\";import{CullFaceOptions as g}from\"../webgl-engine/lib/basicInterfaces.js\";import f from\"../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as h}from\"../webgl-engine/lib/Material.js\";import{ColorMaterial as d}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function w(e,t=h.OccludeAndTransparent,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new j({color:n,transparent:o,writeDepth:!0,cullFace:g.Back,renderOccluded:t}):new d({color:n,transparent:o,writeDepth:!0,cullFace:g.Back,renderOccluded:t})}function b(e,t=h.OccludeAndTransparent){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new d({color:r,transparent:!0,writeDepth:!0,cullFace:g.Front,renderOccluded:t})}function y(e,t,r){return new p({view:e,renderObjects:[{geometry:f.createSphereGeometry(1,32,32),material:w(i(t[0],t[1],t[2],null!=r?r:1))}]})}function O(e,t,c,i){const m=n(s.get(),e,c),p=k(m,o(s.get(),i,m),c,l.get());r(p,p);const u=a(s.get(),t,p);return Math.atan2(u[1],u[0])}function k(e,t,r,n){const a=c(s.get(),e),i=c(s.get(),t),l=o(s.get(),a,i);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function F(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=F(t,n);e(o)?r.elevationAlignedLocation=o:A(r,n.geometry)}function A(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:u(r);t(n)||(e.location=m(n))}export{O as calculateInputRotationTransform,k as calculateTranslateRotateFromBases,w as createManipulatorMaterial,b as createManipulatorOutlineMaterial,y as createSphereManipulator,F as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar N;!function(N){N[N.NONE=0]=\"NONE\",N[N.ANY=1]=\"ANY\",N[N.Z=2]=\"Z\",N[N.XY=4]=\"XY\"}(N||(N={}));export{N as GrabbingState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.TRANSLATE_Z=0]=\"TRANSLATE_Z\",A[A.TRANSLATE_XY=1]=\"TRANSLATE_XY\",A[A.SCALE=2]=\"SCALE\",A[A.ROTATE=3]=\"ROTATE\",A[A.SCALE_ROTATE=4]=\"SCALE_ROTATE\"}(A||(A={}));export{A as ManipulatorType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";import{GrabbingState as e}from\"./GrabbingState.js\";import{ManipulatorType as r}from\"./ManipulatorType.js\";class a{constructor(){this.grabbingState=e.NONE,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(a){this.grabbingState=e.NONE,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,a.forEachManipulator(((a,s)=>{if(s===r.TRANSLATE_Z&&(this.zManipulator=a),a instanceof i&&(a.selected&&(0===this.numSelected&&(this.firstSelected=a),this.numSelected++),t(this.firstGrabbedXY)&&a.grabbing&&s===r.TRANSLATE_XY&&(this.firstGrabbedXY=a)),a.grabbing)switch(this.grabbingState|=e.ANY,s){case r.TRANSLATE_Z:this.grabbingState|=e.Z;break;case r.TRANSLATE_XY:this.grabbingState|=e.XY}}))}}export{a as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as a}from\"../../../../core/handleUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{s as l,b as r,a as o}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{Manipulator3D as p}from\"../Manipulator3D.js\";import{GrabbingState as m}from\"./GrabbingState.js\";import{ManipulatorState as h}from\"./ManipulatorState.js\";import{ManipulatorType as u}from\"./ManipulatorType.js\";import{settings as d}from\"./settings.js\";import{ExtendedLineVisualElement as g}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as f}from\"../visualElements/LaserlineVisualElement.js\";import{OutlineVisualElement as v}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as y}from\"../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as E}from\"../../webgl-engine/lib/Material.js\";function w(t){const{view:a,graphic:n}=t,i=new y({graphic:n}),l=b(t,i),r=[l,j(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>e(r).remove()}}function b(a,n){const{view:i,graphic:l}=a,r=new v({view:i,geometry:G(l)?l.geometry:null,elevationInfo:c(l),attached:!1});d.visualElements.lineGraphics.shadowStyle.apply(r);const o=()=>{r.attached=n.displaying};d.visualElements.lineGraphics.outline.apply(r);const s=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>r.isDraped=e)),n.on(\"changed\",(()=>r.geometry=G(l)?l.geometry:null)),t(r)];return o(),{visualElement:r,remove:()=>e(s).remove()}}function j(i,l,r){const{graphic:o,view:s}=i,p=[],u=c(o),v=\"on-the-ground\"===u.mode||!u.offset&&\"absolute-height\"!==u.mode,y=new h,w=new g({view:s,extensionType:d.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:E.OccludeAndTransparent});d.visualElements.pointGraphics.shadowStyle.apply(w);const b=n(d.visualElements.heightPlaneAngleCutoff),j=new f({view:s,attached:!1,angleCutoff:b});d.visualElements.heightPlane.apply(j);let L=1,T=1;const A=()=>{if(y.update(i),!r.displaying||v&&(r.isDraped||!G(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,w.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=y.grabbingState&m.XY?d.visualElements.laserlineAlphaMultiplier:1;e!==L&&(L=e,d.visualElements.lineGraphics.shadowStyle.apply(l,e),d.visualElements.pointGraphics.shadowStyle.apply(w,e))}{const e=y.grabbingState&m.Z?d.visualElements.laserlineAlphaMultiplier:1;e!==T&&(T=e,d.visualElements.heightPlane.apply(j,e))}S(w,y),M(i,l,j,y)};d.visualElements.zVerticalLine.apply(w),p.push(r.on(\"changed\",A),r.watch(\"displaying\",A),l.events.on(\"attachment-origin-changed\",A),t(w),t(j));const D=[],C=()=>{e(D).remove(),D.length=0,i.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",A)))),i.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",A)))),A()};return C(),p.push(i.onManipulatorsChanged(C),a((()=>e(D)))),e(p)}function S(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&i(t.firstGrabbedXY)?t.firstGrabbedXY:null;i(a)?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function M(e,t,a,n){if(n.numSelected>0){l(L,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{a===u.TRANSLATE_XY&&e.selected&&e instanceof p&&(r(L,L,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=o(L,L,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;i(n)&&e.view.renderCoordsHelper.toRenderCoords(n,L)?(a.heightManifoldTarget=L,a.attached=!0):a.attached=!1}}function G(e){return i(e.geometry)&&(\"polygon\"===e.geometry.type||\"polyline\"===e.geometry.type)}const L=s();export{b as createGeometryRepresentationVisualElement,w as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as o,isSome as a}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{containsXY as d}from\"../../../../geometry/support/aaBoundingRect.js\";import{getGraphicEffectiveElevationInfo as f}from\"../../../../support/elevationInfoUtils.js\";import{GrabbingState as g}from\"./GrabbingState.js\";import{ManipulatorState as v}from\"./ManipulatorState.js\";import{settings as y}from\"./settings.js\";import{ExtendedLineVisualElement as E}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as j}from\"../visualElements/LaserlineVisualElement.js\";import{PointVisualElement as w}from\"../visualElements/PointVisualElement.js\";import{evaluateElevationAlignmentAtPoint as b}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as S}from\"../../layers/graphics/ElevationContext.js\";import{GraphicState as x}from\"../../layers/graphics/GraphicState.js\";import{RenderOccludedFlag as A}from\"../../webgl-engine/lib/Material.js\";function L(t){const{view:n,graphic:i}=t,o=new x({graphic:i}),a=[],r=P(t,o,a);return M(t,o,a,r),a.push(n.trackGraphicState(o)),{visualElement:r,remove(){e(a).remove()}}}function M(e,n,r,l){const{view:c,graphic:m}=e,d=new E({view:c,extensionType:y.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:A.OccludeAndTransparent});y.visualElements.zVerticalLine.apply(d);const w=new j({view:c,intersectsLineInfinite:!0,attached:!1});y.visualElements.pointGraphics.shadowStyle.apply(w);const x=i(y.visualElements.heightPlaneAngleCutoff),L=new j({view:c,attached:!1,angleCutoff:x});y.visualElements.heightPlane.apply(L);const M=f(e.graphic),P=S.fromElevationInfo(M),G=\"on-the-ground\"===M.mode||!M.offset&&\"absolute-height\"!==M.mode,R=new v;let U=1,B=1;const I=()=>{R.update(e);const t=C(m),i=G&&(n.isDraped||o(t)||!t.hasZ);let r=!0;if(!i&&a(t)){const e=b(t,c.elevationProvider,P,c.renderCoordsHelper);s(D,t.x,t.y,e),p(D,t.spatialReference,D,c.renderCoordsHelper.spatialReference),d.setStartEndFromWorldDownAtLocation(D),w.intersectsWorldUpAtLocation=D}else r=!1;const f=R.grabbingState&g.Z?y.visualElements.laserlineAlphaMultiplier:1;f!==U&&(U=f,y.visualElements.heightPlane.apply(L,f));const v=h(V);!i&&n.displaying&&l.calculateMapBounds(v)&&p(u(v,D),c.spatialReference,D,c.renderCoordsHelper.spatialReference)?(L.heightManifoldTarget=D,L.attached=!0):L.attached=!1;const E=R.grabbingState&g.XY?y.visualElements.laserlineAlphaMultiplier:1;E!==B&&(B=E,y.visualElements.pointGraphics.shadowStyle.apply(w,E));const j=r&&n.displaying&&!i;w.attached=j,d.attached=j};r.push(n.watch([\"displaying\",\"isDraped\"],I),n.on(\"changed\",I)),e.forEachManipulator((e=>{r.push(e.events.on(\"grab-changed\",I))})),r.push(t(w)),r.push(t(d)),r.push(t(L)),I()}function P(e,n,i){const{view:o,graphic:a}=e,r=new w({view:o,geometry:C(a),elevationInfo:f(a),attached:!1});return G(e,r,n,i),i.push(t(r)),r}function C(e){const t=e.geometry;return o(t)?null:\"point\"===t.type?t:\"mesh\"===t.type?t.anchor.clone():null}function G(e,t,n,i){const o=()=>t.attached=n.displaying;R(e,t,n,i),y.visualElements.pointGraphics.outline.apply(t),i.push(r(n,\"displaying\",o))}function R(e,t,i,o){const{view:r,graphic:s}=e;let l=null;const p=e=>{a(l)&&(l.remove(),l=null),i.isDraped&&a(e)&&(l=U(r,e,(()=>{t.geometry=e})))},c=()=>{const e=C(s);p(e),t.geometry=e};o.push(i.on(\"changed\",c),n((()=>l))),c()}function U(e,t,n){const i=e.elevationProvider.spatialReference;c(t,D,i);const o=D[0],a=D[1];return e.elevationProvider.on(\"elevation-change\",(e=>{d(e.extent,o,a)&&n()}))}const D=l(),V=m();export{L as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as r}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as t}from\"./originGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":case\"mesh\":return t(i);case\"polygon\":case\"polyline\":return r(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{g as c,l,f as i,d as a,a as u,b as p,c as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,fromPositionAndNormal as y,create as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=E();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=m(o,t,i(n,r,e.state.camera.eye));return m(s,s,t),y(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=l(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),m=o=>{if(i(o,o,r),j(t,o,o),\"global\"===e.viewingMode){l(o)*Math.sign(a(t,o))<.001-n&&i(o,u(o,t,.001),r)}return p(o,o,r),o};return e=>(e.renderStart=m(c(o,e.renderStart)),e.renderEnd=m(c(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this._forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this._forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this._forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this._forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this._forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}_forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a,c){const i=t.graphic,o=(t,e)=>r({action:t,graphic:i,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const s=r.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(e(i,c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t}));return a.next(n(i)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})})),s}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/Handles.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import t from\"../../../../../core/has.js\";import{isSome as e}from\"../../../../../core/maybe.js\";import{ManipulatorType as n}from\"../ManipulatorType.js\";import{DISC_RADIUS_SMALL as s,DISC_RADIUS as o}from\"./config.js\";import{Manipulation as r}from\"./Manipulation.js\";import{MoveXYAxisManipulation as l}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as p}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as h}from\"./MoveZManipulation.js\";class u extends r{constructor(a){super(),this._handles=new i,this._angleDeferred=null,this._interactive=!0;const{tool:t,view:e,snapToScene:n,radius:s}=a;this._view=e,this.xyManipulation=new p({tool:t,view:e,snapToScene:n,radius:s}),this.xyAxisManipulation=new l({tool:t,view:e,radius:s}),this.zManipulation=new h({tool:t,view:e,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this._autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this._updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,e){return a([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(M.XY,a,t,e,n,s)),t,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(M.XY_AXIS,a,t,e,n,s)),t,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(M.Z,a,t,e,n,s)),t,e)])}createDragPipeline(i,t,e,n){return a([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(M.XY,a,t,e,n,s)),t,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(M.XY_AXIS,a,t,e,n,s)),t,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(M.Z,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this._updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_XY))),this.xyAxisManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_XY))),this.zManipulation.forEachManipulator((a=>i(a,n.TRANSLATE_Z)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}_autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(t(\"esri-mobile\"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const s=()=>{const a=[];this.xyAxisVisible?e(this._angleDeferred)&&(this.angle=this._angleDeferred()):i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(c),this._handles.add(a,c)};for(const t of n)this._handles.add(t.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}_updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=e(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!a&&a.length>0&&a.some((i=>\"icon\"===i.type))?s:o}}const c=\"disable-xy-axis-display\";var M;!function(i){i[i.XY=0]=\"XY\",i[i.XY_AXIS=1]=\"XY_AXIS\",i[i.Z=2]=\"Z\"}(M||(M={}));export{M as ManipulationType,u as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import a from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as i,unwrap as o}from\"../../../../../core/maybe.js\";import{f as s,b as n,m as l,d as p,u}from\"../../../../../chunks/mat4.js\";import{c as h}from\"../../../../../chunks/mat4f64.js\";import{s as m}from\"../../../../../chunks/vec3.js\";import{f as c}from\"../../../../../chunks/vec3f64.js\";import{sv3d as f,sm4d as d}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as M}from\"../dragEventPipeline3D.js\";import{ManipulatorType as w}from\"../ManipulatorType.js\";import{colors as v}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,DISC_TRANSLATE_ARROW_OFFSET as A,DISC_TRANSLATE_ARROW_SIZE as I}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as b}from\"./moveUtils.js\";import{CullFaceOptions as D}from\"../../../webgl-engine/lib/basicInterfaces.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as S}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as k}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as x,dragAtLocation as P,constrainToMapAxis as U,addScreenDelta as R}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as L}from\"../../../../interactive/interfaces.js\";class O extends T{constructor(t){super(),this._handles=new r,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this._createMaterial(),this._transparentMaterial=this._createMaterial(.5),this._angle=0,this._scale=1,this._radius=j,this._updateAfterDrag=!1,this.events=new a,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles=i(this._handles),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,w.TRANSLATE_XY)}createGraphicDragPipeline(t,a,r){const e=a.graphic,i=_(e),s=o(e.geometry).spatialReference;return b(a,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>a(r,t(r,e,i,o,s),i)),i,s,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return e(this._arrowManipulatorInfos.map((({manipulator:e},o)=>x(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:w.TRANSLATE_XY}))).next(P(this._view,e.elevationAlignedLocation)).next(M(this._view,e.elevationAlignedLocation,a,r,i)).next(U(e.location,this.angle+(o+1)*Math.PI*.5)).next(R());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/j,i=I*e,o=i*Math.sqrt(3)/2,p=E.createExtrudedTriangle(o,i/2,i/2,y);E.transformInPlace(p,s(d.get(),m(f.get(),0,-o/3,0))),t.renderObjects=[{geometry:p,material:this._opaqueMaterial,stateMask:L.Focused},{geometry:p,material:this._transparentMaterial,stateMask:L.Unfocused}],t.radius=o/3*2*1.2;const u=n(d.get(),r*Math.PI/2),h=s(d.get(),m(f.get(),0,A*e,0));l(a,u,h)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=p(d.get(),t,c(0,0,1)),r=u(d.get(),m(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(d.get(),r,a);for(const i of this._arrowManipulatorInfos){const t=l(d.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new g({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:c(0,0,1)}}),r={manipulator:a,transform:h()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}_createMaterial(a=1){const r=t.toUnitRGBA(v.main);return r[3]*=a,new k({color:r,transparent:1!==a,cullFace:D.Back,renderOccluded:S.Transparent})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{O as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this._snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}_snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this._snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import e from\"../../../../../core/Handles.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{u as a}from\"../../../../../chunks/mat4.js\";import{c as r}from\"../../../../../chunks/mat4f64.js\";import{s}from\"../../../../../chunks/vec3.js\";import{f as o}from\"../../../../../chunks/vec3f64.js\";import{sv3d as n,sm4d as l}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as c}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as m}from\"../dragEventPipeline3D.js\";import{ManipulatorType as u}from\"../ManipulatorType.js\";import{colors as h}from\"../settings.js\";import{DISC_RADIUS as d,DISC_HEIGHT as _,GEOMETRY_SEGMENTS as f,DISC_COLLISION_RADIUS as g}from\"./config.js\";import{Manipulation as M}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as j}from\"./moveUtils.js\";import{SnapToScene as T}from\"../snapping/SnapToScene.js\";import{CullFaceOptions as S}from\"../../../webgl-engine/lib/basicInterfaces.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as y}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as b,dragAtLocation as k,addScreenDelta as x}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as E}from\"../../../../interactive/interfaces.js\";class A extends M{constructor(t){super(),this._handles=new e,this._snapToScene=new T,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=d,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,u.TRANSLATE_XY)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,e,a){const r=e.graphic,s=p(r),o=i(r.geometry).spatialReference;return j(e,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>e(i,t(i,a,r,s,o),r)),s,o,r)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return b(this._manipulator,((s,o,n,l,p)=>{const c=o.next(k(r,s.elevationAlignedLocation)).next(m(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:u.TRANSLATE_XY}))).next(x());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=a(l.get(),s(n.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new c({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:o(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=v.createCylinderGeometry(_,1,f,o(0,0,1),o(0,0,0)),e=a(r(),o(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:E.Focused},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:E.Unfocused}],this._manipulator.radius=g*(this._radius/d)}_createMaterial(e=1){const i=t.toUnitRGBA(h.main);return i[3]*=e,new w({color:i,transparent:1!==e,cullFace:S.Back,renderOccluded:y.Transparent})}get test(){return{discManipulator:this._manipulator}}}export{A as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{darken as t}from\"../../../../../core/colorUtils.js\";import e from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{clamp as a}from\"../../../../../core/mathUtils.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{j as o,r as s,h as n}from\"../../../../../chunks/mat4.js\";import{c as l}from\"../../../../../chunks/mat4f64.js\";import{j as m,f as c,n as p,d as u,c as d,a as h}from\"../../../../../chunks/vec3.js\";import{c as f,f as _}from\"../../../../../chunks/vec3f64.js\";import{Manipulator3D as M}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as g}from\"../../manipulatorUtils.js\";import{screenToZConstrained as j}from\"../dragEventPipeline3D.js\";import{ManipulatorType as y}from\"../ManipulatorType.js\";import{settings as v}from\"../settings.js\";import{DISC_RADIUS as w}from\"./config.js\";import{Manipulation as b}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as k}from\"./moveUtils.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as U}from\"../../../webgl-engine/lib/Material.js\";import{createManipulatorDragEventPipeline as P,addScreenDelta as T}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as E}from\"../../../../interactive/interfaces.js\";class O extends b{constructor(t){super(),this._handles=new r,this._radius=w,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,y.TRANSLATE_Z)}createGraphicDragPipeline(t,e,r){const a=i(e.graphic.geometry).spatialReference;return k(e,r,(e=>this.createDragPipeline(((r,a,i,o,s)=>e(r,t(r,a,i,o,s),i)),a)),this._view.state.viewingMode)}createDragPipeline(t,e){const r=this._view;return P(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:y.TRANSLATE_Z}))).next(j(r,a.renderLocation,e)).next(T());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}_updateManipulator(){const e=this._radius/w,r=v.zManipulator.height*e,a=v.zManipulator.coneHeight*e,i=v.zManipulator.coneWidth*e,m=v.zManipulator.width*e,c=[_(0,0,0),_(0,0,r)],p=z.createTubeGeometry(c,m/2,16,!1),u=z.createConeGeometry(a,i/2,16,!1),d=[_(0,0,0),_(0,0,r+a)],h=t=>{const e=l();if(o(e,e,[0,0,r]),s(e,e,Math.PI/2),t){const r=1+2*t/i;n(e,e,[r,r,r])}return e},f=h(0),M=(e,r)=>{const a=t(v.zManipulator.color,r);return[a.r/255,a.g/255,a.b/255,v.zManipulator.color.a*e]},j=g(M(1,.25),U.Occlude),y=g(M(1,0),U.Occlude),b=g(M(.7,0),v.zManipulator.renderOccluded),k=g(M(.85,0),v.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:u,transform:f,material:j,stateMask:E.Unfocused},{geometry:p,material:j,stateMask:E.Unfocused},{geometry:u,transform:f,material:y,stateMask:E.Focused},{geometry:p,material:y,stateMask:E.Focused},{geometry:u,transform:f,material:b,stateMask:E.Unfocused},{geometry:p,material:b,stateMask:E.Unfocused},{geometry:u,transform:f,material:k,stateMask:E.Focused},{geometry:p,material:k,stateMask:E.Focused}],this._manipulator.radius=m/2+2,this._manipulator.collisionType={type:\"line\",paths:[d]}}_createManipulator(){const t=new M({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,r=A;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,r);const i=m(e.eye,r),o=e.computeRenderPixelSizeAtDist(i),s=c(x,r,e.eye);p(s,s);const n=D;this._view.renderCoordsHelper.worldUpAtPosition(A,n);const l=Math.abs(u(s,n)),f=d(x,s,n),_=d(x,f,n),M=a(l,.01,1),g=1-Math.sqrt(1-M*M)/M/e.fullWidth,j=this._radius/w,y=v.zManipulator.width*j;h(_,p(_,_),(1/g-1)*i+o*y),t[12]-=x[0],t[13]-=x[1],t[14]-=x[2]},this._manipulator=t,this._updateManipulator()}get test(){return{manipulator:this._manipulator}}}const A=f(),x=f(),D=f();export{O as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{isSome as i}from\"../../../../../core/maybe.js\";import{screenToMapXYForGraphic as e}from\"../dragEventPipeline3D.js\";import{ManipulatorType as r}from\"../ManipulatorType.js\";import{Manipulation as a}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as o}from\"./moveUtils.js\";import{createManipulatorDragEventPipeline as s,addMapDelta as n,addScreenDelta as l}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as p}from\"../../../../interactive/GraphicManipulator.js\";class h extends a{constructor(i){super(),this._handles=new t,this._view=i.view,this._tool=i.tool,this._graphicState=i.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,r.TRANSLATE_XY)}createGraphicDragPipeline(t){return o(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(t){const r=this._view,a=this._graphicState.graphic,o=i(a.geometry)?a.geometry.spatialReference:null;return s(this._manipulator,((i,s,p,h,c)=>{const m=s.next(e(c,r,a,o)).next(n()).next(l());t(i,m,p,h,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new p({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Collection.js\";import i from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as a}from\"../../../../../core/HandleOwner.js\";import n from\"../../../../../core/Handles.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{unwrap as s,isNone as r,isSome as p}from\"../../../../../core/maybe.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{makeDehydratedPoint as c}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as m,getConvertedElevation as u}from\"../../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{SupportedGraphicResult as v}from\"../isSupportedGraphicUtils.js\";import{canMoveZ as f}from\"../manipulatorUtils.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as M}from\"../manipulations/config.js\";import{ManipulationType as w,MoveManipulation as _}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";import{isSupportedGraphic as x}from\"./isSupportedGraphic.js\";import{OutlineVisualElement as S}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../../layers/graphics/GraphicState.js\";import{dragGraphicMany as P,resetGraphicMany as D}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as A}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as G}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as O}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as X}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";class Y{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class z{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class H{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let R=class extends(a(i.EventedMixin(A))){constructor(t){super(t),this.graphics=new e,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new n,this.snappingPipeline=new X}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators(),this.finishToolCreation()}destroy(){this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}get updating(){return this.updatingHandles.updating}reset(){}_refreshManipulators(){this.handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>x(t)===v.SUPPORTED)).map((t=>new U(t)));t.length&&(this._createManipulators(t),this._createVisualElements(t),this.handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this._updateMoveManipulation(t))}_createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this.handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this._buildDragEventPipeline(t,w.XY,e,i,a,n))))}this._createMoveManipulation(t)}_createMoveManipulation(t){const e=new _({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?_.radiusForSymbol(t[0].graphic.symbol):M});this._moveManipulation=e,e.elevationInfo={mode:\"absolute-height\",offset:0},e.forEachManipulator((t=>{this.handles.add(t.events.on(\"immediate-click\",(i=>{e.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...i,graphic:this.graphics.getItemAt(0)}),i.stopPropagation()})))}));const i=()=>this._updateMoveManipulation(t);for(const n of t)this.handles.add([n.state.on(\"changed\",i),n.state.watch(\"displaying\",i)]);const a=t[t.length-1];this.handles.add(a.state.on(\"changed\",(()=>this._updateMoveManipulationAngle(a)))),this.handles.add(e.createDragPipeline(((e,i,a,n,o)=>this._buildDragEventPipeline(t,e,i,a,n,o)),m(a.graphic),s(a.graphic.geometry).spatialReference,a.graphic)),this._updateMoveManipulationAngle(a)}_createVisualElements(t){for(const e of t){const i=e.graphic,a=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>o()});r(a)||(e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof S&&this.handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this._updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this._updateMoveManipulation(t)))]),this.handles.add(a))}}_updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}_updateMoveManipulation(t){const e=c(0,0,0,this.view.spatialReference);let i=0,a=!1;const n=this._moveManipulation;for(const o of t){if(!o.state.displaying)continue;const t=o.state.graphic;this.enableZ&&f(t)&&(a=!0);const n=o.geometryRepresentation instanceof S&&!o.state.isDraped?o.geometryRepresentation.attachmentOrigin:d(this.view,t);p(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,i++)}i>0?(e.x/=i,e.y/=i,e.z/=i,n.location=e,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=a):n.available=!1}_buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation.interactive=!0};if(1===t.length&&e===w.XY){const e=t[0].graphic;a=this._buildSnappingPipelineSteps(e,m(e),a,n,o)}const c=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,p=P(r,this.view.state.viewingMode),l=D(r),this.emit(\"graphic-move-start\",new Y(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>p(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new z(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new H(r)),this.destroyed)return null;h()}}));return n.next((t=>l(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new H(r)),this.destroyed)return null;h()})),c}_buildSnappingPipelineSteps(t,e,i,a,n){const o=t.geometry;if(r(o)||\"point\"!==o.type&&\"mesh\"!==o.type)return i;const s=(\"point\"===o.type?o:o.anchor).clone(),p=new O({elevationInfo:e,pointer:n,editGeometryOperations:G.fromGeometry(s,this.view.state.viewingMode),visualizer:new g,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{s.z=u(this.view,s,m(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:p.coordinateHelper.pointToVector(s)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:p,snappingManager:l,cancel:a,updatingHandles:this.updatingHandles}),this.snappingPipeline.next)}};t([l({constructOnly:!0,nonNullable:!0})],R.prototype,\"view\",void 0),t([l({readOnly:!0})],R.prototype,\"graphics\",void 0),t([l({constructOnly:!0,nonNullable:!0})],R.prototype,\"enableZ\",void 0),t([l({constructOnly:!0})],R.prototype,\"snappingManager\",void 0),t([l({readOnly:!0})],R.prototype,\"type\",void 0),t([l({readOnly:!0})],R.prototype,\"updating\",null),R=t([h(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],R);class U{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new E({graphic:t})}get graphic(){return this.state.graphic}}export{z as GraphicMoveEvent,Y as GraphicMoveStartEvent,H as GraphicMoveStopEvent,R as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../../core/maybe.js\";import{createRenderScreenPointArray3 as o}from\"../../../../../core/screenUtils.js\";import{f as n}from\"../../../../../chunks/mat4f64.js\";import{c as t,r as s,p as c,f as i}from\"../../../../../chunks/vec3.js\";import{c as d}from\"../../../../../chunks/vec3f64.js\";import{normal as f,fromPositionAndNormal as p,create as m}from\"../../../../../geometry/support/plane.js\";import{makeDehydratedPoint as u}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{OffsetEdgeVertex as a,PlaneType as l}from\"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";function j(e,r,o){const n=\"on-the-ground\"===o.mode?l.XY:l.XYZ;return new a(e,n,r,0)}function h(r,o,n){const s=d();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=y(r,o,f(n.plane)),i=y(r,o,n.edgeDirection);if(e(c)||e(i))return null;const u=t(d(),c,i);return p(s,u,m())}function y(e,r,o){const n=u(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),t=d(),c=d();return e.renderCoordsHelper.toRenderCoords(r,t)&&e.renderCoordsHelper.toRenderCoords(n,c)?s(c,t,c):null}function C(e,r,o){const c=f(e),i=s(d(),r,o),p=t(d(),i,c),m=t(d(),i,p);return n(i[0],i[1],i[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function R(e,n,t){const s=t.projectToRenderScreen(e,o()),d=t.projectToRenderScreen(n,o());return r(s)&&r(d)?c(i(s,s,d)):0}export{h as createEdgeOffsetIntersectionPlane,j as createEdgeOffsetOperation,C as edgeOffsetRotationMatrix,R as screenEdgeLengthSquared};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import t from\"../../../../../core/Evented.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import a from\"../../../../../core/Handles.js\";import{handlesGroup as n,destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as l,unwrap as p,removeMaybe as h}from\"../../../../../core/maybe.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{I as m}from\"../../../../../chunks/mat4f64.js\";import{l as g,f as _,e as f,s as v,b as M,a as y}from\"../../../../../chunks/vec3.js\";import{f as x,c as O}from\"../../../../../chunks/vec3f64.js\";import E from\"../../../../../geometry/Polyline.js\";import{makeDehydratedPoint as G}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as b}from\"../../../../../support/elevationInfoUtils.js\";import{isVolumetricSymbol as S}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as V,createManipulatorOutlineMaterial as H,placeAtGraphic as w}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as A}from\"../../SnappingVisualizer3D.js\";import{screenToRenderPlaneFromEvent as P,convertToMapCoordinates as D,screenToMapXYAtLocation as L,screenToMapXYForGraphicAtLocation as N}from\"../dragEventPipeline3D.js\";import{ManipulatorType as U}from\"../ManipulatorType.js\";import{canMoveZ as k}from\"../manipulatorUtils.js\";import{settings as j,colors as T}from\"../settings.js\";import{createVisualElements as R}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as F}from\"../manipulations/config.js\";import{MoveManipulation as C}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as z}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as Z}from\"../manipulations/MoveXYGraphicManipulation.js\";import{createEdgeOffsetIntersectionPlane as X,createEdgeOffsetOperation as Y,edgeOffsetRotationMatrix as q,screenEdgeLengthSquared as W}from\"./edgeOffsetUtils.js\";import{OutlineVisualElement as K}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as B}from\"../../../layers/graphics/GraphicState.js\";import J from\"../../../webgl-engine/lib/GeometryUtil.js\";import{MouseButton as Q}from\"../../../../input/IViewEvents.js\";import{addMapDelta as $,createManipulatorDragEventPipeline as ee,dragAtLocation as te,addScreenDelta as ie}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as ae,ManipulatorStateCustomFlags as ne}from\"../../../../interactive/interfaces.js\";import{EditGeometryOperations as re}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehaviour as oe}from\"../../../../interactive/editGeometry/interfaces.js\";import{SnappingContext as se}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as le}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";let pe=class extends(t.EventedMixin(i)){constructor(e){super(e),this._vertexManipulatorMaterial=V(j.colorToVec4(j.reshapeManipulators.vertex.color),j.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=H(j.colorToVec4(j.reshapeManipulators.vertex.outlineColor),j.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=H(j.colorToVec4(j.reshapeManipulators.vertex.hoverOutlineColor),j.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=V(j.colorToVec4(j.reshapeManipulators.edge.color),j.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=H(j.colorToVec4(j.reshapeManipulators.edge.outlineColor),j.reshapeManipulators.edge.renderOccluded),this._edgeOffsetManipulatorMaterial=V(j.colorToVec4(j.reshapeManipulators.edgeOffset.color),j.reshapeManipulators.edgeOffset.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=V(j.colorToVec4(j.reshapeManipulators.edgeOffset.hoverColor),j.reshapeManipulators.edgeOffset.renderOccluded,!1),this._selectedManipulatorMaterial=V(j.colorToVec4(j.reshapeManipulators.selected.color),j.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=H(j.colorToVec4(j.reshapeManipulators.selected.outlineColor),j.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=H(j.colorToVec4(j.reshapeManipulators.selected.hoverOutlineColor),j.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._edgeOffsetManipulatorGeometryInside=null,this._edgeOffsetManipulatorGeometryOutside=null,this._manipulatorHandles=new a,this._manipulatorInfos=[],this._editGeometryOperations=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=_e.NONE,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new le,this._snappingPipelineHandle=new le,this._vertexLaserLineVisualElement=null}initialize(){const e=new B({graphic:this.graphic});this._graphicState=e,this.handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._editGeometryOperations=o(this._editGeometryOperations),this._moveManipulation=o(this._moveManipulation),this._graphicMoveManipulation=o(this._graphicMoveManipulation),this._manipulatorHandles=o(this._manipulatorHandles),this.manipulators.removeAll(),this._manipulatorInfos=[],this._resetGrabbingDragging()}get inputGeometry(){return s(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null}set inputGeometry(e){this._recreateEditGeometryAndManipulators(e)}get updating(){return this.updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_removeManipulators(){this._moveManipulation=o(this._moveManipulation),this._graphicMoveManipulation=o(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[]}_resetGrabbingDragging(){this._numGrabbing=0,this._numDragging=0}_createManipulators(){if(l(this._editGeometryOperations))return;const e=b(this.graphic);for(const t of this._editGeometryOperations.data.components){for(const i of t.vertices)this._createVertexOrEdgeManipulator(i,e);for(const i of t.edges)this._createVertexOrEdgeManipulator(i,e)}this._createGraphicMoveManipulators(e)}get canRedo(){return s(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}get canUndo(){return s(this._editGeometryOperations)&&this._editGeometryOperations.canUndo}redo(){if(l(this._editGeometryOperations))return null;const e=this._editGeometryOperations.redo();return s(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}undo(){if(l(this._editGeometryOperations))return null;this.emit(\"undo\");const e=this._editGeometryOperations.undo();return s(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}_recreateManipulators(){this._removeManipulators(),this._resetGrabbingDragging(),this._createManipulators()}_recreateEditGeometryAndManipulators(e=this.inputGeometry){this._removeManipulators(),this._resetGrabbingDragging(),l(e)||(o(this._editGeometryOperations),this._editGeometryOperations=re.fromGeometry(e,this.view.state.viewingMode),this._createManipulators())}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;let i=0;const a=[],n=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),r=e===fe.SELECTED_OR_ALL&&n;for(const o of this._manipulatorInfos)de(o)&&(o.manipulator.grabbing||r&&!o.manipulator.selected||a.push(o),i++);if(0===a.length)return;this._moveVertices(a,t);if(a.length===i){if(this._updateEventState(_e.MOVING),this.destroyed)return;this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(_e.RESHAPING),this.destroyed)return;this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}}_isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)de(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(_e.RESHAPING),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:a}=e;if(!t&&!i&&!a)return;const n=[];for(const r of this._manipulatorInfos)de(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&n.push(r);this._moveVertices(n,e,oe.ACCUMULATE_STEPS),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case _e.NONE:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case _e.MOVING:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case _e.RESHAPING:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case _e.MOVING:switch(this._reshapeEventState){case _e.NONE:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case _e.RESHAPING:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case _e.RESHAPING:switch(this._reshapeEventState){case _e.NONE:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case _e.MOVING:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){if(this._graphicMoveManipulation=new Z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic){let e=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>(\"start\"===t.action&&(e=p(this._editGeometryOperations).createUndoGroup()),t))).next((t=>{this._perGraphicManipulatorDragAction(fe.ALL,t),\"end\"===t.action&&(e=h(e))})),a.next(this._cancelDragOperation((()=>e=h(e))))})))}else this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new C({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&k(this.graphic),snapToScene:!1,radius:C.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this.handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const t=p(this.graphic.geometry).spatialReference;this.handles.add([this._moveManipulation.createDragPipeline(((t,i,a,n,r)=>{const o=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>de(e)&&e.manipulator.selected));return e.manipulatorType===U.TRANSLATE_XY&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:n,snappingManager:this.tool.snappingManager,snappingContext:new se({editGeometryOperations:p(this._editGeometryOperations),elevationInfo:e,pointer:r,excludeFeature:this.graphic,visualizer:new A}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next($()).next((e=>(this._perGraphicManipulatorDragAction(fe.SELECTED_OR_ALL,e),e)));return n.next(this._cancelDragOperation()),o}),e,t,this.graphic),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this.handles.remove(e)}))]),this._updateMoveManipulationPosition();const i=R({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){s(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,U.TRANSLATE_XY);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});s(i)&&(this._outlineVisualElement=i.visualElement instanceof K?i.visualElement:null),s(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=b(this.graphic)){const i=j.reshapeManipulators.edgeOffset,a=i.size/2,r=a+i.collisionPadding;if(l(this._edgeOffsetManipulatorGeometryInside)||l(this._edgeOffsetManipulatorGeometryOutside)){const e=a/r,t=e*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=J.createExtrudedTriangle(t,e/2,e/2,i.height,i.offset),this._edgeOffsetManipulatorGeometryOutside=J.createExtrudedTriangle(-t,e/2,e/2,i.height,-i.offset)}const o=[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:ae.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:ae.Focused},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:ae.Unfocused},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:ae.Focused}],p=new I({view:this.view,renderObjects:o,elevationInfo:\"on-the-ground\"!==t.mode||S(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:t,worldOriented:!1,focusMultiplier:1,radius:r,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:\"disc\",direction:x(0,0,1)},collisionPriority:1}),h=new I({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?\"move\":\"default\"}),d={manipulator:p,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,edgeManipulator:h,elevationInfo:t,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(d,i.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(d);const u=this._getManipulatorInfoFromHandle(d.handle.leftVertex).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(d))),c=this._getManipulatorInfoFromHandle(d.handle.rightVertex).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(d)));d.locationUpdateHandle=n([u,c]),this._manipulatorHandles.add(d.locationUpdateHandle,p),this._manipulatorHandles.add([this._watchAndUpdateGrabState(p,!0),this._watchAndUpdateGrabState(h,!0)],p),this._manipulatorHandles.add(ee(p,this._createEdgeOffsetPipeline(d,t)),p),this._manipulatorHandles.add(ee(h,((e,i,a,n)=>{if(\"touch\"===n){this._createEdgeOffsetPipeline(d,t)(e,i,a)}else if(this.enableMoveGraphic){const n=this.graphic,r=s(n.geometry)?n.geometry.spatialReference:null;i.next((e=>this._trackNumDragging(e))).next(te(this.view,e.elevationAlignedLocation)).next(L(this.view,e.elevationAlignedLocation,t,r,n)).next(ie()).next($()).next((e=>this._perGraphicManipulatorDragAction(fe.ALL,e))),a.next(this._cancelDragOperation())}})),p);const m=e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()};return this._manipulatorHandles.add([p.events.on(\"immediate-click\",m),h.events.on(\"immediate-click\",m)],p),this._manipulatorInfos.push(d),this.manipulators.add(p),this.manipulators.add(h),this.emit(\"manipulators-changed\"),d}_autoHideEdgeOffsetManipulator(e,t){const i=e.manipulator,a=e.edgeManipulator,r=()=>{h(e.visibilityHandle);const r=W(this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,this.view.state.camera)<t;(!i.focused&&!a.focused||r)&&(i.grabbable=!r,a.grabbable=!r,e.visibilityHandle=n([i.disableDisplay(),{remove:()=>{i.grabbable=!0,a.grabbable=this.enableMoveGraphic}}]))};this._manipulatorHandles.add([i.events.on(\"focus-changed\",r),a.events.on(\"focus-changed\",r),{remove:()=>{h(e.visibilityHandle),this.manipulators.remove(a)}}],i),r()}_updateEdgeOffsetManipulator(e){this._updateManipulatorPosition(e);const t=p(this._editGeometryOperations).data.coordinateHelper,i=X(this.view,e.manipulator.elevationAlignedLocation,Y(t,e.handle,p(e.manipulator.elevationInfo))),a=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,n=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,r=s(i)?q(i,a,n):m;e.manipulator.modelTransform=r,e.edgeManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.edgeManipulator.modelTransform=r;const o=g(_(me,a,n))/2;e.edgeManipulator.collisionType={type:\"line\",paths:[[[-o,0,0],[o,0,0]]]}}_createEdgeOffsetPipeline(e,t){return(i,a,n)=>{this._clearSelection();const{step:r,cleanup:o}=this._initializeEdgeOffset(e,t);a.next((e=>this._trackNumDragging(e))).next(te(this.view,i.elevationAlignedLocation)).next(r).next(P(this.view)).next(D(this.view,p(this._editGeometryOperations).data.spatialReference)).next($()).next(this._applyEdgeOffsetStep(e)).next((e=>{\"end\"===e.action&&o()})),n.next((e=>(o(),e))).next(this._cancelDragOperation())}}_initializeEdgeOffset(e,t){const i=p(this._editGeometryOperations),a=Y(i.data.coordinateHelper,e.handle,t),o=i.createUndoGroup(),s=X(this.view,e.manipulator.elevationAlignedLocation,a);a.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge),1),a.requiresSplitEdgeRight&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge),0);const d=()=>new E({paths:[[e.handle.leftVertex.pos,e.handle.rightVertex.pos]],spatialReference:p(this._editGeometryOperations).data.spatialReference}),u=new K({view:this.view,isDraped:this._graphicState.isDraped,geometry:d(),elevationInfo:e.elevationInfo,width:j.visualElements.lineGraphics.outline.width,color:j.colorToVec4(T.main),attached:!0});let c;const m=()=>{this._cleanEdgeOffsetCollapsedEdges(e),c=h(c)},g=this.on(\"undo\",m);return c=n([r(u),this._graphicState.watch(\"isDraped\",(e=>u.isDraped=e)),this._graphicState.on(\"changed\",(()=>u.geometry=d())),o,g]),{step:e=>l(a)||l(s)?(m(),null):{...e,operation:a,plane:s},cleanup:m}}_applyEdgeOffsetStep(e){return t=>{if(this.destroyed||l(t.operation))return t;this._updateEventState(_e.RESHAPING);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:n}=t;return(i||a||n)&&(this._offsetEdge(e,t),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})),t}}_cleanEdgeOffsetCollapsedEdges(e){var t,i;const a=null==(t=e.handle.leftVertex.leftEdge)?void 0:t.leftVertex,n=e.handle.leftVertex,r=null==(i=e.handle.rightVertex.rightEdge)?void 0:i.rightVertex,o=e.handle.rightVertex,s=p(this._editGeometryOperations).data.coordinateHelper,l=1e-6,h=[];a&&s.distance(a.pos,n.pos)<l&&h.push(this._getManipulatorInfoFromHandle(n)),(s.distance(n.pos,o.pos)<l||r&&s.distance(r.pos,o.pos)<l)&&h.push(this._getManipulatorInfoFromHandle(o)),h.length&&this._removeVertices(h)}_computeVertexManipulatorSizeAndOutline(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}_createVertexOrEdgeManipulator(e,t=b(this.graphic)){if(\"edge\"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(l(this._vertexManipulatorGeometry)||l(this._vertexManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(j.reshapeManipulators.vertex);this._vertexManipulatorGeometry=J.createSphereGeometry(e,16,16),this._vertexManipulatorOutlineGeometry=J.createSphereGeometry(t,16,16)}if(l(this._edgeManipulatorGeometry)||l(this._edgeManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(j.reshapeManipulators.edge);this._edgeManipulatorGeometry=J.createSphereGeometry(e,16,16),this._edgeManipulatorOutlineGeometry=J.createSphereGeometry(t,16,16)}const i=s(this.graphic.geometry)&&\"point\"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ge.Vertex|ae.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:ge.Vertex|ae.Unfocused|ae.Unselected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ge.Vertex|ae.Focused|ae.Unselected},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:ae.Selected},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:ae.Selected|ae.Unfocused},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:ae.Selected|ae.Focused}];this.enableMidpoints&&i.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ge.Edge|ae.Focused|ae.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ge.Edge|ae.Focused|ae.Unselected},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:ge.Edge|ae.Unfocused|ae.Unselected},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:ge.Edge|ae.Unfocused|ae.Unselected});const a=new I({view:this.view,renderObjects:i,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(a,e,t);const r=\"edge\"===e.type?{manipulator:a,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:a,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(r),this.manipulators.add(a),this._updateManipulatorPosition(r),\"edge\"===r.type){const e=this._getManipulatorInfoFromHandle(r.handle.leftVertex).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(r))),t=this._getManipulatorInfoFromHandle(r.handle.rightVertex).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(r)));r.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(r.locationUpdateHandle,a)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(a,!0),a);const o=ee(a,((e,i,a,n)=>{let o=null;i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action&&(o=p(this._editGeometryOperations).createUndoGroup()),ue(r)){const t=this._splitEdgeManipulator(r);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:r,snapOrigin:r.handle.pos}})).next(te(this.view,e.elevationAlignedLocation)).next(N(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new se({editGeometryOperations:p(this._editGeometryOperations),elevationInfo:t,pointer:n,excludeFeature:this.graphic,visualizer:new A}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next($()).next((e=>{this._perVertexManipulatorDragAction(e),\"end\"===e.action&&(o=h(o))})),a.next(this._cancelDragOperation((()=>o=h(o))))}));return this._manipulatorHandles.add(o,a),this._manipulatorHandles.add([a.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,r))),a.events.on(\"select-changed\",(()=>{r.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))],a),this.emit(\"manipulators-changed\"),r}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(e){return()=>{switch(this._numDragging--,this.undo(),this.outputGeometry=s(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null,s(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case _e.NONE:break;case _e.MOVING:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case _e.RESHAPING:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}e&&e(),this.destroyed||this._updateEventState(_e.NONE)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=ge.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=j.reshapeManipulators.vertex.size/2+j.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i,e.interactive=s(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type;break;case\"edge\":e.state=ge.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=j.reshapeManipulators.edge.size/2+j.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"!==i.mode||S(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:i}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(_e.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,(\"touch\"!==i.pointerType||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((e=>{e.manipulator.interactive=!this._numGrabbing&&s(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type,\"edgeManipulator\"in e&&(e.edgeManipulator.interactive=!this._numGrabbing)})),p(this._graphicMoveManipulation).forEachManipulator((e=>e.interactive=!this._numGrabbing)))}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const t=p(this._editGeometryOperations);if(\"vertex\"===e.handle.type)e.manipulator.location=t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos,ce),e.manipulator.grabbing&&s(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const i=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator,a=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator;if(s(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const n=i.location,r=a.location,o=.5,s=n.x+o*(r.x-n.x),l=n.y+o*(r.y-n.y),p=n.hasZ&&r.hasZ?0:void 0;e.manipulator.location=G(s,l,p,t.data.spatialReference)}else f(me,i.renderLocation,a.renderLocation,.5),e.manipulator.renderLocation=me}}_splitEdgeManipulator(e,t=.5){const i=p(this._editGeometryOperations),a=p(i.splitEdge(e.handle,t).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const n=b(this.graphic);let r;this.enableEdgeOffset?(this._removeManipulator(e),r=this._createVertexOrEdgeManipulator(a)):(r=e,r.handle=a,r.type=\"vertex\",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(r),this._updateSelection(e.manipulator);const o=this._updateEventState(_e.RESHAPING),s=i.data.coordinateHelper.vectorToArray(r.handle.pos),l=i.data.components.indexOf(a.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:p(a.index)}],added:s}),o&&this._updateEventState(_e.NONE),r}_updateMoveManipulationPosition(){const e=v(me,0,0,0);let t=0,i=!1,a=null,n=null;for(const r of this._manipulatorInfos)de(r)&&(r.manipulator.selected?(t++,M(e,e,r.manipulator.renderLocation),l(a)||r.selectedIndex>a.selectedIndex?(n=a,a=r):(l(n)||r.selectedIndex>n.selectedIndex)&&(n=r)):i=!0);if(0!==t){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&k(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&k(this.graphic)}if(0!==t){let e=0;if(s(a)){const t=a.handle.pos,i=s(n)?n.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,r=!s(n)&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;i&&r?this._moveManipulation.xyAxisManipulation.available=!1:i?e=he(i,t):r&&(e=he(t,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=F}else this._moveManipulation.angleDeferred=()=>z(p(this.graphic.geometry)),this._moveManipulation.radius=C.radiusForSymbol(this.graphic.symbol);0!==t&&i?(y(e,e,1/t),ce.spatialReference=p(this._editGeometryOperations).data.spatialReference,ce.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,ce),this._moveManipulation.elevationAlignedLocation=ce):s(this._outlineVisualElement)&&!this._graphicState.isDraped&&s(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:w(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=p(this._editGeometryOperations);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const e=p(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createVertexOrEdgeManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.vectorToArray(e.pos),componentIndex:t,vertexIndex:p(e.index)}}));this.outputGeometry=i.data.geometry;const a=this._updateEventState(_e.RESHAPING);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(_e.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(e,t,i=(\"start\"===t.action?oe.NEW_STEP:oe.ACCUMULATE_STEPS)){const a=p(this._editGeometryOperations);a.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),this.outputGeometry=a.data.geometry;for(const n of e)this._updateManipulatorPosition(n)}_offsetEdge(e,t){if(l(t.operation))return;const i=p(this._editGeometryOperations),a=t.operation.clone();a.distance=t.operation.signedDistanceToPoint(t.mapEnd),i.updateVertices([e.handle.leftVertex,e.handle.rightVertex],a),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&e.button===Q.Right&&this._removeVertices([t]),ue(t)&&e.button===Q.Left&&this._splitEdgeManipulator(t),e.stopPropagation()}};function he(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function de(e){return\"vertex\"===e.handle.type}function ue(e){return\"edge\"===e.handle.type}e([u({constructOnly:!0})],pe.prototype,\"tool\",void 0),e([u()],pe.prototype,\"inputGeometry\",null),e([u()],pe.prototype,\"outputGeometry\",void 0),e([u({readOnly:!0})],pe.prototype,\"updating\",null),pe=e([c(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],pe);const ce=G(0,0,null,null),me=O();var ge,_e,fe;!function(e){e.Vertex=ne.Custom1,e.Edge=ne.Custom2}(ge||(ge={})),function(e){e[e.NONE=0]=\"NONE\",e[e.MOVING=1]=\"MOVING\",e[e.RESHAPING=2]=\"RESHAPING\"}(_e||(_e={})),function(e){e[e.ALL=0]=\"ALL\",e[e.SELECTED_OR_ALL=1]=\"SELECTED_OR_ALL\"}(fe||(fe={}));export{pe as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as o,isSome as i,isNone as a}from\"../../../../../core/maybe.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{SupportedGraphicResult as h}from\"../isSupportedGraphicUtils.js\";import{geometryOfSupportedGraphic as l,isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as d}from\"./ReshapeOperation.js\";import{InteractiveToolBase as m}from\"../../../../interactive/InteractiveToolBase.js\";let u=class extends(t.EventedMixin(m)){constructor(e){super(e),this._handles=new r,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type=\"reshape-3d\",this.snappingManager=null,this.automaticManipulatorSelection=!1}destroy(){this._handles=o(this._handles),this._reshapeOperation=o(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get updating(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.updating)&&e}_updateGeometry(){const e=l(this.graphic);this._reshapeOperation.inputGeometry=i(e)?e.clone():null}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),c(this.graphic)!==h.SUPPORTED)return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0,this.graphic.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){a(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}initialize(){this._reshapeOperation=new d({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),this.view.on(\"pointer-down\",[\"Shift\"],(e=>{e.stopPropagation()})),n(this,\"graphic\",(()=>{this._updateGraphic()}),!0)]),this.finishToolCreation()}get canUndo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canUndo)&&e}undo(){i(this.snappingManager)&&this.snappingManager.doneSnapping(),i(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canRedo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canRedo)&&e}redo(){i(this.snappingManager)&&this.snappingManager.doneSnapping(),i(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([s()],u.prototype,\"_reshapeOperation\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"view\",void 0),e([s({constructOnly:!0})],u.prototype,\"graphic\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"enableZShape\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"enableZVertex\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"enableMoveGraphic\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"enableMidpoints\",void 0),e([s({constructOnly:!0,nonNullable:!0})],u.prototype,\"enableEdgeOffset\",void 0),e([s({readOnly:!0})],u.prototype,\"type\",void 0),e([s({constructOnly:!0})],u.prototype,\"snappingManager\",void 0),e([s({readOnly:!0})],u.prototype,\"updating\",null),e([s()],u.prototype,\"automaticManipulatorSelection\",void 0),u=e([p(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],u);export{u as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import e from\"../../../../../core/Handles.js\";import{clamp as a,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{isSome as r,destroyMaybe as o}from\"../../../../../core/maybe.js\";import{addFrameTask as s}from\"../../../../../core/scheduling.js\";import{createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{init as l}from\"../../../../../core/watchUtils.js\";import{d as c,u as h,m as g,h as d,e as p}from\"../../../../../chunks/mat4.js\";import{c as u}from\"../../../../../chunks/mat4f64.js\";import{s as m,f,l as M,h as D,c as S,b as _}from\"../../../../../chunks/vec3.js\";import{a as y,f as v}from\"../../../../../chunks/vec3f64.js\";import{fromPositionAndNormal as R,create as b,normal as k}from\"../../../../../geometry/support/plane.js\";import{wrap as j,distance2 as A}from\"../../../../../geometry/support/ray.js\";import{sv3d as I,sm4d as T}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as E}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as F}from\"../../manipulatorUtils.js\";import{screenToRenderPlane as P}from\"../dragEventPipeline3D.js\";import{ManipulatorType as C}from\"../ManipulatorType.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as O,SCALE_INDICATOR_DIRECTION_BUFFER as U,RING_HEIGHT as L,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as x,ROTATE_INDICATOR_ARROW_TIP_LENGTH as N,ROTATE_INDICATOR_ARROW_TIP_RADIUS as G,RING_THICKNESS as H,HANDLE_COLOR as B,DRAG_THRESHOLD_PX as q,RING_INDICATOR_DELAY_MS as z,RING_RADIUS as J,INNER_INDICATOR_RADIUS as K,INDICATOR_THICKNESS as Q,OUTER_INDICATOR_RADIUS as V,SCALE_INDICATOR_OFFSET1 as W,SCALE_INDICATOR_OFFSET2 as X,RING_RESET_ANIMATION_SPEED_FACTOR as Y,GEOMETRY_SEGMENTS as Z,ROTATE_INDICATOR_ARC_LENGTH as $,SCALE_INDICATOR_ARC_LENGTH as tt}from\"../manipulations/config.js\";import{cyclicalPI as et}from\"../../../support/mathUtils.js\";import{CullFaceOptions as at}from\"../../../webgl-engine/lib/basicInterfaces.js\";import it from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as rt}from\"../../../webgl-engine/lib/Material.js\";import{ColorMaterial as ot}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as st}from\"../../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as nt,ManipulatorStateFlags as lt}from\"../../../../interactive/interfaces.js\";var ct,ht;!function(t){t.ScaleIn=nt.Custom2,t.ScaleOut=nt.Custom3,t.RotateLeft=nt.Custom4,t.RotateRight=nt.Custom5,t.Unlocked=nt.Custom7,t.DelayedFocused=nt.Custom8,t.TouchInput=nt.Custom12}(ct||(ct={}));class gt{constructor(a){this.mode=null,this._handles=new e,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new t,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>r(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this.adapter.scale:1,this.tool=a.tool,this.mode=a.mode,this.adapter=a.adapter,this._createManipulator(),this._updateDragState(),this._updateManipulatorTransform()}get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this.ringManipulator.location=t}set elevationAlignedLocation(t){this.ringManipulator.elevationAlignedLocation=t}get grabbing(){return this.ringManipulator.grabbing}set interactive(t){this.ringManipulator.interactive=t}destroy(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles=o(this._handles),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=s({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=o(this._activeAnimation))}forEachManipulator(t){t(this.ringManipulator,C.SCALE_ROTATE)}_createManipulator(){this.ringManipulator=this._createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const t=this.ringManipulator,e=this.tool.graphicState.graphic,o=st(t,((t,o,s)=>{this._scaleRotateDragData=null,this.adapter.restart();const n={mode:\"none\",origin:y(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=n,this._updateDragState();const l=I.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,l),o.next(P(this.tool.view,R(t.renderLocation,l,b()))).next((t=>{const o=k(t.plane),s=F(t.renderStart,t.renderEnd,n.origin,o),l=et.shortestSignedDiff(n.angle,s);n.angleDir=a(n.angleDir+l,-O,O),n.angle=s;const c=dt(n,t),h=c-this.adapter.scale;if(n.scaleDir=a(n.scaleDir+h,-U,U),this._onScaleChanged(),\"none\"===n.mode){const a=this.mode||pt(t,t.plane,n.origin,this.tool.view.state.camera);if(r(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:e,angle:0}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:e,xScale:1,yScale:1}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()})}n.mode=a}}switch(n.mode){case\"rotate\":this.adapter.angle=n.initialAngle+s;break;case\"scale\":this.adapter.scale=c,this._onScaleChanged()}switch(this._updateDragState(),this._updateManipulatorTransform(),t.action){case\"start\":case\"update\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:e,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:e,xScale:c,yScale:c})}break;case\"end\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:e,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:e,xScale:c,yScale:c})}}\"end\"===t.action&&(this.startAnimation(mt(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState())})),s.next((()=>{if(this.adapter.cancel(),r(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:e,angle:0});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:e,xScale:1,yScale:1})}this.startAnimation(mt(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState()}}))}));this._handles.add(o),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ft(this,(()=>this._updateDelayedFocusedState()))):this._updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),l(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t))])}_onScaleChanged(){this.events.emit(\"scale-changed\"),this._updateManipulatorTransform()}_updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(ct.DelayedFocused,this.getFocused())}_updateDragState(){if(this.ringManipulator.updateStateEnabled(ct.Unlocked,!(r(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),r(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(ct.ScaleIn|ct.ScaleOut,!1),this.ringManipulator.updateStateEnabled(ct.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(ct.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(ct.RotateLeft|ct.RotateRight,!1),this.ringManipulator.updateStateEnabled(ct.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(ct.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(ct.ScaleIn|ct.ScaleOut|ct.RotateLeft|ct.RotateRight,!1)}_updateManipulatorTransform(){const t=c(T.get(),this.adapter.angle,v(0,0,1)),e=this.getScale(),a=h(T.get(),m(I.get(),e,e,e));this.ringManipulator.modelTransform=g(T.get(),a,t)}_createRingManipulator(){const t=(t,e,a)=>{const i=[],r=Math.ceil(Z*(e-t)/(2*Math.PI));for(let o=0;o<r+1;o++){const s=t+o*(e-t)/r;i.push(v(a*Math.cos(s),a*Math.sin(s),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,L/2],[-t/2,L/2]],i=(t,e)=>it.createPathExtrusionGeometry(a(e),t,[],[],!1),r=e(J),o=i(r,H),s={left:[],right:[]},n=[];for(let v=0;v<2;v++){const e=v*Math.PI-Math.PI/4,a=Math.PI/2-$,r=e+a,o=e+Math.PI/2-a,l=t(r,o,K),c=i(l,Q);n.push(l),n.push(t(r,o,V-H/2)),s.left.push(c),s.right.push(c);for(let t=0;t<2;t++){const e=0===t,a=u();if(e){d(a,a,[1,-1,1]),p(a,a,-r,[0,0,1]);const t=Math.round(x*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{p(a,a,o,[0,0,1]);const t=Math.round((1-x)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=it.createExtrudedTriangle(N,0,G,L);it.transformInPlace(i,a),(e?s.left:s.right).push(i)}}const l=[];for(let d=0;d<2;d++){const e=d*Math.PI-Math.PI/4,a=Math.PI/2-tt,r=e+a,o=e+Math.PI/2-a,s=t(r,o,V);l.push(i(s,Q))}const c=e(J+W),h=e(J+X),g=i(c,Q),m=i(h,Q),f=e(J-W),M=e(J-X),D=i(f,Q),S=i(M,Q),_=this._createMaterial(),y=this._createMaterial(.66),R=this._createMaterial(.5),b=this._createMaterial(.33);let k=[{geometry:o,material:_,stateMask:ct.DelayedFocused},{geometry:o,material:R,stateMask:lt.None}];this.mode&&\"scale\"!==this.mode||(k=k.concat([{geometry:l,material:_,stateMask:ct.DelayedFocused|ct.Unlocked},{geometry:g,material:y,stateMask:ct.DelayedFocused|ct.ScaleIn},{geometry:m,material:b,stateMask:ct.DelayedFocused|ct.ScaleIn},{geometry:D,material:y,stateMask:ct.DelayedFocused|ct.ScaleOut},{geometry:S,material:b,stateMask:ct.DelayedFocused|ct.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(k=k.concat([{geometry:s.right,material:_,stateMask:ct.DelayedFocused|ct.Unlocked},{geometry:s.left,material:_,stateMask:ct.DelayedFocused|ct.RotateLeft},{geometry:s.right,material:_,stateMask:ct.DelayedFocused|ct.RotateRight}]));const j=[r,...n];return new w({view:this.tool.view,renderObjects:k,autoScaleRenderObjects:!1,worldOriented:!0,radius:H,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:E(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:j,direction:v(0,0,1)}})}_createMaterial(t=1){const e=[...B,t];return new ot({color:e,transparent:1!==t,cullFace:at.Back,renderOccluded:rt.Transparent})}get test(){return{ringManipulator:this.ringManipulator}}}function dt(t,e){const a=f(I.get(),e.renderStart,t.origin),i=f(I.get(),e.renderEnd,t.origin),r=M(a),o=M(i);return 0===r?0:o/r}function pt(t,e,a,i){const{renderStart:r,renderEnd:o}=t,s=ut(r,i,I.get()),n=ut(o,i,I.get());if(D(s,n)<q*q)return null;const l=f(I.get(),r,a),c=S(I.get(),l,k(e)),h=r,g=_(I.get(),h,c),d=ut(a,i,I.get()),p=s,u=ut(g,i,I.get()),m=f(I.get(),u,p),M=f(I.get(),s,d),y=j(p,m),v=j(d,M);return A(y,n)<A(v,n)?\"rotate\":\"scale\"}function ut(t,e,a){return e.projectToScreen(t,Mt),m(a,Mt[0],Mt[1],0)}function mt(t,e){let a=null,i=1;const r=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=r,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*Y,1),e(),Math.abs(i-1)<.01?ht.STOP:ht.CONTINUE),destroy:()=>{t.getScale=a,e()}}}function ft(t,e){let a=0,i=null;const r=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=r,a=0,e()},update:t=>(a+=t,!i()||a>z?ht.STOP:ht.CONTINUE),destroy:()=>{t.getFocused=i,e()}}}!function(t){t[t.CONTINUE=0]=\"CONTINUE\",t[t.STOP=1]=\"STOP\"}(ht||(ht={}));const Mt=n();export{gt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,none as t}from\"../../../../../core/maybe.js\";function r(t){return e(t.geometry)&&\"mesh\"===t.geometry.type?o(t.geometry):n(t)}function o(t){return e(t.transform)?m(t,t.transform):i(t)}function n(e){let r=e.geometry,o=t;return{undo(e){o=e.geometry,e.geometry=r},redo(e){r=e.geometry,e.geometry=o}}}function m(t,r){let o=r.clone(),n=null;return{undo:r=>{n=e(t.transform)?t.transform.clone():null,t.transform=o,r.notifyGeometryChanged()},redo:r=>{o=e(t.transform)?t.transform.clone():null,t.transform=n,r.notifyGeometryChanged()}}}function i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}export{r as createGraphicGeometryUndoRecord};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{deg2rad as s,rad2deg as r}from\"../../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../../core/maybe.js\";import{watch as o,sync as a}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{axis as h,angle as p}from\"../../../../../geometry/support/axisAngleDegrees.js\";import{ViewingMode as l}from\"../../../../ViewingMode.js\";import{createGraphicGeometryUndoRecord as g}from\"./undoRecords.js\";let m=class extends t{constructor(e){super(e),this.angle=0,this.scale=1,this.initialAngle=0,this.previousAngle=0,this.previousScale=1}initialize(){this.restart()}restart(){this.handles.remove(d);const e=this.geometry.transform;if(this.scale=1,i(e)){const t=h(e.rotation)[2];Math.abs(t)>.999999&&(this.angle=s(p(e.rotation))*Math.sign(t))}this.initialAngle=this.angle,this.previousAngle=this.angle,this.previousScale=this.scale,this.handles.add(o((()=>({angle:this.angle,scale:this.scale})),(e=>this._update(e)),a),d)}cancel(){this.scale=1,this.angle=this.initialAngle}createUndoRecord(){return g(this.graphic)}_update({scale:e,angle:t}){const s=this.geometry.anchor,o=this.viewingMode===l.Global;e!==this.previousScale&&(this.geometry.scale(e/this.previousScale,{origin:s,geographic:o}),this.previousScale=e,i(this.geometry.transform)&&this.graphic.notifyMeshTransformChanged(),this.graphic.notifyGeometryChanged()),t!==this.previousAngle&&(this.geometry.rotate(0,0,r(t-this.previousAngle),{origin:s,geographic:o}),this.previousAngle=t,i(this.geometry.transform)&&this.graphic.notifyMeshTransformChanged(),this.graphic.notifyGeometryChanged())}};e([n({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([n({constructOnly:!0})],m.prototype,\"geometry\",void 0),e([n({constructOnly:!0})],m.prototype,\"viewingMode\",void 0),e([n()],m.prototype,\"angle\",void 0),e([n()],m.prototype,\"scale\",void 0),m=e([c(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter\")],m);const d=\"scale-heading-update-key\";export{m as ScaleRotateMeshAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as e}from\"../../../../../core/HandleOwner.js\";import{deg2rad as i,rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as o,none as r,isNone as a,unwrapOr as l}from\"../../../../../core/maybe.js\";import{watch as h,sync as c}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let y=class extends e{constructor(t){super(t),this.angle=0,this.scale=1,this.symbol=null,this.initialAngle=0}initialize(){this.restart()}restart(){this.handles.remove(m);const t=o(this.graphic.symbol)&&\"point-3d\"===this.graphic.symbol.type?this.graphic.symbol:r;if(this.symbol=o(t)?t.clone():null,this.initialSizes=[],o(t)){const e=this.findLayerView();o(e)&&(this.initialSizes=t.symbolLayers.map((i=>\"object\"===i.type?e.getSymbolLayerSize(t,i):null)).toArray())}this.angle=0,o(t)&&t.symbolLayers.some((t=>!(\"object\"!==t.type||!o(t.heading))&&(this.angle=-i(t.heading),!0))),this.initialAngle=this.angle,this.scale=1,this.handles.add(h((()=>({angle:this.angle,scale:this.scale})),(t=>this._updateSymbol(t)),c),m)}cancel(){this.graphic.symbol=this.symbol}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t,this.restart()},redo:i=>{t=i.symbol,i.symbol=e,this.restart()}}}_updateSymbol({scale:t,angle:e}){const i=this.graphic.symbol;if(a(this.symbol)||a(i)||\"point-3d\"!==i.type)return;const r=i.clone(),h=-s(e-this.initialAngle);let c=!1;this._forEachObjectSymbolLayerPair(this.symbol,r,((e,i,s)=>{const r=l(e.heading,0)+h;i.heading!==r&&(i.heading=r,c=!0);const a=this.initialSizes[s];if(o(a)&&\"width\"in a){a.width=this.sizeFilter(a.width),a.height=this.sizeFilter(a.height),a.depth=this.sizeFilter(a.depth);const e=a.width*t;i.width!==e&&(i.width=e,c=!0);const s=a.depth*t;i.depth!==s&&(i.depth=s,c=!0);const o=a.height*t;i.height!==o&&(i.height=o,c=!0)}})),c&&(this.graphic.symbol=r)}_forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,s)=>{const o=e.symbolLayers.getItemAt(s);\"object\"===t.type&&\"object\"===o.type&&i(t,o,s)}))}};t([n()],y.prototype,\"angle\",void 0),t([n()],y.prototype,\"scale\",void 0),t([n({constructOnly:!0})],y.prototype,\"graphic\",void 0),t([n()],y.prototype,\"symbol\",void 0),t([n({constructOnly:!0})],y.prototype,\"findLayerView\",void 0),t([n({constructOnly:!0})],y.prototype,\"sizeFilter\",void 0),y=t([p(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter\")],y);const m=\"scale-heading-update-key\";export{y as ScaleRotateObjectSymbol3DAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../../../../core/HandleOwner.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{isSome as o,isNone as n,destroyMaybe as s}from\"../../../../../core/maybe.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../../geometry/Point.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{ViewingMode as c}from\"../../../../ViewingMode.js\";import{Manipulator3D as m}from\"../../Manipulator3D.js\";import{placeAtGraphic as d}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as u}from\"../manipulatorUtils.js\";import{createVisualElements as v}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as M}from\"../manipulations/config.js\";import{MoveManipulation as y,ManipulationType as f}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as S}from\"./GraphicScaleRotateTransform.js\";import{ScaleRotateMeshAdapter as R}from\"./ScaleRotateMeshAdapter.js\";import{ScaleRotateObjectSymbol3DAdapter as w}from\"./ScaleRotateObjectSymbol3DAdapter.js\";import{createGraphicGeometryUndoRecord as b}from\"./undoRecords.js\";import{GraphicState as j}from\"../../../layers/graphics/GraphicState.js\";import{InteractiveToolBase as _}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as A}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as x}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as G}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";let T=class extends(i(e.EventedMixin(_))){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.scaleRotate=null,this.snappingPipeline=new G}initialize(){this.graphicState=new j({graphic:this.graphic}),this.moveManipulation=new y({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&u(this.graphic),radius:y.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:this.graphicState.graphic}),t.stopPropagation()}))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,i,a,n,s)=>(o(t)&&e===f.XY&&(a=a.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new x({elevationInfo:h(this.graphic),pointer:s,editGeometryOperations:A.fromGeometry(new p({spatialReference:t.spatialReference}),this.view.state.viewingMode),visualizer:new g,excludeFeature:this.graphic}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:n}),this.snappingPipeline.next)),a)),this.graphicState,(t=>{const{action:e,graphic:i,dxScreen:a,dyScreen:o}=t,n={graphic:i,dxScreen:a,dyScreen:o};switch(e){case\"start\":this.emit(\"graphic-translate-start\",n),this.emit(\"record-undo\",{record:this._createGeometryUndoRecord()});break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=o(this.scaleRotate)?this.scaleRotate.angle:0,this.scaleRotateAdapter=this._createScaleRotateAdapter(),this.handles.add(this.scaleRotateAdapter.watch(\"angle\",(()=>this._updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new S({tool:this,mode:t,adapter:this.scaleRotateAdapter}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this._onScaleChanged())))}this.handles.add([v({view:this.view,graphic:this.graphic,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>a()}),this.graphicState.on(\"changed\",(()=>this._onGeometryChanged())),this._hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this._updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this._onGeometryChanged(),this._updateMoveAngle(),this._forEachManipulator((t=>{t instanceof m&&this.handles.add(t.events.on(\"grab-changed\",(()=>this._updateManipulatorsInteractive())))})),this.finishToolCreation()}_updateManipulatorsInteractive(){n(this.scaleRotate)||(this.scaleRotate.interactive=!this.moveManipulation.grabbing,this.moveManipulation.interactive=!this.scaleRotate.grabbing)}_createScaleRotateAdapter(){return o(this.graphic.geometry)&&\"mesh\"===this.graphic.geometry.type?new R({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new w({graphic:this.graphic,sizeFilter:t=>this._enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer))})}_forEachManipulator(t){this.moveManipulation.forEachManipulator(t),o(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}_hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this._forEachManipulator((e=>e.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&u(this.graphic)}))}_createGeometryUndoRecord(){return b(this.graphic)}destroy(){this.moveManipulation.destroy(),this.scaleRotate=s(this.scaleRotate),this.scaleRotateAdapter=s(this.scaleRotateAdapter),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get updating(){return this.updatingHandles.updating}set location(t){this.moveManipulation.location=t,o(this.scaleRotate)&&(this.scaleRotate.location=t)}set elevationAlignedLocation(t){this.moveManipulation.elevationAlignedLocation=t,o(this.scaleRotate)&&(this.scaleRotate.elevationAlignedLocation=t)}reset(){}onHide(){o(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}_onScaleChanged(){if(n(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}_updateMoveAngle(){this.view.state.viewingMode===c.Local||this.view.scale<M?this.moveManipulation.angle=this.scaleRotateAdapter.angle:this.moveManipulation.angle=0}_onGeometryChanged(){d(this.view,this,this.graphic)}_enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this.moveManipulation.renderLocation)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,zManipulator:this.moveManipulation.zManipulation.test.manipulator,ringManipulator:o(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([r({constructOnly:!0,nonNullable:!0})],T.prototype,\"view\",void 0),t([r({constructOnly:!0,nonNullable:!0})],T.prototype,\"graphic\",void 0),t([r({constructOnly:!0,nonNullable:!0})],T.prototype,\"enableZ\",void 0),t([r()],T.prototype,\"enableRotation\",void 0),t([r()],T.prototype,\"enableScaling\",void 0),t([r({value:!1})],T.prototype,\"snapToScene\",null),t([r({constructOnly:!0})],T.prototype,\"snappingManager\",void 0),t([r({readOnly:!0})],T.prototype,\"type\",void 0),t([r({readOnly:!0})],T.prototype,\"updating\",null),T=t([l(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],T);export{T as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{equalsMaybe as e}from\"../core/maybe.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as i}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import{cyclicalDeg as l}from\"../views/3d/support/mathUtils.js\";import n from\"../geometry/Point.js\";let c=class extends(t(r)){constructor(o){super(o),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(o){return this.heading===o.heading&&this.tilt===o.tilt&&e(this.position,o.position)&&this.width===o.width&&this.height===o.height}};o([s({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),o([s({type:n}),m()],c.prototype,\"position\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),i((o=>l.normalize(a(o),0,!0)))],c.prototype,\"heading\",void 0),o([s({type:Number,nonNullable:!0,range:{min:0,max:360}}),m(),i((o=>l.normalize(a(o),0,!0)))],c.prototype,\"tilt\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"width\",void 0),o([s({type:Number,nonNullable:!0}),m()],c.prototype,\"height\",void 0),c=o([p(\"esri.analysis.SlicePlane\")],c);const h=c;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=[...n,1],F=4,G=1,H=.3,I=6,J=4,K=12,L=40,N=27,O=1600,P=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,i as INITIAL_DEPTH_OFFSET_FRAC,P as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,O as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,E as RESIZE_HANDLE_COLOR,I as RESIZE_HANDLE_CORNER_INPUT_RADIUS,F as RESIZE_HANDLE_CORNER_WIDTH,J as RESIZE_HANDLE_EDGE_INPUT_RADIUS,H as RESIZE_HANDLE_EDGE_PADDING_FRAC,G as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,N as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,L as ROTATE_HEADING_OFFSET_DISTANCE,K as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{f as r}from\"../../../../chunks/mat4.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{s as i}from\"../../../../chunks/vec3.js\";import{Z as o,c as n}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h}from\"../../../../chunks/vec4.js\";import{f as a,c as p,a as d}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as f}from\"./Object3DVisualElement.js\";import{createGeometry as u,RemoveDuplicateStartEnd as _}from\"../../layers/graphics/lineUtils.js\";import{RenderOccludedFlag as c}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as m}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class g extends f{constructor(e){super(e),this._renderOccluded=c.OccludeAndTransparent,this._width=1,this._color=a(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n(),s=n(),o=100,l=[];i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[2],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[2],e[3],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[3],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),i(r,e[0],e[1],o),this.view.renderCoordsHelper.toRenderCoords(r,t,s),l.push([s[0],s[1],s[2]]),this.geometry=[l]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,l=n(),h=n(),a=n(),p=n();l[0]=r[0]-s[0]*o-i[0]*o,l[1]=r[1]-s[1]*o-i[1]*o,l[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([l[0],l[1],l[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=r(C,t);const{points:s}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(e,t=o){this.transform=r(C,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&l(r,this._innerColor)||(this._innerColor=h(p(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!l(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?d(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){this._stipplePreferContinuous!==e&&(this._stipplePreferContinuous=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new m(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=u(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={overlayInfo:null,attributeData:{position:s},removeDuplicateStartEnd:_.KEEP};r.push(i)})),r}}const C=s();export{g as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{bindProjectionMatrix as r,bindView as e}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{S as s}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";import{BlendFactor as l,CompareFunction as m}from\"../../../webgl/enums.js\";import{makePipelineState as n,separateBlendingParams as d,defaultColorWriteParams as g}from\"../../../webgl/renderState.js\";class h extends o{initializeProgram(r){const e=h.shader.get().build();return new a(r.rctx,e,t)}bindPass(e,i){r(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){e(this.program,r),this.program.rebindTextures()}initializePipeline(){return n({blending:d(l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:m.LESS},colorWrite:g})}}h.shader=new i(s,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{h as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{unwrap as r}from\"../../../../core/maybe.js\";import{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{ShaderTechniqueConfiguration as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import i from\"../lib/GLMaterial.js\";import{Material as o,DefaultMaterialParameters as n}from\"../lib/Material.js\";import{RenderSlot as s}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as a,PositionUVLayout as u}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as l}from\"./internal/MaterialUtil.js\";import{SlicePlaneMaterialTechnique as c}from\"../shaders/SlicePlaneMaterialTechnique.js\";class m extends o{constructor(r){super(r,f),this._config=new t}intersect(r,e,t,i,o,n,s){return l(r,e,i,o,n,void 0,s)}createBufferWriter(){return new a(u)}requiresSlot(r){return r===s.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(r){return r.output===e.Color?new h(r):null}getTechniqueConfig(){return this._config}}class h extends i{constructor(r){super(r),this.ensureTechnique(c,null)}updateParameters(){return r(this.technique)}beginSlot(){return r(this.technique)}bind(r,e){e.bindPass(this._material.parameters,r)}}const f={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...n};export{m as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../chunks/mat4.js\";import{s as n,d as e,g as o,n as r,c as u}from\"../../chunks/vec3.js\";import{c as i}from\"../../chunks/vec3f64.js\";import{getSphericalPCPF as a,getReferenceEllipsoid as s}from\"../projectionEllipsoid.js\";import c from\"../SpatialReference.js\";import{Axis as l}from\"./Axis.js\";import{f,b as p}from\"../../chunks/boundedPlane.js\";import{f as v,s as m}from\"../../chunks/sphere.js\";function h(t){const{value:n,operations:e}=t;return{operations:e,value:e.create(n)}}function j(t,n,e){return t.operations.setExtent(t.value,n,e.value),e}function d(t){return{operations:t,value:t.create()}}function A(t,n,e=d(t)){return e.operations=t,t.copy(n,e.value),e}function k(t){return A(m,v(0,0,0,s(t).radius))}const x=2**50;function y(){return A(p,f([0,0,0],[x,0,0],[0,x,0]))}function P(t,n){return B.operations=t,B.value=n,B}function R(t,n,e){return t.operations.axisAt(t.value,n,l.Z,e)}function S(t,n,e,o){return t.operations.axisAt(t.value,n,e,o)}function b(t,n,e){return t.operations.intersectRay(t.value,n,e)}function g(t,n){return t.operations.intersectRay(t.value,n,null)}function C(t,n,e){return t.operations.closestPoint(t.value,n,e)}function E(t,n,e){return t.operations.intersectRayClosestSilhouette(t.value,n,e)}function G(t,n,e){return t.operations.closestPointOnSilhouette(t.value,n,e)}function O(t,n){return t.operations.distanceToSilhouette(t.value,n)}function T(t,n){return t.operations.altitudeAt(t.value,n)}function Z(t,n,e,o){return t.operations.setAltitudeAt(t.value,n,e,o)}function q(e,o,r,u){return o!==u&&t(u,o),n(z,u[12],u[13],u[14]),Z(e,z,r,z),u[12]=z[0],u[13]=z[1],u[14]=z[2],u}function w(t,n,e){return t.operations.elevate(t.value,n,e.value)}const z=i(),B={operations:null,value:null};function D(t,n,o,r,u){return u[0]=e(t,n),u[1]=e(t,o),u[2]=e(t,r),u}function F(t,n,e,i,a){o(e,t),o(I,n),r(I,I),u(i,I,e),u(a,i,e)}function H(t,n){return t?a(n):n.isGeographic?c.PlateCarree:n}const I=i();export{T as altitudeAt,S as axisAt,C as closestPoint,G as closestPointOnSilhouette,F as coordinateSystemFromOneAxisAndNormalVector,h as create,d as createFromOperations,k as createGlobal,y as createLocal,O as distanceToSilhouette,w as elevate,A as fromValues,b as intersectRay,E as intersectRayClosestSilhouette,g as intersectsRay,R as normalAt,H as renderSRFromViewSR,Z as setAltitudeAt,q as setAltitudeOfTransformation,j as setExtent,D as vectorCoordinates,P as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{bindSliceUniformsWithOrigin as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as i}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as o}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as a}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as n}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as l,ShaderTechniqueConfiguration as p}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as c,TransparencyPassType as u}from\"../lib/basicInterfaces.js\";import{Default3D as d}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as m,oitDepthTest as h,oitDepthWrite as b,getOITPolygonOffset as f}from\"../lib/OrderIndependentTransparency.js\";import{Program as g}from\"../lib/Program.js\";import{stencilWriteMaskOn as y,stencilToolMaskBaseParams as T,stencilBaseAllZerosParams as P}from\"../lib/StencilUtils.js\";import{I as j}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as v}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as S,cullingParams as E,defaultDepthWriteParams as w,defaultColorWriteParams as N}from\"../../../webgl/renderState.js\";class _ extends n{initializeProgram(e){const t=_.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,oitEnabled:r.transparencyPassType===u.Color,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new g(e.rctx,i,d)}bindPass(e,t){s(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",e.opacity),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"nearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),i(this.program,t))}bindDraw(e){o(this.program,e),r(this.program,this.configuration,e),this.program.rebindTextures()}_setPipelineState(e,r){const i=this.configuration,s=e===u.NONE,o=e===u.FrontFace;return S({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?x:m(e),culling:E(i.cullFace),depthTest:{func:h(e)},depthWrite:s?i.writeDepth&&w:b(e),colorWrite:N,stencilWrite:i.sceneHasOcludees?y:null,stencilTest:i.sceneHasOcludees?r?T:P:null,polygonOffset:s||o?null:f(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new a(j,(()=>import(\"./ImageMaterial.glsl.js\")));const x=O(v.ONE,v.ONE_MINUS_SRC_ALPHA);class A extends p{constructor(){super(...arguments),this.output=t.Color,this.cullFace=c.None,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=u.NONE,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([l({count:t.COUNT})],A.prototype,\"output\",void 0),e([l({count:c.COUNT})],A.prototype,\"cullFace\",void 0),e([l()],A.prototype,\"slicePlaneEnabled\",void 0),e([l()],A.prototype,\"transparent\",void 0),e([l()],A.prototype,\"enableOffset\",void 0),e([l()],A.prototype,\"writeDepth\",void 0),e([l()],A.prototype,\"sceneHasOcludees\",void 0),e([l({count:u.COUNT})],A.prototype,\"transparencyPassType\",void 0),e([l()],A.prototype,\"multipassTerrainEnabled\",void 0),e([l()],A.prototype,\"cullAboveGround\",void 0);export{_ as ImageMaterialTechnique,A as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../../geometry.js\";import e from\"../../../../../analysis/SlicePlane.js\";import{neverReached as t}from\"../../../../../core/compilerUtils.js\";import r from\"../../../../../core/Logger.js\";import{rad2deg as s,deg2rad as i}from\"../../../../../core/mathUtils.js\";import{isNone as n,isSome as o}from\"../../../../../core/maybe.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{g as c,b as l,h as u,m as d,r as m,i as p,j as g,k as f}from\"../../../../../chunks/mat4.js\";import{c as b}from\"../../../../../chunks/mat4f64.js\";import{r as h}from\"../../../../../chunks/quat.js\";import{a as T,g as y,d as O,c as w,n as I,b as E,l as R,f as j,p as A,s as M,v as L}from\"../../../../../chunks/vec3.js\";import{a as P,c as k,f as C}from\"../../../../../chunks/vec3f64.js\";import{tryProjectWithZConversion as _}from\"../../../../../geometry/projection.js\";import{Axis as v}from\"../../../../../geometry/support/Axis.js\";import{r as N,f as U,i as V,c as S,n as x,u as G}from\"../../../../../chunks/boundedPlane.js\";import{fromPositionAndNormal as F,fromVectorsAndPoint as H}from\"../../../../../geometry/support/plane.js\";import{create as D}from\"../../../../../geometry/support/ray.js\";import{angleAroundAxis as z}from\"../../../../../geometry/support/vector.js\";import{sv3d as X,sm4d as Y,sq4d as Z}from\"../../../../../geometry/support/vectorStacks.js\";import{applyProjectionAndElevationAlignment as B}from\"../../../analysis/support/projectionUtils.js\";import{Manipulator3D as W}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as q}from\"../../manipulatorUtils.js\";import{SHIFT_RESTART_TIP_RADIUS as $,RESIZE_HANDLE_EDGE_PADDING_FRAC as J,VERTICAL_DOT_THRESHOLD as K,SMALL_ANGLE_DOT_THRESHOLD as Q,PLANE_MIN_BASIS_SCREEN_LEN2 as ee,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as te,SHIFT_RESTART_OFFSET_DISTANCE as re,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as se,SHIFT_RESTART_ARROW_TIP_COLOR as ie,SHIFT_RESTART_ARROW_CAP_COLOR as ne,SHIFT_RESTART_TUBE_COLOR as oe,SHIFT_RESTART_OUTLINE_COLOR as ae,SHIFT_RESTART_CALLOUT_COLOR as ce,ROTATE_HEADING_OFFSET_DISTANCE as le,ROTATE_HEADING_DISC_RADIUS as ue,ROTATE_HEADING_CALLOUT_COLOR as de,PLANE_OUTLINE_COLOR as me,PLANE_OUTLINE_WIDTH as pe,PLANE_BACKGROUND_COLOR as ge,GRID_COLOR as fe,RESIZE_HANDLE_CORNER_INPUT_RADIUS as be,RESIZE_HANDLE_EDGE_INPUT_RADIUS as he,ROTATE_HEADING_TIP_LENGTH as Te,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as ye,RESIZE_HANDLE_COLOR as Oe,DISPLAY_FOCUS_MULTIPLIER as we,RESIZE_HANDLE_EDGE_WIDTH as Ie,SHIFT_RESTART_ARROW_LENGTH as Ee,SHIFT_RESTART_TUBE_RADIUS as Re,SHIFT_RESTART_TIP_LENGTH as je,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as Ae,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as Me,RESIZE_HANDLE_CORNER_WIDTH as Le}from\"./sliceToolConfig.js\";import{LineVisualElement as Pe}from\"../../visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as ke}from\"../../visualElements/SlicePlaneVisualElement.js\";import{RenderCoordsHelper as Ce}from\"../../../support/RenderCoordsHelper.js\";import{fromRender as _e}from\"../../../support/geometryUtils/ray.js\";import{CullFaceOptions as ve}from\"../../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as Ne}from\"../../../webgl-engine/lib/Geometry.js\";import Ue from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as Ve}from\"../../../webgl-engine/lib/Material.js\";import{VertexAttribute as Se}from\"../../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as xe}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as Ge}from\"../../../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as Fe}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as He}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import{ManipulatorStateCustomFlags as De,ManipulatorStateFlags as ze}from\"../../../../interactive/interfaces.js\";import Xe from\"../../../../../geometry/Extent.js\";const Ye=r.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Ze(e,t,r,s,i,n,o,a){return Be(t,o.worldUpAtPosition(e,X.get()),i,n,a.basis1,a.basis2),T(a.basis1,a.basis1,r),T(a.basis2,a.basis2,s),y(a.origin,e),H(a.basis2,a.basis1,a.origin,a.plane),a}function Be(e,t,r,s,i,n){const o=O(e,t),a=X.get(),c=X.get();switch(s===Ct.HORIZONTAL_OR_VERTICAL?Math.abs(o)>K?Ct.HORIZONTAL:Ct.VERTICAL:s){case Ct.VERTICAL:{const s=Math.abs(o)<=Q?e:r.viewUp;w(a,s,t),y(c,t);break}case Ct.HORIZONTAL:w(a,r.viewUp,t),w(c,t,a);break;case Ct.TILTED:{const s=Math.abs(o)<=Q?t:r.viewUp;w(a,s,e),w(c,e,a);break}}const l=w(X.get(),a,c);O(l,r.viewForward)>0&&T(c,c,-1),I(i,a),I(n,c)}function We(e,t,r){const s=t.worldUpAtPosition(e.origin,X.get()),i=e.basis1,n=It(e,s),o=Math.round(n/Nt)*Nt;return N(e,o-n,i,r)}function qe(e,t,r,s,i,n){const o=y(X.get(),i.origin);E(o,o,T(X.get(),i.basis1,e.direction[0]<0?1:-1)),E(o,o,T(X.get(),i.basis2,e.direction[1]<0?1:-1));const a=R(i.basis1),c=R(i.basis2),l=j(X.get(),r,o),u=j(X.get(),t,o);let d=0,m=0;if(ut(e)){const t=lt(i),r=lt(n);d=a-.5*e.direction[0]*O(i.basis1,u)/a,m=c-.5*e.direction[1]*O(i.basis2,u)/c;const s=r/t;d*=s,m*=s}const p=d+.5*e.direction[0]*O(i.basis1,l)/a,g=m+.5*e.direction[1]*O(i.basis2,l)/c,f=T(X.get(),i.basis1,p/a),b=T(X.get(),i.basis2,g/c);(p<=0||at(n.origin,f,s)<=ee)&&y(f,n.basis1),(g<=0||at(n.origin,b,s)<=ee)&&y(b,n.basis2);const h=y(X.get(),o);return E(h,h,T(X.get(),f,e.direction[0]<0?-1:1)),E(h,h,T(X.get(),b,e.direction[1]<0?-1:1)),U(h,f,b,n)}function $e(e,t){return te*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Je(e,t,r,s){const i=w(X.get(),t,r);return w(i,i,t),F(e,i,s)}function Ke(e,t){return q(e.basis1,e.basis2,e.origin,t)}function Qe(e,t,r,s){const i=t.worldUpAtPosition(e.origin,X.get()),n=X.get();switch(r){case kt.HEADING:y(n,i);break;case kt.TILT:y(n,e.basis1)}return F(e.origin,n,s)}function et(e,t,r,s){const i=ot(r,nt.NEGATIVE_X),n=Y.get();c(n,t,i.edge*Math.PI/2);const o=I(X.get(),i.basis);let l=T(X.get(),o,i.direction*s.computeScreenPixelSizeAt(i.position)*re);E(l,l,i.position);const u=s.projectToRenderScreen(l,a(X.get())),d=tt(s,u);_e(s,u,vt),I(vt.direction,vt.direction);const m=X.get();!d&&V(r,vt,m)&&(l=m),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=P(l),d?e.state|=_t:e.state&=~_t}function tt(e,t){const[r,s,i,n]=e.viewport,o=Math.min(i,n)/16;let a=!0;return t[0]<r+o?(t[0]=r+o,a=!1):t[0]>r+i-o&&(t[0]=r+i-o,a=!1),t[1]<s+o?(t[1]=s+o,a=!1):t[1]>s+n-o&&(t[1]=s+n-o,a=!1),a}function rt(e,t,r,s){const i=R(s.basis1),n=R(s.basis2),o=ct(s),a=lt(s),c=M(X.get(),0,0,0);E(c,T(X.get(),s.basis1,t.direction[0]),T(X.get(),s.basis2,t.direction[1])),E(c,s.origin,c);let m=0,p=1;if(ut(t))1===t.direction[0]&&-1===t.direction[1]?m=Nt:1===t.direction[0]&&1===t.direction[1]?m=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(m=3*Math.PI/2),p=a;else{const e=0!==t.direction[0]?1:2;m=1===e?Nt:0,p=(1===e?n:i)-o}const g=l(Y.get(),m);u(g,g,M(X.get(),p,p,p)),d(g,r,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=c}function st(e,t,r,s){const i=s.worldUpAtPosition(r.origin,X.get()),n=ot(r,nt.POSITIVE_X),o=l(Y.get(),n.edge*Math.PI/2);m(o,o,-It(r,i)),d(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=n.position}function it(e,t,r){const s=ot(r,nt.POSITIVE_Y),i=l(Y.get(),s.edge*Math.PI/2);m(i,i,Nt),d(i,t,i),i[12]=0,i[13]=0,i[14]=0,e.modelTransform=i,e.renderLocation=s.position}var nt;function ot(e,t){switch(t){case nt.POSITIVE_X:return{basis:e.basis1,direction:1,position:E(X.get(),e.origin,e.basis1),edge:t};case nt.POSITIVE_Y:return{basis:e.basis2,direction:1,position:E(X.get(),e.origin,e.basis2),edge:t};case nt.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:j(X.get(),e.origin,e.basis1),edge:t};case nt.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:j(X.get(),e.origin,e.basis2),edge:t}}}function at(e,t,r){const s=r.projectToRenderScreen(E(X.get(),e,t),a(X.get())),i=r.projectToRenderScreen(j(X.get(),e,t),a(X.get()));return A(j(s,s,i))}function ct(e){const t=R(e.basis1),r=R(e.basis2);return J*Math.min(t,r)}function lt(e){return ct(e)}function ut(e){return 0!==e.direction[0]&&0!==e.direction[1]}function dt(e,t=St.CENTER_ON_ARROW){const r=t===St.CENTER_ON_CALLOUT?re:0,s=[C(r,0,-Ee/2),C(r,0,Ee/2)],i=Tt(s,!0),n=(e,t)=>bt(s,s,{tubeRadius:Re,tipRadius:$,tipLength:je,tubeFocusMultiplier:Ae,tipFocusMultiplier:Me,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),o=n(0,!1),a=n(se,!0),c=new xe({color:ie,cullFace:ve.Back,renderOccluded:Ve.Opaque}),l=new xe({color:ne,cullFace:ve.Back,renderOccluded:Ve.Opaque}),u=new xe({color:oe,cullFace:ve.Back,renderOccluded:Ve.Opaque}),d=new xe({color:ae,transparent:!0,writeDepth:!1,cullFace:ve.Front,renderOccluded:Ve.Transparent}),m=Ue.createPolylineGeometry([[r,0,0],[r-re,0,0]]),p=Ue.createPolylineGeometry([[r,0,0],[r-re,0,0]]),g=new Fe({color:ce,renderOccluded:Ve.OccludeAndTransparent});return new W({view:e,renderObjects:[...o.normal.map((({part:e,geometry:t,transform:r})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:r,stateMask:ze.Unfocused|Pt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:d,transform:t,stateMask:ze.Unfocused|Pt}))),{geometry:m,material:g,stateMask:ze.Unfocused|Pt|_t},...o.focused.map((({part:e,geometry:t,transform:r})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:r,stateMask:ze.Focused|Pt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:d,transform:t,stateMask:ze.Focused|Pt}))),{geometry:p,material:g,stateMask:ze.Focused|Pt|_t}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[i]},collisionPriority:1,radius:$,state:Pt})}function mt(e,t){const r=new Ge({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:Ve.Opaque}),s=le,i=ue,n=i*ye,o=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new Ne([[Se.POSITION,{size:3,data:[s-e,-e,0,s+e,-e,0,s+e,e,0,s-e,e,0],exclusive:!0}],[Se.UV0,{size:2,data:[0,0,1,0,1,1,0,1]}]],[[Se.POSITION,t],[Se.UV0,t]])},a=Ue.createPolylineGeometry([[0,0,0],[s-i,0,0]]),c=Ue.createPolylineGeometry([[0,0,0],[s-n,0,0]]),l=new Fe({color:de,renderOccluded:Ve.OccludeAndTransparent}),u=[{geometry:o(i),material:r,stateMask:ze.Unfocused|Pt},{geometry:a,material:l,stateMask:ze.Unfocused|Pt},{geometry:o(n),material:r,stateMask:ze.Focused|Pt},{geometry:c,material:l,stateMask:ze.Focused|Pt}];return new W({view:e,renderObjects:u,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:i/2,state:Pt})}function pt(e){const t=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new Pe({view:e,attached:!0,color:me,width:pe,writeDepthEnabled:!1,renderOccluded:Ve.OccludeAndTransparent,geometry:[t]})}function gt(e){return new ke({view:e,attached:!0,backgroundColor:[...ge],gridColor:fe,gridWidth:4,renderOccluded:Ve.OccludeAndTransparent})}function ft(e,t){const r=ut(t),s=r?[C(1,0,0),C(0,0,0),C(0,1,0)]:[C(1,0,0),C(-1,0,0)],i=Ue.createPolylineGeometry(s),n=Oe,o=e=>new He({color:n,width:e,renderOccluded:Ve.OccludeAndTransparent}),a=()=>new Fe({color:n,renderOccluded:Ve.OccludeAndTransparent}),c=r?Le:Ie,l=c*we,u=Ie,d=e=>e>1?o(e):a(),m=[{geometry:i,material:d(c),stateMask:ze.Unfocused|Ut},{geometry:i,material:d(l),stateMask:ze.Focused|Ut},{geometry:i,material:d(u),stateMask:Vt}],p=new W({view:e,renderObjects:m,collisionType:{type:\"line\",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:r?be:he});return p.state=Ut,p}function bt(e,t,r){const s=s=>{const i=(s?t:e).slice(0),n=j(X.get(),i[0],i[1]);I(n,n);const a=j(X.get(),i[i.length-1],i[i.length-2]);if(I(a,a),r.padding>0){const e=T(k(),a,-r.padding);if(i[i.length-1]=E(e,e,i[i.length-1]),r.bothEnds){const e=T(k(),n,-r.padding);i[0]=E(e,e,i[0])}}const c=s?r.tipFocusMultiplier:1,l=r.tipLength*(r.focusTipLength?c:1),m=r.tipRadius*c,y=p(Y.get());if(r.padding>0){const e=l/4,t=M(X.get(),0,e,0),s=1+r.padding/e;g(y,y,t),u(y,y,M(X.get(),s,s,s)),g(y,y,T(t,t,-1/s))}const O=p(b()),w=C(0,1,0),R=f(b(),h(Z.get(),w,a));R[12]=i[i.length-1][0],R[13]=i[i.length-1][1],R[14]=i[i.length-1][2],d(R,R,y);const A=[{part:\"tube\",geometry:ht(r.tubeRadius*(s?r.tubeFocusMultiplier:1)+r.padding,r.flat,i),transform:O}];let L,P;if(o(r.flat)?L=Ue.createExtrudedTriangle(l,m,m,r.flat.thickness):(L=Ue.createConeGeometry(l,m,24,!1,!1,!0),P=Ue.createConeGeometry(l,m,24,!1,!0,!1)),A.push({part:\"tip\",geometry:L,transform:R}),P&&A.push({part:\"cap\",geometry:P,transform:R}),r.bothEnds){const e=f(b(),h(Z.get(),w,n));e[12]=i[0][0],e[13]=i[0][1],e[14]=i[0][2],d(e,e,y),A.push({part:\"tip\",geometry:L,transform:e}),P&&A.push({part:\"cap\",geometry:P,transform:e})}return A};return{normal:s(!1),focused:s(!0)}}function ht(e,t,r){const s=[];if(o(t))s.push([e,t.thickness/2],[-e,t.thickness/2],[-e,-t.thickness/2],[e,-t.thickness/2]);else{const t=12;for(let r=0;r<t;r++){const i=r/t*2*Math.PI;s.push([Math.cos(i)*e,Math.sin(i)*e])}}return Ue.createPathExtrusionGeometry(s,r,[],[],!1)}function Tt(e,t){const r=j(k(),e[e.length-1],e[e.length-2]);if(I(r,r),T(r,r,Te),E(r,r,e[e.length-1]),t){const t=j(k(),e[0],e[1]);return I(t,t),T(t,t,Te),E(t,t,e[0]),[t,...e,r]}return[...e,r]}function yt(t,r,i,o=new e){if(n(t))return null;const{renderCoordsHelper:a}=r,c=a.fromRenderCoords(t.origin,r.spatialReference);if(n(c))return null;const l=_(c,i);if(n(l))return null;o.position=l;const u=a.worldUpAtPosition(t.origin,X.get()),d=a.worldBasisAtPosition(t.origin,v.Y,X.get()),m=2*R(t.basis1),p=2*R(t.basis2),g=Ce.renderUnitScaleFactor(r.spatialReference,i);return o.width=m*g,o.height=p*g,o.tilt=s(It(t,u)),o.heading=s(Et(t,u,d)),o}function Ot(e,t,r){if(n(e)||n(e.position))return null;const{spatialReference:s}=e.position,i=wt(At(e,{renderCoordsHelper:t,spatialReference:s},r),t,s);return!e.position.hasZ&&o(i)&&(i.zmin=null,i.zmax=null),i}function wt(e,t,r){if(n(e))return null;const s=e.origin,i=X.get(),o=X.get(),a=X.get(),c=X.get();let l,u,d,m,p,g;E(i,s,e.basis1),E(i,i,e.basis2),E(o,s,e.basis1),L(o,o,e.basis2),L(a,s,e.basis1),L(a,a,e.basis2),L(c,s,e.basis1),E(c,c,e.basis2);for(const f of[i,o,a,c]){const e=t.fromRenderCoords(f,f,r);if(n(e))return null;l=null==l?e[0]:Math.min(l,e[0]),u=null==u?e[0]:Math.max(u,e[0]),d=null==d?e[1]:Math.min(d,e[1]),m=null==m?e[1]:Math.max(m,e[1]),p=null==p?e[2]:Math.min(p,e[2]),g=null==g?e[2]:Math.max(g,e[2])}return new Xe({xmin:l,xmax:u,ymin:d,ymax:m,zmin:p,zmax:g,spatialReference:r})}function It(e,t){return z(t,e.basis2,e.basis1)+Nt}function Et(e,t,r){return z(e.basis1,r,t)-Nt}function Rt(e,t,r,s,n,o,a=S()){return o.toRenderCoords(e,a.origin)?(o.worldBasisAtPosition(a.origin,v.X,a.basis1),o.worldBasisAtPosition(a.origin,v.Y,a.basis2),H(a.basis2,a.basis1,a.origin,a.plane),N(a,-i(t),x(a),a),N(a,i(r),a.basis1,a),T(a.basis1,a.basis1,s/2),T(a.basis2,a.basis2,n/2),G(a),a):(Ye.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}function jt(e,t){if(n(e)||n(e.position))return null;const r=B(e.position,t.spatialReference,t.elevationProvider);if(n(r))return null;const s=Ce.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),i=e.width*s,o=e.height*s;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:i,renderHeight:o}}function At(e,t,r,s=S()){const i=jt(e,t);return n(i)?null:Mt(i,t,r,s)}function Mt(e,t,r,s=S()){if(n(e))return null;const i=Rt(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,s);return!r.tiltEnabled&&o(i)&&We(i,t.renderCoordsHelper,i),i}function Lt(e){switch(e.type){case\"analysis\":case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return t(e.type),!1}}!function(e){e[e.POSITIVE_X=0]=\"POSITIVE_X\",e[e.POSITIVE_Y=1]=\"POSITIVE_Y\",e[e.NEGATIVE_X=2]=\"NEGATIVE_X\",e[e.NEGATIVE_Y=3]=\"NEGATIVE_Y\"}(nt||(nt={}));const Pt=De.Custom1;var kt,Ct;!function(e){e[e.HEADING=1]=\"HEADING\",e[e.TILT=2]=\"TILT\"}(kt||(kt={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]=\"HORIZONTAL_OR_VERTICAL\",e[e.HORIZONTAL=1]=\"HORIZONTAL\",e[e.VERTICAL=2]=\"VERTICAL\",e[e.TILTED=3]=\"TILTED\"}(Ct||(Ct={}));const _t=De.Custom2,vt=D(),Nt=Math.PI/2,Ut=De.Custom1,Vt=De.Custom2;var St;function xt(e){const t=\"building-scene-3d\"===e.type?e:null;return o(t)}!function(e){e[e.CENTER_ON_CALLOUT=0]=\"CENTER_ON_CALLOUT\",e[e.CENTER_ON_ARROW=1]=\"CENTER_ON_ARROW\"}(St||(St={}));export{Pt as DidPointerMoveRecentlyFlag,_t as IsShiftEdgeOnScreenFlag,St as OffsetMode,kt as RotationAxis,Ct as SliceOrientation,Tt as addArrowTips,Ke as calculateBoundedPlaneTranslateRotate,lt as calculateDiagonalResizeHandleScale,$e as calculatePlaneHalfSize,ct as calculateResizeHandlePadding,at as calculateScreenSpaceBasisLength2,bt as createArrowGeometry,gt as createGridVisualElement,pt as createOutlineVisualElement,Ze as createPlane,ft as createResizeManipulator,mt as createRotateManipulator,Qe as createRotatePlane,dt as createShiftManipulator,Je as createShiftPlane,We as forceHorizontalOrVertical,Lt as isAlwaysDrapedLayer,ut as isDiagonalResizeHandle,xt as isIBuildingSceneLayerView3D,Be as normalToBases,wt as planeToExtent,yt as planeToShape,jt as projectAndElevationAlignShape,Mt as projectedShapeToPlane,Ut as resizeNormal,Vt as resizeOutlineOnly,qe as resizePlane,Ot as shapeToExtent,At as shapeToPlane,rt as updateResizeHandle,st as updateRotateHeadingHandle,it as updateRotateTiltHandle,et as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{outputFromPass as r}from\"../lib/GLMaterials.js\";import i from\"../lib/GLMaterialTexture.js\";import{DefaultMaterialParameters as a,Material as s}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as l,PositionUVLayout as o}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as c}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as h,ImageMaterialTechnique as p}from\"../shaders/ImageMaterialTechnique.js\";class m extends s{constructor(e){super(e,f),this.supportsEdges=!0,this.techniqueConfig=new h}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<n,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}intersect(e,t,r,i,a,s,n){c(e,t,i,a,s,void 0,n)}requiresSlot(t,i){if(t===u.DRAPED_MATERIAL)return!0;if(r(i)===e.Highlight)return t===u.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?u.TRANSPARENT_MATERIAL:u.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:u.OPAQUE_MATERIAL)}createGLMaterial(t){return t.output===e.Color||t.output===e.Alpha||t.output===e.Highlight?new d(t):void 0}createBufferWriter(){return new l(o)}}class d extends i{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(p,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&(this._material.setParameters({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this.updateParameters(t)}bind(e,t){this.bindTextures(t.program),this.bindTextureScale(t.program),t.bindPass(this._material.parameters,e)}}const f={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:t.None,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{m as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst D=\"data:image/png;base64,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\";export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"./heading-rotate-png.js\";import r from\"./tilt-rotate-png.js\";import{Texture as e}from\"../../../../webgl-engine/lib/Texture.js\";const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(t,(()=>new e(t,n)))}function i(t){return t.fromData(r,(()=>new e(r,n)))}export{o as getRotateHeadingTexture,i as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{isDiagonalResizeHandle as a}from\"../../analysisTools/slice/sliceToolUtils.js\";import{EventPipeline as e}from\"../../../../interactive/dragEventPipeline.js\";class s{constructor(){this.lastDragEvent=null,this.next=new e,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this._adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=a(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}get test(){return{_adjustScaleFactors:t=>this._adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{q as s,s as o,k as i,x as n,y as r,f as t,m as a,g as e}from\"../../../../chunks/vec2.js\";import{b as c,G as g,a as b,f,e as u,c as m,n as p,d as I,l as d}from\"../../../../chunks/vec3.js\";import{f as N,Z as j}from\"../../../../chunks/vec3f64.js\";import{c as x,u as E}from\"../../../../chunks/boundedPlane.js\";import{sv2d as T,sv3d as V}from\"../../../../geometry/support/vectorStacks.js\";import{MoveVertex as h}from\"../operations/MoveVertex.js\";import{RotateVertex as k}from\"../operations/RotateVertex.js\";import{ScaleVertex as v}from\"../operations/ScaleVertex.js\";import{UpdateVertices as R}from\"../operations/UpdateVertices.js\";function l(s,o){return F(s,o,!1)}function C(s,o){return F(s,o,!0)}function F(s,o,i){if(s instanceof R){if(s.operation instanceof h)return S(s.operation,o,i),!0;if(s.operation instanceof k)return Y(s.operation,o,i),!0;if(s.operation instanceof v)return _(s.operation,o,i),!0}return!1}function S(s,o,i=!1){const n=i?-1:1,r=N(n*s.dx,n*s.dy,n*s.dz);c(o.origin,o.origin,r)}function Y(s,o,i=!1){const n=i?-s.angle:s.angle;g(o.basis1,o.basis1,j,n),g(o.basis2,o.basis2,j,n)}function _(o,i,n=!1){const r=n?1/o.factor1:o.factor1,t=n?1/o.factor2:o.factor2;b(i.basis1,i.basis1,r),b(i.basis2,i.basis2,t),s(i.origin,i.origin,o.origin,o.axis1,r),s(i.origin,i.origin,o.origin,o.axis2,t)}function y(s,c,g,b){b||(b=x());const f=o(T.get(),s[1],-s[0]),u=o(T.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),m=o(T.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=T.get();c.components.forEach((t=>t.vertices.forEach((t=>{const a=t.pos;o(p,i(s,a),i(f,a)),n(u,u,p),r(m,m,p)}))));const I=1e-6,d=o(T.get(),m[0]-u[0]<I?g/2:0,m[1]-u[1]<I?g/2:0);return t(u,u,d),a(m,m,d),e(b.basis1,s,(m[0]-u[0])/2),e(b.basis2,f,(m[1]-u[1])/2),o(b.origin,u[0]*s[0]+u[1]*f[0],u[0]*s[1]+u[1]*f[1]),a(b.origin,b.origin,b.basis1),a(b.origin,b.origin,b.basis2),b}function G(s,o,i,n=0,r){r||(r=x()),o.toRenderCoords(s.origin,i,r.origin);const t=V.get();c(t,s.origin,s.basis1),c(t,t,s.basis2),o.toRenderCoords(t,i,t);const a=V.get();c(a,s.origin,s.basis1),f(a,a,s.basis2),o.toRenderCoords(a,i,a);const e=V.get();f(e,s.origin,s.basis1),f(e,e,s.basis2),o.toRenderCoords(e,i,e);const g=V.get();f(g,s.origin,s.basis1),c(g,g,s.basis2),o.toRenderCoords(g,i,g);const N=u(V.get(),t,a,.5);f(N,N,r.origin);const j=u(V.get(),e,g,.5);f(j,r.origin,j),u(r.basis1,N,j,.5);const T=u(V.get(),g,t,.5);f(T,T,r.origin);const h=u(V.get(),a,e,.5);f(h,r.origin,h),u(r.basis2,T,h,.5);const k=m(V.get(),r.basis1,r.basis2),v=m(k,k,r.basis1);return p(v,v),b(r.basis2,v,I(r.basis2,v)),b(r.basis1,r.basis1,1+n/d(r.basis1)),b(r.basis2,r.basis2,1+n/d(r.basis2)),E(r),r}export{l as apply,y as calculateOrientedBounds,G as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as r,unwrapOr as o,isNone as n,unwrap as p}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as h}from\"../../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../../core/unitUtils.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{property as d}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{g as m}from\"../../../../../chunks/mat4.js\";import{f as g,i as y,s as v}from\"../../../../../chunks/vec2.js\";import{a as f}from\"../../../../../chunks/vec2f64.js\";import{g as S,F as M,f as _,n as b,l as B,d as E}from\"../../../../../chunks/vec3.js\";import{c as A,a as x}from\"../../../../../chunks/vec3f64.js\";import{containsXY as G}from\"../../../../../geometry/support/aaBoundingRect.js\";import{c as R,a as w}from\"../../../../../chunks/boundedPlane.js\";import{intersectRay as j,create as D,normal as O}from\"../../../../../geometry/support/plane.js\";import{create as T}from\"../../../../../geometry/support/ray.js\";import{sv2d as P,sv3d as U,sm4d as z}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as C}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as Z}from\"../../Manipulator3D.js\";import{getGraphicAttachmentOrigin as k,calculateInputRotationTransform as L}from\"../../manipulatorUtils.js\";import{createShiftManipulator as V,OffsetMode as N,IsShiftEdgeOnScreenFlag as H,createResizeManipulator as I,createRotateManipulator as X,resizeNormal as Y,resizeOutlineOnly as F,isDiagonalResizeHandle as W,calculateDiagonalResizeHandleScale as q,createRotatePlane as J,RotationAxis as K,calculateBoundedPlaneTranslateRotate as Q,updateRotateHeadingHandle as $,updateResizeHandle as tt}from\"../../analysisTools/slice/sliceToolUtils.js\";import{getRotateHeadingTexture as et}from\"../../analysisTools/slice/images/Factory.js\";import{screenToZConstrained as it,screenToRenderPlane as at}from\"../dragEventPipeline3D.js\";import{ManipulatorType as st}from\"../ManipulatorType.js\";import{canMoveZ as rt}from\"../manipulatorUtils.js\";import{createVisualElements as ot}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as nt}from\"../manipulations/MoveXYGraphicManipulation.js\";import{PreserveAspectRatio as pt}from\"./PreserveAspectRatio.js\";import{OutlineVisualElement as ht}from\"../../visualElements/OutlineVisualElement.js\";import{evaluateElevationAlignmentAtPoint as lt}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as ct}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as dt}from\"../../../layers/graphics/GraphicState.js\";import{fromScreen as ut}from\"../../../support/geometryUtils/ray.js\";import{createManipulatorDragEventPipeline as mt,addMapDelta as gt,addScreenDelta as yt}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as vt}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as ft}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehaviour as St}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as Mt}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{calculateOrientedBounds as _t,mapPlaneToRenderPlane as bt,apply as Bt,unapply as Et}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let At=class extends(e.EventedMixin(vt)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new pt,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new i,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=R(),this.mapBoundsStart=R(),this.displayBounds=R(),this.displayBoundsStart=R(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new dt({graphic:this.graphic});const t=this.graphic.geometry;this.editGeometryOperations=ft.fromGeometry(t,this.view.state.viewingMode),this.graphicMoveManipulation=new nt({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=V(this.view,N.CENTER_ON_CALLOUT),this.moveZManipulator.state|=H,this.handles.add(this.watch(\"enableZ\",(()=>this._updateManipulatorAvailability(this.moveZManipulator,st.TRANSLATE_Z)))),this.handles.add(this._createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=I(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this._updateManipulatorAvailability(e,st.SCALE)))),e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this.handles.add(this._createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=et(this.view.toolViewManager.textures),this.rotateManipulator=X(this.view,this.rotateManipulatorTexture.texture),this.handles.add(this.watch(\"enableRotation\",(()=>this._updateManipulatorAvailability(this.rotateManipulator,st.ROTATE)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this._calculateMapBounds(),this._updateDisplayBounds();const e=ot({view:this.view,graphic:this.graphic,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>a()});r(e)&&(this.outlineVisualElement=e.visualElement instanceof ht?e.visualElement:null),r(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this._updateDisplayBounds()))),this.handles.add(e),this.handles.add([this.graphicState.on(\"changed\",(()=>this._onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this._updateAllManipulatorAvailability())),c(this.graphicState,\"isDraped\",(()=>this._graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const i=this.view.pointsOfInterest;i&&this.handles.add(i.centerOnSurfaceFrequent.watch(\"location\",(()=>this._updateDisplayBounds())));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this._updateAllManipulatorAvailability()})))};this._forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{e===st.TRANSLATE_XY&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this._forEachManipulator(o),this._onGeometryChanged(),this._updateAllManipulatorAvailability(),this.finishToolCreation()}_graphicDrapedChanged(){this.handles.remove(xt),this._updateDisplayBounds(),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{r(this.attachmentOrigin)&&G(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this._updateDisplayBounds()})),xt)}_updateAllManipulatorAvailability(){this._forEachManipulator(((t,e)=>this._updateManipulatorAvailability(t,e)))}_updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof Z){const a=this.graphicState.displaying,s=this.enableZ&&rt(this.graphic);switch(e){case st.ROTATE:t.available=a&&this.enableRotation;break;case st.SCALE:t.available=a&&(this.enableScaling||this.enableRotation||s),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?Y:F;break;case st.TRANSLATE_Z:t.available=a&&s;break;default:t.available=a}}}_forEachManipulator(t){this.graphicMoveManipulation.forEachManipulator(t),this.resizeManipulators.forEach((e=>t(e,st.SCALE))),t(this.rotateManipulator,st.ROTATE),t(this.moveZManipulator,st.TRANSLATE_Z)}destroy(){this.mapBounds=null,this.displayBounds=null,this.rotateManipulatorTexture.release(),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.editGeometryOperations.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}_onGeometryChanged(){this._updateDisplayBounds()}_calculateMapBounds(){const t=this.graphic.geometry,e=this.editGeometryOperations.data,i=e.components[0].edges[0],a=g(P.get(),i.leftVertex.pos,i.rightVertex.pos);y(a,a);const s=o(k(this.view,this.graphic),t.extent.center);let r=Rt*this.view.pixelSizeAt(s);const n=this.view.spatialReference;n!==t.spatialReference&&(r*=l(n)/l(t.spatialReference)),_t(a,e,r,this.mapBounds)}_updateDisplayBounds(){const t=this.graphic.geometry;if(n(t))return;const e=r(this.outlineVisualElement)&&!this.graphicState.isDraped&&r(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:k(this.view,this.graphic);this.attachmentOrigin=o(e,t.extent.center);const i=r(e)?e.z:lt(this.mapBounds.origin,this.view.elevationProvider,ct.fromElevationInfo(C(this.graphic)),this.view.renderCoordsHelper),a=w(this.mapBounds);a.origin[2]=i,bt(a,this.view.renderCoordsHelper,t.spatialReference,this.displayBoundsMargin,this.displayBounds),this._updateManipulators()}get displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.centerOnSurfaceFrequent.location:this.editGeometryOperations.data.geometry.extent.center;return Gt*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this._applyGraphicMoveSteps(e,i)))}_createMoveZDragPipeline(){const t=this.view,e=this.editGeometryOperations.data.spatialReference;return mt(this.moveZManipulator,((i,a,s)=>{const r=x(i.renderLocation),o=a.next(it(t,r,e)).next(yt());this._applyGraphicMoveSteps(o,s)}))}_applyGraphicMoveSteps(t,e){const i=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},w(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(gt()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return e.next((()=>{r(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this._cancel()})),i}_moveDragUpdateGeometry(){return t=>{if(n(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const s of this.editGeometryOperations.data.components)e.push(...s.vertices);const i=\"start\"===t.action?St.NEW_STEP:St.ACCUMULATE_STEPS,a=this.editGeometryOperations.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return Bt(a,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);j(this.displayBounds.plane,e,U.get())&&(w(this.displayBounds,this.displayBoundsStart),w(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin,this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,e){return mt(t,((t,i,a)=>{n(this.inputState)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(at(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),a.next((()=>{r(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this._cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin,s=this.displayBoundsMarginStart,r=S(U.get(),e.origin);M(r,r,e.basis1,-i[0]),M(r,r,e.basis2,-i[1]);const o=_(U.get(),t.renderEnd,r),n=_(U.get(),t.renderStart,r),p=W(t.handle),h=q(e),l=q(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=B(e),r=.5*t*E(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*E(e,n)/i)*h*l}const c=i<1.5*s?1:wt;return i=Math.max(i-s,wt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=S(A(),this.mapBoundsStart.origin);M(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),M(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=v(f(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);y(i,i);const a=[];for(const o of this.editGeometryOperations.data.components)a.push(...o.vertices);const s=\"start\"===t.action?St.NEW_STEP:St.ACCUMULATE_STEPS,r=this.editGeometryOperations.scaleVertices(a,e,i,t.factor1,t.factor2,s,Mt.REPLACE);return w(this.mapBoundsStart,this.mapBounds),Bt(r,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=J(this.displayBounds,this.view.renderCoordsHelper,K.HEADING,D()),i=this._calculatePickRay(t.screenPoint);j(e,i,U.get())&&(w(this.displayBounds,this.displayBoundsStart),w(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return mt(t,((t,e,i)=>{const a=this.inputState;n(a)||(e.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(at(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:s(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),i.next((()=>{r(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this._cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=O(t.rotatePlane),a=L(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=S(A(),this.mapBoundsStart.origin),i=[];for(const r of this.editGeometryOperations.data.components)i.push(...r.vertices);const a=\"start\"===t.action?St.NEW_STEP:St.ACCUMULATE_STEPS,s=this.editGeometryOperations.rotateVertices(i,e,t.rotateAngle,a,Mt.REPLACE);return w(this.mapBoundsStart,this.mapBounds),Bt(s,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}_calculatePickRay(t){const e=T(),i=h(t);return ut(this.view.state.camera,i,e),b(e.direction,e.direction),e}_updateManipulators(){if(!this.visible)return;const t=Q(this.displayBounds,z.get());$(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this._updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{tt(e,this.resizeHandles[i],t,this.displayBounds)}))}_updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:_(U.get(),i.origin,i.basis1),edge:2},s=z.get();m(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}_cancel(){const t=this.editGeometryOperations.lastOperation;n(t)||(this.editGeometryOperations.undo(),this.graphic.geometry=this.editGeometryOperations.data.geometry,Et(t,this.mapBounds),this._updateDisplayBounds(),this.inputState=null)}get canUndo(){return this.editGeometryOperations.canUndo}undo(){if(r(this.inputState))this.view.activeTool=null;else if(this.canUndo){const t=this.editGeometryOperations.undo();this.graphic.geometry=this.editGeometryOperations.data.geometry,Et(p(t),this.mapBounds),this._updateDisplayBounds()}}get canRedo(){return this.editGeometryOperations.canRedo}redo(){if(this.canRedo){const t=this.editGeometryOperations.redo();this.graphic.geometry=this.editGeometryOperations.data.geometry,Bt(p(t),this.mapBounds),this._updateDisplayBounds()}}get test(){return{resizeManipulators:this.resizeManipulators,rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator}}};t([d({constructOnly:!0,nonNullable:!0})],At.prototype,\"view\",void 0),t([d({constructOnly:!0,nonNullable:!0})],At.prototype,\"graphic\",void 0),t([d({constructOnly:!0,nonNullable:!0})],At.prototype,\"enableZ\",void 0),t([d()],At.prototype,\"enableRotation\",void 0),t([d()],At.prototype,\"enableScaling\",void 0),t([d()],At.prototype,\"preserveAspectRatio\",null),t([d()],At.prototype,\"grabbing\",void 0),t([d()],At.prototype,\"inputState\",void 0),t([d({readOnly:!0})],At.prototype,\"type\",void 0),At=t([u(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],At);const xt=\"draped-elevation-changes\",Gt=10,Rt=80,wt=1e-6;export{wt as EPSILON,At as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"projInfo\",\"vec4\"),o.fragment.uniforms.add(\"zScale\",\"vec2\"),o.fragment.code.add(e`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}export{o as CameraSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"./output/ReadLinearDepth.glsl.js\";import{CameraSpace as o}from\"./util/CameraSpace.glsl.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function a(a,t){a.extensions.add(\"GL_OES_standard_derivatives\"),a.fragment.include(e),a.include(o),a.fragment.uniforms.add(\"glowColor\",\"vec3\"),a.fragment.uniforms.add(\"glowWidth\",\"float\"),a.fragment.uniforms.add(\"glowFalloff\",\"float\"),a.fragment.uniforms.add(\"innerColor\",\"vec3\"),a.fragment.uniforms.add(\"innerWidth\",\"float\"),a.fragment.uniforms.add(\"depthMap\",\"sampler2D\"),a.fragment.uniforms.add(\"nearFar\",\"vec2\"),a.fragment.uniforms.add(\"frameColor\",\"sampler2D\"),t.contrastControlEnabled&&a.fragment.uniforms.add(\"globalAlphaContrastBoost\",\"float\"),a.fragment.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),a.fragment.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),a.fragment.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),a.fragment.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\nfloat depth = linearDepthFromTexture(depthMap, uv, nearFar);\nif (-depth == nearFar[0]) {\nreturn false;\n}\npos = reconstructPosition(gl_FragCoord.xy, depth);\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nfloat ddepth = fwidth(depth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\nreturn true;\n}`),t.contrastControlEnabled?a.fragment.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`):a.fragment.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{a as Laserline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"cameraPosition\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"names":["g","p","s","include","a","linearDepth","vertex","uniforms","add","attributes","n","varyings","multipassTerrainEnabled","code","l","r","fragment","i","o","output","e","t","d","oitEnabled","Object","freeze","__proto__","build","extensions","heightManifoldEnabled","pointDistanceEnabled","lineVerticalPlaneEnabled","intersectsLineEnabled","defaultAngleCutoff","m","c","screenSizeEnabled","shadingEnabled","Float32Array","u","f","_","w","N","U","create","clone","fromValues","createView","zeros","ones","unitX","unitY","unitZ","unitW","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","UNIT_W","Blob","type","url","png","jpeg","jpg","bmp","gif","json","txt","xml","svg","zip","pbf","gz","origins","String","read","write","writer","resources","y","R","verifyItemRelativeUrls","writtenUrls","rootPath","h","this","origin","originIdOf","portalItem","resourceFromPath","b","path","S","toUpdate","j","I","toKeep","push","resource","O","v","pendingOperations","P","then","itemRelativeUrl","catch","toAdd","content","finish","JSON","stringify","toJSON","default","responseType","data","k","q","x","z","xoffset","Math","max","abs","yoffset","stops","length","size","filter","map","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","_attached","_resourcesCreated","_visible","view","watch","_createResources","_destroyResources","console","error","attached","_stage","updateVisibility","createResources","visible","destroyResources","shader","get","configuration","rctx","attributeLocations","program","setUniform3fv","innerColor","setUniform1f","innerWidth","pixelRatio","glowColor","glowWidth","glowFalloff","globalAlpha","perScreenPixelRatio","setUniform2f","fullWidth","fullHeight","setUniformMatrix4fv","projectionMatrix","viewMatrix","contrastControlEnabled","globalAlphaContrastBoost","blending","colorWrite","Map","arguments","prototype","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","Float64Array","buffers","_ensureVAO","bindVAO","drawArrays","dispose","_createVAO","_ensureVertexData","_createDataBuffer","V","vertexBuffers","setData","reduce","_numberOfRenderVertices","createBuffer","getAltitude","setAltitude","worldUpAtPosition","up","setVec","start","extrude","setValues","end","buffer","vec3f","vec2f","angleCutoff","cos","H","D","T","_config","_technique","_projInfo","_zScale","_heightManifoldEnabled","_heightManifoldTarget","_pointDistanceEnabled","_pointDistanceOrigin","_pointDistanceTarget","_lineVerticalPlaneEnabled","_lineVerticalPlaneSegment","_intersectsLineEnabled","_intersectsLineSegment","_intersectsLineRadius","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_pathVerticalPlaneData","_pathTechnique","canRender","_tempNormal","_tempDir","_tempUp","_tempVec3A","_tempVec3B","_tempVec4","_tempPlane","_tempSphere","_params","C","M","_requestRender","E","vertices","pathVerticalPlaneEnabled","_context","renderContext","_quadVAO","_techniqueRepository","shaderTechniqueRepository","_techniqueConfig","A","acquire","lineVerticalPlaneSegment","releaseAndAcquire","camera","_renderUnified","_renderPath","useTechnique","_bindGlobalUniforms","_bindHeightManifoldUniforms","_bindPointDistanceUniforms","_bindLineVerticalPlaneUniforms","_bindIntersectsLineUniforms","bind","draw","setUniform4fv","setUniform4f","L","vector","G","F","B","c0","Number","MAX_VALUE","frustum","setUniform3f","setUniform2fv","nearFar","computeScreenPixelSizeAt","bindTexture","offscreenRenderingHelper","linearDepthTexture","mainColorTexture","requestRender","_angleCutoff","_style","_intersectsLine","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProps","_ensureRenderer","_disposeRenderer","_syncRenderer","_syncHeightManifold","_syncIntersectsLine","_syncPathVerticalPlane","_syncLineVerticalPlane","_syncPointDistance","_syncAngleCutoff","_syncStyle","intersectsLine","renderCoordsHelper","intersectsLineInfinite","_syncIntersectsLineInfinite","target","addRenderPlugin","renderSlots","setParameters","intersectsLineRadius","heightManifoldTarget","intersectsLineSegment","pathVerticalPlaneBuffers","pointDistanceOrigin","pointDistanceTarget","removeRenderPlugin","_resources","_transform","object","transformation","removeMany","geometries","removeAllGeometries","createGeometries","setVisible","addMany","isPickable","updatePolicy","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","destroyExternalResources","_ray","_externalResources","_handles","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","_fadedExtensions","materialParameters","state","_updateGeometry","material","laserline","destroy","removeAll","extensionType","FADED","addGeometry","_updateVertices","_updateMaterial","recreate","_laserlineAttached","style","recreateGeometry","width","color","stippleOffColor","stipplePattern","stipplePreferContinuous","falloff","polygonOffset","renderOccluded","writeDepth","_updateLineSegmentFinite","_updateLineSegmentInfinite","_updateVertexAttributes","RAY","GROUND_RAY","elevationProvider","getElevation","spatialReference","ray","direction","c1","W","getMutableAttribute","fadedExtensions","geometryVertexAttrsUpdated","geometryRecords","_location","_direction","_offset","_length","projectToScreen","location","geometry","offset","unprojectFromScreen","resourceFactory","external","_syncVisible","_createOrDestroyResources","cameraChanged","cameraHandle","_geometry","_size","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","_recreateGeometry","preferredTextureSize","_updateSizeAttribute","_materialParameters","texture","id","geometrySize","textureIsSignedDistanceField","distanceFieldBoundingBox","occlusionTest","outlineColor","outlineSize","textureId","shaderPolygonOffset","drawInSecondSlot","depthEnabled","pixelSnappingEnabled","_createRenderGeometry","vertexAttributes","elevationInfo","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","previous","center","next","min","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","exclusive","Uint16Array","transparent","coordinateHelper","primitive","vectorToPoint","intersectionPoint","point","_createLineSegmentHintFromMap","lineStart","lineEnd","fadeLeft","fadeRight","setDirectionFromPoints","outlineRenderOccluded","previousVertex","centerVertex","nextVertex","_createLineSegmentHint","main","selected","staged","outline","selectedOutline","height","coneHeight","coneWidth","collisionPadding","hoverOutlineColor","hoverColor","minSquaredEdgeLength","edge","edgeOffset","shape","radius","heightFillColor","laserlineStyle","shadowStyle","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","visualElements","reshapeManipulators","zManipulator","_syncGeometriesToRenderer","_ensureRenderGeometriesRemoved","layerView","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","_ensureRenderGeometriesAdded","removeGeometries","addGeometries","drapeSourceType","constructOnly","readOnly","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","drapedResources","_createDrapedResources","_createRenderGeometriesDraped","_attachmentOriginChanged","_laserline","_updateAttached","laserlineAttached","isDraped","laserlineEnabled","indices","isClosed","fromRenderCoords","join","normalizedRenderOccluded","_createRenderGeometries","emit","lines","position","overlayInfo","attributeData","removeDuplicateStartEnd","boundingSphere","sqrt","mode","mapPosition","pathVerticalPlane","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","transparencyPassType","cullAboveGround","shadingTint","shadingDirection","inverseViewport","_blendColor","viewInverseTransposeMatrix","rebindTextures","culling","cullFace","depthTest","func","depthWrite","_setPipelineState","count","supportsEdges","techniqueConfig","_vertexAttributeLocations","parameters","applyToVertex","screenSize","computeRenderPixelSizeAt","applyToAabb","ensureTechnique","updateParameters","bindPass","_material","getPassParameters","vertexBufferLayout","invTranspTransformation","has","Error","getField","_vertices","_spatialReference","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","numVertices","vertexGeometry","vertexOutlineGeometry","tracking","displaying","_activeVertexVisualElement","_createGraphicState","_outlineVisualElement","_verticesVisualElement","geometryType","internalGraphicsLayer","hasZ","graphic","maskOccludee","trackGraphicState","manipulators","drawingMode","defaultZ","snapToSceneEnabled","snapToScene","drawSurface","elevationDrawSurface","hasM","snappingManager","snappingVisualizer","nonNullable","unprojectFromRenderScreen","screenToRender","te","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","ee","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","X","_focused","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayer","_materialIdReferences","copyFrom","_removeResourcesFromStage","_updateEngineObject","slice","ie","toRenderCoords","elevationAlignedLocation","viewingMode","de","se","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","_ensureScreenLocation","renderLocation","_calculateModelTransformOffset","fe","projectToRenderScreen","renderToScreen","available","oe","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","le","Z","re","ue","ne","ae","ge","me","he","_e","_calculateModelTransformPosition","manipulator3D","engineLayerId","Q","K","getObject","engineLayerReferences","materialIdReferences","pe","extent","Y","_getFocusedSize","focused","_ensureEngineResources","objectsByState","$","stateMask","objects","Set","renderObjects","J","transform","Array","isArray","set","materials","_addResourcesToStage","delete","ce","isVisible","areAnyResourcesVisible","atan2","getViewForGraphic","computeAttachmentOrigin","anchor","NONE","ANY","XY","TRANSLATE_Z","TRANSLATE_XY","SCALE","ROTATE","SCALE_ROTATE","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","on","visualElement","writeDepthEnabled","update","setStartEndFromWorldDownAtLocation","attachmentOrigin","onManipulatorsChanged","intersectsWorldUpAtLocation","calculateMapBounds","ceil","PI","_forEachManipulator3D","someManipulator","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","eye","sign","execute","GROUND","OTHER","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","rings","_arrowManipulatorInfos","_opaqueMaterial","_createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","_snap","toMap","exclude","_snapToScene","_discMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","discManipulator","applyObjectTransform","computeRenderPixelSizeAtDist","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","_autoHideXYAxis","_updateManipulatorInteractivity","createGraphicDragPipeline","XY_AXIS","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","finishToolCreation","_set","updatingHandles","updating","handles","_moveManipulation","toArray","_createVisualElements","_updateMoveManipulation","manipulationXY","stopPropagation","_buildDragEventPipeline","_createMoveManipulation","hasManipulator","getItemAt","_updateMoveManipulationAngle","geometryRepresentation","angleDeferred","_buildSnappingPipelineSteps","destroyed","toScreen","pointer","editGeometryOperations","visualizer","excludeFeature","snapOrigin","pointToVector","createSnapDragEventPipelineStep","snappingContext","cancel","edgeDirection","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_edgeOffsetManipulatorMaterial","_edgeOffsetManipulatorHoverMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_edgeOffsetManipulatorGeometryInside","_edgeOffsetManipulatorGeometryOutside","_manipulatorHandles","_manipulatorInfos","_editGeometryOperations","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","_resetGrabbingDragging","_recreateEditGeometryAndManipulators","enableZShape","enableZVertex","enableMoveGraphic","enableMidpoints","enableEdgeOffset","handle","_removeVertices","components","_createVertexOrEdgeManipulator","edges","_createGraphicMoveManipulators","canRedo","canUndo","redo","_recreateManipulators","undo","_removeManipulators","inputGeometry","SELECTED_OR_ALL","_moveVertices","_updateEventState","MOVING","mover","RESHAPING","mapDeltaX","mapDeltaY","mapDeltaZ","info","_trackNumDragging","createUndoGroup","_perGraphicManipulatorDragAction","ALL","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","pos","predicate","_updateMoveManipulationPosition","locationUpdateHandle","selectedIndex","edgeManipulator","visibilityHandle","_autoHideEdgeOffsetManipulator","_updateEdgeOffsetManipulator","_getManipulatorInfoFromHandle","leftVertex","rightVertex","_createEdgeOffsetPipeline","_updateManipulatorPosition","_initializeEdgeOffset","step","cleanup","_applyEdgeOffsetStep","requiresSplitEdgeLeft","_splitEdgeManipulator","leftEdge","requiresSplitEdgeRight","rightEdge","_cleanEdgeOffsetCollapsedEdges","operation","_offsetEdge","distance","_createEdgeOffsetManipulator","_computeVertexManipulatorSizeAndOutline","Vertex","Edge","_setTypeSpecificManipulatorSettings","_isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","splice","indexOf","vectorToDehydratedPoint","splitEdge","createdVertex","_removeManipulator","vectorToArray","component","coordinates","componentIndex","vertexIndex","index","added","orthogonalAvailable","canRemoveVertex","removeVertices","removedVertices","createdEdge","removed","moveVertices","signedDistanceToPoint","updateVertices","shiftKey","button","_reshapeOperation","_internalGeometryUpdate","automaticManipulatorSelection","manipulatorSelectionChanged","_updateGeometryInternally","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","ct","ht","ScaleIn","nt","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","gt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","adapter","scale","_updateDragState","frameTask","cancelActiveAnimation","deltaTime","_createRingManipulator","st","restart","initialAngle","angleDir","scaleDir","et","dt","_onScaleChanged","ut","pt","record","createUndoRecord","xScale","yScale","startAnimation","mt","STOP","CONTINUE","ft","_updateDelayedFocusedState","updateStateEnabled","sin","it","left","right","round","tt","lt","concat","ot","at","rt","Mt","notifyGeometryChanged","clonePositional","previousAngle","previousScale","rotation","_update","geographic","notifyMeshTransformChanged","rotate","initialSizes","findLayerView","getSymbolLayerSize","heading","_updateSymbol","_forEachObjectSymbolLayerPair","sizeFilter","depth","enableRotation","enableScaling","scaleRotate","moveManipulation","_createGeometryUndoRecord","scaleRotateAdapter","_createScaleRotateAdapter","_updateMoveAngle","_forEachManipulator","_onGeometryChanged","_hideManipulatorsForGraphicState","_updateManipulatorsInteractive","_enforceNonZeroSize","allLayerViews","find","test","value","tilt","range","backgroundColor","gridColor","gridWidth","technique","opacity","stencilWrite","sceneHasOcludees","stencilTest","enableOffset","_occludeePipelineState","relativeElevation","updateTexture","hasOccludees","_output","_updateOccludeeState","bindTextures","bindTextureScale","initTextureTransparent","POSITIVE_X","basis","basis1","POSITIVE_Y","basis2","NEGATIVE_X","NEGATIVE_Y","Ue","Oe","He","Ve","Fe","ze","Ut","Vt","bt","padding","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","part","tubeRadius","tubeFocusMultiplier","flat","thickness","normal","Tt","It","Nt","kt","Ct","Pt","De","HEADING","TILT","HORIZONTAL_OR_VERTICAL","HORIZONTAL","VERTICAL","TILTED","St","_t","CENTER_ON_CALLOUT","CENTER_ON_ARROW","mipmap","preMultiplyAlpha","_adjustScaleFactors","factor1","factor2","dz","axis1","axis2","At","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","graphicMoveManipulation","_createMoveXYGraphicDragPipeline","Ee","addCap","xe","ve","_updateManipulatorAvailability","_createMoveZDragPipeline","_onResizeGrab","_createResizeDragPipeline","rotateManipulatorTexture","fromData","toolViewManager","textures","Ge","Uint32Array","Ne","Se","_onRotateGrab","_createRotateDragPipeline","_calculateMapBounds","_updateDisplayBounds","_updateAllManipulatorAvailability","_graphicDrapedChanged","pointsOfInterest","centerOnSurfaceFrequent","xt","release","Rt","pixelSizeAt","POSITIVE_INFINITY","NEGATIVE_INFINITY","displayBoundsMargin","Gt","_applyGraphicMoveSteps","yt","_moveDragUpdateGeometry","_cancel","Bt","_calculatePickRay","screenPoint","_resizeDragRenderPlaneToFactors","_resizeDragUpdateGeometry","wt","scaleVertices","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","_updateZMoveHandle","lastOperation","Et","activeTool","vt","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","originalPoint","equals","mapPoint","radiusPx","renderSpatialReference","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"sourceRoot":""}