{"version":3,"file":"static/js/7663.b67830c5.chunk.js","mappings":"2SAIsW,IAAIA,EAAE,KAAKC,eAAeC,EAAEC,EAAEC,GAAG,IAAIA,EAAE,MAAM,GAAG,MAAMC,EAAEF,EAAEG,MAAMC,EAAEJ,EAAEK,gBAAgBN,EAAEC,EAAEM,kBAAkBC,EAAEP,EAAEQ,mBAAmBC,EAAET,EAAEU,mBAAmBC,EAAE,GAAGC,EAAEZ,EAAEa,eAAe,IAAIC,EAAE,KAAKC,EAAE,KAAK,GAAGX,EAAE,CAAC,IAAIP,EAAE,CAAC,MAAMmB,YAAYhB,SAASiB,EAAAA,EAAAA,MAAIpB,EAAEG,EAAEc,EAAEjB,EAAEqB,eAAed,GAAGW,EAAEH,GAAGf,EAAEsB,YAAY,CAACC,YAAYR,EAAEQ,YAAYC,MAAMT,EAAES,MAAMC,iBAAiB,IAAIC,EAAAA,EAAEX,EAAEU,oBAAoB,OAAOrB,EAAEuB,SAASxB,IAAI,MAAMC,EAAED,EAAEyB,WAAW,IAAIF,EAAE,GAAGnB,EAAE,CAAC,MAAMH,EAAEJ,EAAE6B,kBAAkB1B,EAAEe,GAAGQ,EAAE1B,EAAE8B,gBAAgBb,EAAEb,QAAQA,IAAIsB,EAAEtB,EAAEC,IAAI,GAAGH,GAAG6B,SAASL,GAAG,CAAC,MAAMvB,EAAEC,GAAG4B,WAAW5B,EAAEM,IAAIgB,GAAEO,EAAAA,EAAAA,IAAEP,EAAExB,EAAEC,EAAES,GAAGE,EAAEoB,KAAKR,MAAMZ,ECA5lBb,eAAea,EAAEM,GAAG,MAAMe,UAAU/B,EAAEgC,SAASH,GAAGb,GAAGX,kBAAkBT,EAAEW,mBAAmBO,EAAEmB,SAASvB,EAAEwB,SAASvB,EAAEwB,UAAU7B,GAAGN,EAAEa,QAAQf,EAAE,CAACI,MAAMF,EAAEE,MAAME,gBAAgBJ,EAAEI,gBAAgBC,kBAAkBT,EAAEW,mBAAmBO,EAAEL,mBAAmBT,EAAES,mBAAmBG,eAAeZ,EAAEY,gBAAgBiB,GAAGO,GAAEnC,EAAAA,EAAAA,IAAE,CAACI,kBAAkBT,EAAEW,mBAAmBO,EAAEmB,SAASvB,EAAEwB,SAASvB,IAAI0B,EAAE,CAACC,MAAM,GAAGH,UAAU7B,GAAGE,EAAE,wBAAwBF,GAAEgB,EAAAA,EAAAA,IAAE,CAACiB,OAAO1B,EAAE2B,kBAAkBJ,EAAEK,iBAAiBJ,KAAItC,EAAAA,EAAAA,IAAE,CAACwC,OAAO1B,EAAEoB,SAASvB,EAAEwB,SAASvB,EAAE+B,iBAAiB9C,EAAE4C,kBAAkBJ,EAAEK,iBAAiBJ,IAAI,OAAOlC,EAAAA,EAAAA,IAAEK,EAAE,sBAAsBF,GAAGT,eAAec,EAAEV,GAAG,MAAM8B,UAAUT,EAAEU,SAASjC,GAAGE,EAAEE,QAAQL,EAAE,CAACI,MAAMoB,EAAEpB,MAAME,gBAAgBkB,EAAElB,gBAAgBQ,eAAeU,EAAEV,gBAAgBb,GAAG8B,GAAEb,EAAAA,EAAAA,IAAEb,GAAG,OAAOH,EAAAA,EAAAA,IAAE6B,EAAEP,EAAEqB,OAAOrB,EAAEsB,sBAAsB/C,eAAeS,EAAEL,GAAG,MAAM8B,UAAUT,EAAEU,SAASjC,GAAGE,GAAGC,MAAMC,EAAEE,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBK,EAAE+B,qBAAqBnC,GAAGY,EAAEX,QAAQb,EAAE,CAACI,MAAMC,EAAEC,gBAAgBkB,EAAElB,gBAAgBC,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBK,EAAEF,eAAeU,EAAEV,gBAAgBb,GAAGO,GAAEuB,EAAAA,EAAAA,IAAElB,EAAE,CAACT,MAAMC,EAAEE,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBK,EAAE+B,qBAAqBnC,EAAEoC,0BAA0BxB,EAAEwB,0BAA0BC,WAAWzB,EAAEyB,WAAWd,SAASX,EAAEW,SAASC,SAASZ,EAAEY,WAAW,OAAOtC,EAAAA,EAAAA,IAAEU,EAAEI,GAAGb,eAAegB,EAAEZ,GAAG,MAAM8B,UAAUT,EAAEU,SAASjC,GAAGE,GAAGC,MAAMC,EAAEE,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBoB,EAAEgB,qBAAqBjD,GAAG0B,EAAEZ,QAAQZ,EAAE,CAACI,MAAMC,EAAEC,gBAAgBkB,EAAElB,gBAAgBC,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBoB,EAAEjB,eAAeU,EAAEV,gBAAgBb,GAAG,OAAOe,EAAAA,EAAAA,IAAEJ,EAAE,CAACR,MAAMC,EAAEE,kBAAkBW,EAAET,mBAAmBP,EAAES,mBAAmBoB,EAAEgB,qBAAqBjD,EAAEkD,0BAA0BxB,EAAEwB,0BAA0BE,QAAQ1B,EAAE0B,QAAQf,SAASX,EAAEW,SAASC,SAASZ,EAAEY","sources":["../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js","../node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isSome as t}from\"../../../core/maybe.js\";import n from\"../../../geometry/SpatialReference.js\";import{isNumericField as i,numericTypes as o}from\"../../../layers/support/fieldUtils.js\";import{getNormalizedValue as r}from\"../../../statistics/utils.js\";import{loadArcade as l}from\"../../../support/arcadeOnDemand.js\";let s=null;async function a(e,t){if(!t)return[];const i=e.field,o=e.valueExpression,a=e.normalizationType,f=e.normalizationField,c=e.normalizationTotal,u=[],d=e.viewInfoParams;let p=null,m=null;if(o){if(!s){const{arcadeUtils:e}=await l();s=e}p=s.createFunction(o),m=d&&s.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:new n(d.spatialReference)})}return t.forEach((e=>{const t=e.attributes;let n;if(o){const t=s.createExecContext(e,m);n=s.executeFunction(p,t)}else t&&(n=t[i]);if(a&&isFinite(n)){const e=t&&parseFloat(t[f]);n=r(n,a,e,c)}u.push(n)})),u}function f(e){const t=e.field,n=e.normalizationType,i=e.normalizationField;let o;return\"field\"===n?o=\"(NOT \"+i+\" = 0)\":\"log\"!==n&&\"natural-log\"!==n&&\"square-root\"!==n||(o=`(${t} > 0)`),o}function c(t,n){return new e(t,n)}function u(e,t,n){const i=null!=t?e+\" >= \"+t:\"\",o=null!=n?e+\" <= \"+n:\"\";let r=\"\";return r=i&&o?m(i,o):i||o,r?\"(\"+r+\")\":\"\"}function d(e,t,n,i){let o=null;return t?t.name!==e.objectIdField&&-1!==i.indexOf(t.type)||(o=c(n,\"'field' should be one of these types: \"+i.join(\",\"))):o=c(n,\"'field' is not defined in the layer schema\"),o}function p(e,t,n){let r;return t?t.name!==e.objectIdField&&i(t)||(r=c(n,\"'field' should be one of these numeric types: \"+o.join(\",\"))):r=c(n,\"'field' is not defined in the layer schema\"),r}function m(e,n){let i=t(e)?e:\"\";return t(n)&&n&&(i=i?\"(\"+i+\") AND (\"+n+\")\":n),i}function y(e,t,n){const i=h({layer:e,fields:t});if(i.length)return c(n,\"Unknown fields: \"+i.join(\", \")+\". You can only use fields defined in the layer schema\");const o=g({layer:e,fields:t});return o.length?c(n,\"Unsupported fields: \"+o.join(\", \")+\". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true\"):void 0}function h(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function g(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}export{c as createError,a as getDataValues,u as getRangeExpr,f as getSQLFilterForNormalization,m as mergeWhereClauses,y as verifyBasicFieldValidity,d as verifyFieldType,p as verifyNumericField};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{getDataValues as a}from\"./utils.js\";import{isNullCountSupported as i,calculateStringStatistics as n,calculateStatistics as e,processSummaryStatisticsResult as o,calculateUniqueValuesCount as l,createUVResult as t,calculateClassBreaks as r,resolveCBResult as s,calculateHistogram as m}from\"../../../statistics/utils.js\";async function u(l){const{attribute:t,features:r}=l,{normalizationType:s,normalizationField:m,minValue:u,maxValue:d,fieldType:f}=t,p=await a({field:t.field,valueExpression:t.valueExpression,normalizationType:s,normalizationField:m,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams},r),v=i({normalizationType:s,normalizationField:m,minValue:u,maxValue:d}),z={value:.5,fieldType:f},c=\"esriFieldTypeString\"===f?n({values:p,supportsNullCount:v,percentileParams:z}):e({values:p,minValue:u,maxValue:d,useSampleStdDev:!s,supportsNullCount:v,percentileParams:z});return o(c,\"esriFieldTypeDate\"===f)}async function d(i){const{attribute:n,features:e}=i,o=await a({field:n.field,valueExpression:n.valueExpression,viewInfoParams:n.viewInfoParams},e),r=l(o);return t(r,n.domain,n.returnAllCodedValues)}async function f(i){const{attribute:n,features:e}=i,{field:o,normalizationType:l,normalizationField:t,normalizationTotal:m,classificationMethod:u}=n,d=await a({field:o,valueExpression:n.valueExpression,normalizationType:l,normalizationField:t,normalizationTotal:m,viewInfoParams:n.viewInfoParams},e),f=r(d,{field:o,normalizationType:l,normalizationField:t,normalizationTotal:m,classificationMethod:u,standardDeviationInterval:n.standardDeviationInterval,numClasses:n.numClasses,minValue:n.minValue,maxValue:n.maxValue});return s(f,u)}async function p(i){const{attribute:n,features:e}=i,{field:o,normalizationType:l,normalizationField:t,normalizationTotal:r,classificationMethod:s}=n,u=await a({field:o,valueExpression:n.valueExpression,normalizationType:l,normalizationField:t,normalizationTotal:r,viewInfoParams:n.viewInfoParams},e);return m(u,{field:o,normalizationType:l,normalizationField:t,normalizationTotal:r,classificationMethod:s,standardDeviationInterval:n.standardDeviationInterval,numBins:n.numBins,minValue:n.minValue,maxValue:n.maxValue})}export{f as classBreaks,p as histogram,u as summaryStatistics,d as uniqueValues};\n"],"names":["s","async","a","e","t","i","field","o","valueExpression","normalizationType","f","normalizationField","c","normalizationTotal","u","d","viewInfoParams","p","m","arcadeUtils","l","createFunction","getViewInfo","viewingMode","scale","spatialReference","n","forEach","attributes","createExecContext","executeFunction","isFinite","parseFloat","r","push","attribute","features","minValue","maxValue","fieldType","v","z","value","values","supportsNullCount","percentileParams","useSampleStdDev","domain","returnAllCodedValues","classificationMethod","standardDeviationInterval","numClasses","numBins"],"sourceRoot":""}