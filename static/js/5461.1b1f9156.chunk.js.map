{"version":3,"file":"static/js/5461.1b1f9156.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/ProgramCache.js","../node_modules/@arcgis/core/views/webgl/ShaderCompiler.js","../node_modules/@arcgis/core/views/webgl/Texture.js","../node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js","../node_modules/@arcgis/core/views/webgl/checkWebGLError.js","../node_modules/@arcgis/core/views/webgl/enums.js","../node_modules/@arcgis/core/views/webgl/programUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{createProgram as r}from\"./programUtils.js\";class t{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>r.programs.forEach((r=>r.dispose())))),this._programCacheByTemplate=null}getProgram(t,a){return this._programCacheByTemplate.has(t)||this.addProgramTemplate(t,(a=>r(this._rctx,t,a))),this.getProgramTemplateInstance(t,a)}addProgramTemplate(r,t){this._programCacheByTemplate.set(r,{constructor:t,programs:new Map})}getProgramTemplateInstance(r,t){const a=this._programCacheByTemplate.get(r);if(a){const r=t?JSON.stringify(t):\"default\";if(!a.programs.has(r)){const e=a.constructor(t);a.programs.set(r,e)}return a.programs.get(r)}return null}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.readFile=e}resolveIncludes(e){return this.resolve(e)}resolve(e,t=new Map){if(t.has(e))return t.get(e);const r=this.read(e);if(!r)throw new Error(`cannot find shader file ${e}`);const s=/^[^\\S\\n]*#include\\s+<(\\S+)>[^\\S\\n]?/gm;let n=s.exec(r);const l=[];for(;null!=n;)l.push({path:n[1],start:n.index,length:n[0].length}),n=s.exec(r);let a=0,h=\"\";return l.forEach((e=>{h+=r.slice(a,e.start),h+=t.has(e.path)?\"\":this.resolve(e.path,t),a=e.start+e.length})),h+=r.slice(a),t.set(e,h),h}read(e){return this.readFile(e)}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isPowerOfTwo as t}from\"../../core/mathUtils.js\";import{isSome as e}from\"../../core/maybe.js\";import{checkWebGLError as i}from\"./checkWebGLError.js\";import{ResourceType as a}from\"./enums.js\";import r from\"./capabilities/isWebGL2Context.js\";const s=4;class o{constructor(t,e,i=null){this._context=t,this.type=\"texture\",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(a.Texture,this),this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},34067===this._descriptor.target?this.setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(a.Texture,this))}release(){this.dispose()}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this.setData(t,e)}setData(t,a=3553){if(!this._context||!this._context.gl)return;const r=this._context.gl;this._glName||(this._glName=r.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||s,this._descriptor.height=this._descriptor.height||s);const p=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES),h=this._descriptor;o._validateTexture(this._context,h),r.pixelStorei(r.UNPACK_ALIGNMENT,h.unpackAlignment),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0);const l=h.pixelFormat;let d=h.internalFormat?h.internalFormat:this._deriveInternalFormat(l,h.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let e=t.width,s=t.height;t instanceof HTMLVideoElement&&(e=t.videoWidth,s=t.videoHeight),h.width&&h.height,r.texImage2D(a,0,d,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap(),void 0===h.width&&(h.width=e),void 0===h.height&&(h.height=s)}else{null!=h.width&&null!=h.height||console.error(\"Width and height must be specified!\"),r.DEPTH24_STENCIL8&&d===r.DEPTH_STENCIL&&(d=r.DEPTH24_STENCIL8);let s=h.width,o=h.height;if(n(t)){const e=Math.round(Math.log(Math.max(s,o))/Math.LN2)+1;h.hasMipmap=h.hasMipmap&&e===t.levels.length;for(let i=0;;++i){const e=t.levels[Math.min(i,t.levels.length-1)];if(r.compressedTexImage2D(a,i,d,s,o,0,e),1===s&&1===o||!h.hasMipmap)break;s=Math.max(1,s>>1),o=Math.max(1,o>>1)}}else if(e(t))r.texImage2D(a,0,d,s,o,0,l,h.dataType,t),i(r),h.hasMipmap&&this.generateMipmap();else for(let t=0;r.texImage2D(a,t,d,s,o,0,l,h.dataType,null),i(r),(1!==s||1!==o)&&h.hasMipmap;++t)s=Math.max(1,s>>1),o=Math.max(1,o>>1)}o._applySamplingMode(r,this._descriptor),o._applyWrapMode(r,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),i(r),this._context.bindTexture(p,o.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,a,r,s,n=3553){s||console.error(\"An attempt to use uninitialized data!\"),this._glName||console.error(\"An attempt to update uninitialized texture!\");const p=this._context.gl,h=this._descriptor,l=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);(e<0||i<0||a>h.width||r>h.height||e+a>h.width||i+r>h.height)&&console.error(\"An attempt to update out of bounds of the texture!\"),p.pixelStorei(p.UNPACK_ALIGNMENT,h.unpackAlignment),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0),s instanceof ImageData||s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement?p.texSubImage2D(n,t,e,i,h.pixelFormat,h.dataType,s):p.texSubImage2D(n,t,e,i,a,r,h.pixelFormat,h.dataType,s),this._context.bindTexture(l,o.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,o.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(e,o.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(t,e){if(\"webgl\"===this._context.webglVersion)return t;if(5126===e)switch(t){case 6408:return 34836;case 6407:return 34837;default:throw new Error(\"Unable to derive format\")}return t}static _validateTexture(e,i){(i.width<0||i.height<0)&&console.error(\"Negative dimension parameters are not allowed!\");const a=t(i.width)&&t(i.height);r(e.gl)||a||(\"number\"==typeof i.wrapMode?33071!==i.wrapMode&&console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"):33071===i.wrapMode.s&&33071===i.wrapMode.t||console.error(\"Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!\"),i.hasMipmap&&console.error(\"Mipmapping requires power-of-two textures!\"))}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,a)}static _applyWrapMode(t,e){\"number\"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var i;const a=t.capabilities.textureFilterAnisotropic;if(!a)return;t.gl.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY,null!=(i=e.maxAnisotropy)?i:1)}}function n(t){return e(t)&&\"type\"in t&&\"compressed\"===t.type}o.TEXTURE_UNIT_FOR_UPDATES=0;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import r from\"../../core/has.js\";import t from\"../../core/Logger.js\";const n=t.getLogger(\"esri/views/webgl\");function o(e,r){switch(r){case e.INVALID_ENUM:return\"Invalid Enum. An unacceptable value has been specified for an enumerated argument.\";case e.INVALID_VALUE:return\"Invalid Value. A numeric argument is out of range.\";case e.INVALID_OPERATION:return\"Invalid Operation. The specified command is not allowed for the current state.\";case e.INVALID_FRAMEBUFFER_OPERATION:return\"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.\";case e.OUT_OF_MEMORY:return\"Out of memory. Not enough memory is left to execute the command.\";case e.CONTEXT_LOST_WEBGL:return\"WebGL context has been lost\";default:return\"Unknown error\"}}const a=!!r(\"enable-feature:webgl-debug\");function u(){return a}function c(){return a}function s(r){if(u()){const t=r.getError();if(t){const a=o(r,t),u=(new Error).stack;n.error(new e(\"webgl-error\",\"WebGL error occured\",{message:a,stack:u}))}}}export{s as checkWebGLError,a as hasFeatureFlagWebGLDebug,u as webglDebugEnabled,c as webglValidateShadersEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst e=33984;var r;!function(e){e[e.Texture=0]=\"Texture\",e[e.Buffer=1]=\"Buffer\",e[e.VAO=2]=\"VAO\",e[e.VertexShader=3]=\"VertexShader\",e[e.FragmentShader=4]=\"FragmentShader\",e[e.Program=5]=\"Program\",e[e.Framebuffer=6]=\"Framebuffer\",e[e.Renderbuffer=7]=\"Renderbuffer\",e[e.COUNT=8]=\"COUNT\"}(r||(r={}));const f=33306;export{e as BASE_TEXTURE_UNIT,f as DepthStencilAttachment,r as ResourceType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Program as e}from\"./Program.js\";function n(e){let n=\"\";for(const t in e){const o=e[t];if(\"boolean\"==typeof o)o&&(n+=`#define ${t}\\n`);else if(\"number\"==typeof o)n+=`#define ${t} ${o.toFixed()}\\n`;else if(\"object\"==typeof o){const e=o.options;let r=0;for(const t in e)n+=`#define ${e[t]} ${(r++).toFixed()}\\n`;n+=`#define ${t} ${e[o.value]}\\n`}}return n}function t(n,t,o,r){o=o||{},r=r||\"\";const f=\"function\"==typeof t.shaders?t.shaders(o):t.shaders;return new e(n,r+f.vertexShader,r+f.fragmentShader,t.attributes)}export{t as createProgram,n as glslifyDefineMap};\n"],"names":["t","r","this","_programCacheByTemplate","Map","_rctx","forEach","programs","dispose","a","has","addProgramTemplate","getProgramTemplateInstance","set","constructor","get","JSON","stringify","e","readFile","resolve","read","Error","s","n","exec","l","push","path","start","index","length","h","slice","o","i","_context","type","_glName","_descriptor","_samplingModeDirty","_wrapModeDirty","instanceCounter","increment","target","samplingMode","wrapMode","flipped","hasMipmap","isOpaque","unpackAlignment","preMultiplyAlpha","setDataCubeMap","setData","gl","unbindTextureAllUnits","deleteTexture","decrement","width","height","createTexture","p","bindTexture","TEXTURE_UNIT_FOR_UPDATES","_validateTexture","pixelStorei","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","pixelFormat","d","internalFormat","_deriveInternalFormat","dataType","ImageData","HTMLImageElement","HTMLCanvasElement","HTMLVideoElement","videoWidth","videoHeight","texImage2D","generateMipmap","console","error","DEPTH24_STENCIL8","DEPTH_STENCIL","Math","round","log","max","LN2","levels","min","compressedTexImage2D","_applySamplingMode","_applyWrapMode","_applyAnisotropicFilteringParameters","texSubImage2D","webglVersion","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","capabilities","textureFilterAnisotropic","texParameterf","TEXTURE_MAX_ANISOTROPY","maxAnisotropy","window","WebGL2RenderingContext","u","c","getError","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","stack","message","Texture","Buffer","VAO","VertexShader","FragmentShader","Program","Framebuffer","Renderbuffer","COUNT","f","toFixed","options","value","shaders","vertexShader","fragmentShader","attributes"],"sourceRoot":""}