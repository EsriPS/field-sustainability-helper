{"version":3,"file":"static/js/2490.99978f31.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n}from\"../../core/maybe.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../layers/GraphicsLayer.js\";import{createSquare as c,createRectangle as d,createCircle as u,createEllipse as m,createPolygon as y,createPolyline as g,createMultipoint as v}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as f}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as w}from\"../interactive/InteractiveToolBase.js\";let O=class extends(i(r.EventedMixin(w))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set(\"graphicSymbol\",e),s(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(_.outline),this.handles.remove(_.regularVertices),this.handles.remove(_.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=g([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=u([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?u(i,t,this.centered):m(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=c([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?c(i,t,this.centered):d(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=g([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let r=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(r=new t({geometry:e.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:r,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),_.outline):this.handles.remove(_.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),_.regularVertices):this.handles.remove(_.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),_.activeVertex):this.handles.remove(_.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([l({value:!0})],O.prototype,\"centered\",null),e([l({nonNullable:!0})],O.prototype,\"defaultZ\",void 0),e([l()],O.prototype,\"drawOperation\",void 0),e([l({value:!0})],O.prototype,\"enabled\",null),e([l({value:!0})],O.prototype,\"forceUniformSize\",null),e([l({constructOnly:!0})],O.prototype,\"geometryType\",void 0),e([l()],O.prototype,\"graphic\",null),e([l({constructOnly:!0})],O.prototype,\"graphicProperties\",void 0),e([l()],O.prototype,\"graphicSymbol\",null),e([l({constructOnly:!0})],O.prototype,\"hasZ\",void 0),e([l({constructOnly:!0})],O.prototype,\"mode\",void 0),e([l()],O.prototype,\"snappingManager\",void 0),e([l()],O.prototype,\"snapToScene\",void 0),e([l({readOnly:!0})],O.prototype,\"type\",void 0),e([l({readOnly:!0})],O.prototype,\"updating\",null),e([l({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),O=e([p(\"esri.views.draw.DrawGraphicTool\")],O);const V=\"create-operation-graphic\",_={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const G=48;export{O as DrawGraphicTool,x as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as r}from\"../../core/lang.js\";import{isNone as s,destroyMaybe as n,removeMaybe as a,isSome as o,abortMaybe as p}from\"../../core/maybe.js\";import{createTask as h}from\"../../core/promiseUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as m}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{DrawManipulator as g}from\"./DrawManipulator.js\";import{defaultDrawingMode as u}from\"./DrawingMode.js\";import{createCoordinateHelper as y}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as v}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as _,Component as x}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as f}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as T}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as V}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{TaskPriority as S,ImmediateTask as w}from\"../support/Scheduler.js\";let M=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new V,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,s(e.elevationInfo)&&(this.elevationInfo={mode:e.hasZ?\"absolute-height\":\"on-the-ground\",offset:0})}initialize(){var e,t;this.coordinateHelper=y(this.hasZ,this.hasM,this.view.spatialReference);const i=\"3d\"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=i?i.registerTask(S.SNAPPING):w;const r=\"viewingMode\"in this.view.state?this.view.state.viewingMode:2,s=\"segment\"===this.geometryType||\"multipoint\"===this.geometryType?\"polyline\":this.geometryType;this._editGeometryOperations=new f(new _(s,this.coordinateHelper,r)),this._activeComponent=new x(this.spatialReference,r),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}}))),this._manipulator=new g({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){this._editGeometryOperations=n(this._editGeometryOperations),this._frameTask=a(this._frameTask)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:u)}get hasStagedVertex(){return o(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(s(e))this.discardStagedVertex();else if(!o(this._stagedVertex)||!m(this._stagedVertex,e)){if(s(this._stagedVertex))this._stagedVertex=r(e);else{if(m(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=p(this._snappingTask),o(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;p(this._snappingTask),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return v(e,((e,t,i,r)=>{const s=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&s&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>s,cancel:i,snappingManager:this.snappingManager,snappingContext:new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:r,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(s&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{s&&o(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}_createManipulatorDragPipelineFreehand(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}_getDrawSurface(){if(s(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_onHold(e){p(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),this.discardStagedVertex(),void this.complete();const r=this._screenToMap(e.screenPoint);if(o(r))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=p(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){if(p(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=c(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(o(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=o(i)?\"crosshair\":null,o(i))if(o(this.snappingManager)){const t=this.snappingManager,r=new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=t.update(i,r),this._snappingTask=h((async e=>{const s=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);s.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=s.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),s(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(r)&&b(r,t,i)}};function b(e,t,i){const r=e.x-t.x,s=e.y-t.y;return r*r+s*s<=i}e([d()],M.prototype,\"defaultZ\",void 0),e([d({value:u})],M.prototype,\"drawingMode\",null),e([d({constructOnly:!0})],M.prototype,\"elevationDrawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"elevationInfo\",void 0),e([d({constructOnly:!0})],M.prototype,\"geometryType\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasM\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasZ\",void 0),e([d({constructOnly:!0})],M.prototype,\"manipulators\",void 0),e([d({constructOnly:!0})],M.prototype,\"drawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingManager\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingVisualizer\",void 0),e([d()],M.prototype,\"snapToSceneEnabled\",void 0),e([d({readOnly:!0})],M.prototype,\"updating\",null),e([d({constructOnly:!0})],M.prototype,\"view\",void 0),M=e([l(\"esri.views.draw.DrawOperation\")],M);export{M as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as o}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=o(i,this.view,this.elevationInfo)),i}mapToScreen(t){let o=t;return e(this.elevationInfo)&&(o=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(o)}}class c{constructor(e){this.view=e,this.screenToMap=t=>e.toMap(t),this.mapToScreen=t=>e.toScreen(t)}}export{r as ElevationDrawSurface,c as MapDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isNone as a,isSome as i}from\"../../core/maybe.js\";class r{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=0){return this.addMany([t],a)[0]}addMany(t,a=0){return t.map((t=>{const i=this._nextManipulatorId++,r={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(r),this._attached&&this._updateManipulatorAttachment(r),i}))}remove(t){if(\"number\"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let r=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({id:s,manipulator:o,attached:n})=>{if(!n||!o.interactive)return;const l=o.intersectionDistance(t,a);i(l)&&l<e&&(e=l,r={id:s,manipulator:o})})),r}findById(t){if(a(t))return null;for(const a of this._manipulators.items)if(t===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return 2===t.visibilityPredicate||(this._isToolEditable?0===t.visibilityPredicate:1===t.visibilityPredicate)}}export{r as ManipulatorCollection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as a}from\"../../core/maybe.js\";import{createResolver as o}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{isDOMContainer as n}from\"../DOMContainer.js\";import{ManipulatorCollection as l}from\"./ManipulatorCollection.js\";const h=i.getLogger(\"esri.views.interactive.InteractiveToolBase\");let c=class extends e{constructor(t){super(t),this.toolState=\"pending\",this.completed=!1,this.manipulators=new l,this.updating=!1,this.automaticManipulatorSelection=!0,this._editableFlags=new Map([[1,!0],[0,!0]]),this._creationStartedResolver=o(),this._creationFinishedResolver=o()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._set(\"visible\",t),t||this.active&&(this.view.activeTool=null),this.attached&&(t?this._show():this._hide())}get editable(){return this.getEditableFlag(0)}set editable(t){this.setEditableFlag(0,t)}get attached(){return this._get(\"attached\")}get created(){return\"created\"===this.toolState}get cursor(){return null}attach(){this.attached?h.warn(\"Tool is already attached. Ignoring attach request.\"):(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set(\"attached\",!0))}detach(){this.attached?(this.visible&&this.onHide(),this.onDetach(),this.manipulators.detach(),this._set(\"attached\",!1)):h.error(\"Tool isn't currently attached. Ignoring detach request.\")}activate(){a(this.view)?h.error(\"Can't activate tool if view is not defined.\"):this.active?h.warn(\"Tool is already active, ignoring activation request.\"):(n(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.active?this.onDeactivate():h.warn(\"Tool is not active, ignoring deactivation request.\")}handleInputEvent(t){this.attached?this.onInputEvent(t):h.warn(\"handleInputEvent() called on detached tool\")}handleInputEventAfter(t){this.attached?this.onInputEventAfter(t):h.warn(\"handleInputEventAfter() called on detached tool\")}destroy(){this.manipulators.destroy(),this._set(\"view\",null),this._set(\"completed\",!1)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),0===t&&this.notifyChange(\"editable\"),this.onEditableChange()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreationStarted(){return this._creationStartedResolver.promise}whenCreated(){return this._creationFinishedResolver.promise}rejectCreation(t){\"pending\"!==this.toolState&&\"creating\"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(t)}onActivate(){}onDeactivate(){}onAttach(){}onDetach(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}startToolCreation(){if(\"pending\"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState=\"creating\");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case\"pending\":this.startToolCreation();case\"creating\":this.created||this._creationFinishedResolver.resolve(this),this.toolState=\"created\";break;case\"created\":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}complete(){this.finishToolCreation(),this._set(\"completed\",!0)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()}};t([r()],c.prototype,\"toolState\",void 0),t([r({constructOnly:!0})],c.prototype,\"view\",void 0),t([r({readOnly:!0})],c.prototype,\"active\",null),t([r({value:!0})],c.prototype,\"visible\",null),t([r({value:!0})],c.prototype,\"editable\",null),t([r({value:!1,readOnly:!0})],c.prototype,\"attached\",null),t([r({readOnly:!0})],c.prototype,\"created\",null),t([r({readOnly:!0})],c.prototype,\"completed\",void 0),t([r({readOnly:!0})],c.prototype,\"manipulators\",void 0),t([r({readOnly:!0})],c.prototype,\"updating\",void 0),t([r()],c.prototype,\"cursor\",null),t([r()],c.prototype,\"automaticManipulatorSelection\",void 0),c=t([s(\"esri.views.interactive.InteractiveToolBase\")],c);export{c as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as a,unwrap as o}from\"../../core/maybe.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{f as s}from\"../../chunks/vec3f64.js\";import{project as l}from\"../../geometry/projection.js\";import{move as i}from\"../draw/support/drawUtils.js\";function u(t,n){let e=null,o=null;return c=>{if(\"cancel\"===c.action)return void(r(o)&&(o.execute({action:\"cancel\"}),e=null,o=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};\"start\"===c.action&&a(e)&&(e=new b,o=new b,n(t,e,o,c.pointerType,s)),r(e)&&e.execute(s),\"end\"===c.action&&r(e)&&(e=null,o=null)}}function m(t,n){return t.events.on(\"drag\",u(t,n))}function f(n,e){const r=[];for(const t of n)r.push(m(t,e));return t(r)}function p(t,n){const e=[t.x,t.y,t.z],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const c=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(c(t.mapStart),c(t.mapEnd),t)}function y(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=x(t,r.mapStart.spatialReference,n)),a(e))return null;const o=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(o,c,s),{...r,translationX:o,translationY:c,translationZ:s}}}function d(t,n){return a(t)?null:t.spatialReference.equals(n)?t.clone():l(t,n)}function x(t,n,e){const r=t.geometry;if(a(r))return null;if(\"mesh\"===r.type)return E(t,r,n,e);const o=d(r,n),c=r.spatialReference;return a(o)?null:{move:(n,e,r)=>{const a=i(o.clone(),n,e,r);a.spatialReference.equals(c)?t.geometry=a:t.geometry=l(a,c)}}}function E(t,n,e,a){if(r(n.transform))return h(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let o=0,c=0,s=0;return{move:(e,r,l)=>{const i=e-o,u=r-c,m=l-s;if(i||u||m){const f=n.origin.clone().offset(i,u,m);n.centerAt(f,{geographic:1===a}),t.notifyGeometryChanged(),o=e,c=r,s=l}}}}function h(t,n,e,o){const c=d(e.getOriginPoint(n.spatialReference),o),u=n.spatialReference;return a(c)?null:{move:(n,a,o)=>{const m=i(c.clone(),n,a,o);if(m.spatialReference.equals(u))e.origin=s(m.x,m.y,m.z);else{const t=l(m,u);r(t)&&(e.origin=s(t.x,t.y,t.z))}t.notifyGeometryChanged()}}}function g(t,n=null,e){let o=null;const c=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?l(t,n):t:t=>t,s={exclude:[],...e};return n=>{if(\"start\"===n.action&&(o=c(t.toMap(n.screenStart,s))),a(o))return null;const e=c(t.toMap(n.screenEnd,s));return r(e)?{...n,mapStart:o,mapEnd:e}:null}}function S(t,n){const e=t.map((t=>o(y(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function R(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function z(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?j(t,t.geometry):R(t,[\"geometry\"])}function j(t,n){const e=r(n.transform)?n.transform.clone():null,a=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=a,t.notifyGeometryChanged(),r)}function v(t){const n=t.map((t=>o(z(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function w(t){return R(t,[\"symbol\"])}function q(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function D(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let r=null,a=0,o=0;return s=>{if(\"start\"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(a=s.screenStart.x-r.x,o=s.screenStart.y-r.y)),null==r)return null;const l=e(s.screenEnd.x-a,0,t.width),i=e(s.screenEnd.y-o,0,t.height),u=c(l,i);return s.screenStart=r,s.screenEnd=u,s}}class b{constructor(){this.execute=()=>{}}next(t,n=new b){return r(t)&&(this.execute=e=>{const a=t(e);r(a)&&n.execute(a)}),n}}export{b as EventPipeline,q as addMapDelta,D as addScreenDelta,p as constrainToMapAxis,u as createDragEventPipelineCallback,m as createManipulatorDragEventPipeline,f as createManipulatorDragEventPipelineMany,M as dragAtLocation,y as dragGraphic,S as dragGraphicMany,z as resetGraphic,v as resetGraphicMany,R as resetProperties,w as resetSymbol,g as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as o}from\"../dragEventPipeline.js\";import{SnappingContext as i}from\"./SnappingContext.js\";import{TaskPriority as s,ImmediateTask as p}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new o}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,y=null;const f=()=>{x=t(x),d.doneSnapping(),n(y)&&y.frameTask.remove(),y=null};return l.next((e=>(f(),e))),this.next=new o,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(s.SNAPPING):p;y={context:new i({editGeometryOperations:m.editGeometryOperations,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(y)){const t=y.context.coordinateHelper.vectorToDehydratedPoint(y.context.coordinateHelper.arrayToVector([y.originalPos.x,y.originalPos.y,y.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-y.originalPos.x,o=e.mapStart.y-y.originalPos.y,i={...e,action:\"udpate\"},s=y.context,p=d.update(t,y.context);if(e.mapEnd.x=p.x+n,e.mapEnd.y=p.y+o,\"end\"!==e.action){const e=y.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,s,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,p)||(i.mapEnd.x=t.x+n,i.mapEnd.y=t.y+o,this.next.execute(i))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&f(),e}}}export{c as SnappingPipeline};\n"],"names":["w","r","e","s","t","g","x","y","z","R","this","spatialReference","map","mapToLocal","W","o","defaultZ","transform","transformInv","a","v","view","pWS","p","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","i","localToWorldTransform","scale","resolution","referenceMapPoint","hasZ","state","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","l","h","m","c","f","n","viewingMode","u","d","fromRenderCoords","F","type","length","j","points","b","paths","T","forEach","push","M","rings","reverse","isSelfIntersecting","U","mapToLocalMultiple","Math","round","max","abs","localToMap","doUnnormalization","sqrt","center","radius","radiusUnit","L","PI","cos","sin","O","_graphic","geometryType","mode","snappingManager","snapToScene","internalGraphicsLayer","listMode","internal","layers","add","drawOperation","makeDrawOperation","handles","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","_destroyAllVisualisations","remove","_set","canRedo","canUndo","_updateGraphic","interactive","symbol","updating","onInputEvent","redo","undo","geometry","graphicSymbol","initializeGraphic","notifyChange","V","_","outline","regularVertices","activeVertex","operationComplete","numVertices","stagedVertex","committedVertices","slice","coordinateHelper","pointToArray","splice","full","arrayToPoint","makeMapPoint","G","forceUniformSize","centered","isCompleted","_getCreateOperationGeometry","sourceLayer","graphicProperties","emit","graphic","cancel","onOutlineChanged","onRegularVerticesChanged","onActiveVertexChanged","_createGraphic","value","prototype","nonNullable","constructOnly","readOnly","grabbableForEvent","events","selectable","cursor","grabbable","_createOperationCompleted","_pointerDownStates","Set","_snappingPipeline","_snappingTask","_stagedVertex","snapToSceneEnabled","elevationInfo","offset","hasM","resourceController","scheduler","_frameTask","registerTask","S","_editGeometryOperations","_activeComponent","data","components","vertices","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","added","updated","removed","_manipulator","drawingMode","pointerType","_snappingEnabled","size","manipulators","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","options","effectiveEnabled","discardStagedVertex","operation","updatingHandles","aborted","appendVertex","pointToVector","doneSnapping","commitStagedVertex","pointerId","delete","_onPointerMove","_onHold","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","next","_screenToMapDragEventStep","action","mapStart","createSnapDragEventPipelineStep","predicate","snappingContext","editGeometryOperations","pointer","visualizer","snappingVisualizer","mapEnd","elevationDrawSurface","drawSurface","getZ","_getDrawSurface","mapToScreen","mapPoint","stopPropagation","button","dragging","_closeOnClickVertexIndex","screenPoint","_screenToMap","hasStagedVertex","has","grabbing","update","schedule","snap","valid","apply","addPromise","promise","screenToMap","screenStart","screenEnd","_mapToScreen","vectorToDehydratedPoint","excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","toScreen","exclude","toMap","_isToolEditable","_manipulators","_nextManipulatorId","_resourceContexts","manipulator3D","_attached","addMany","id","manipulator","visibilityPredicate","attached","_updateManipulatorAttachment","getItemAt","_detachManipulator","removeAll","destroy","items","some","Number","MAX_VALUE","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","attach","hovering","selected","detach","toolState","completed","automaticManipulatorSelection","_editableFlags","Map","_creationStartedResolver","_creationFinishedResolver","activeTool","active","_show","_hide","getEditableFlag","setEditableFlag","_get","warn","onAttach","visible","onShow","onHide","onDetach","error","focus","onActivate","onDeactivate","onInputEventAfter","set","isToolEditable","internallyEditable","onEditableChange","get","resolve","reject","Error","startToolCreation","created","finishToolCreation","start","execute","getOriginPoint","move","clone","equals","origin","notifyGeometryChanged","centerAt","geographic","E","translationX","translationY","translationZ","filter","vertexAttributes","clonePositional","q","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","D","screenDeltaX","screenDeltaY","width","height","frameTask","context","vertexHandle","info","handle","excludeFeature","originalPos","snapOrigin","arrayToVector"],"sourceRoot":""}