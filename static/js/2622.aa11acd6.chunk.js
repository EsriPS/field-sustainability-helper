"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[2622],{70804:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(71002),a=n(89611),i=n(60136);function o(){o=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),(0,a.Z)(o,n.prototype)}function u(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,i.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=u(n,this)),n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var i=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"==typeof a){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(u(e,o)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},o.apply(this,arguments)}},47615:function(e,t,n){n.d(t,{lG:function(){return E},q9:function(){return d},my:function(){return N},O3:function(){return P}});var r=n(29439),a=n(37762),i=n(87757),o=n(10064),u=n(3182),s=n(80457),c=n(80031),l=i.mark(m),p=i.mark(v),f=i.mark(g),y={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function d(e){return y[e]}function m(e){var t,n,r;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=(0,a.Z)(e.features),i.prev=7,t.s();case 9:if((n=t.n()).done){i.next=17;break}if(r=n.value,i.t1=r,!i.t1){i.next=15;break}return i.next=15,r;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),l,null,[[7,19,22,25]])}function v(e){var t,n,r,o,u,s,c,l,f;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=(0,a.Z)(e.coordinates),i.prev=11,t.s();case 13:if((n=t.n()).done){i.next=18;break}return r=n.value,i.delegateYield(r,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:o=(0,a.Z)(e.coordinates),i.prev=28,o.s();case 30:if((u=o.n()).done){i.next=50;break}s=u.value,c=(0,a.Z)(s),i.prev=33,c.s();case 35:if((l=c.n()).done){i.next=40;break}return f=l.value,i.delegateYield(f,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),c.e(i.t5);case 45:return i.prev=45,c.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),o.e(i.t6);case 55:return i.prev=55,o.f(),i.finish(55);case 58:case"end":return i.stop()}}),p,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function g(e){var t,n,r,o,c,l,p,y,m,v,g,h,b,w=arguments;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=w.length>1&&void 0!==w[1]?w[1]:{},n=t.geometryType,r=t.objectIdField,o=(0,a.Z)(e),i.prev=3,o.s();case 5:if((c=o.n()).done){i.next=18;break}if(l=c.value,y=l.geometry,m=l.properties,v=l.id,!y||d(y.type)===n){i.next=10;break}return i.abrupt("continue",16);case 10:return h=null!=(p=(g=m||{})[r])?p:null,r&&null!=v&&!g[r]&&(g[r]=h=v),b=new u.ZP(y?x(new s.Z,y,t):null,g,null,h),i.next=16,b;case 16:i.next=5;break;case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(3),o.e(i.t0);case 23:return i.prev=23,o.f(),i.finish(23);case 26:case"end":return i.stop()}}),f,null,[[3,20,23,26]])}function h(e){var t,n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){if(t.value.length>2)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function b(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r[0]*a[1]-a[0]*r[1]}return t<=0}function w(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function x(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return S(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){S(e,r.value,n)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,n);case"MultiPolygon":return function(e,t,n){var r,i=(0,a.Z)(t.coordinates);try{for(i.s();!(r=i.n()).done;){var o=r.value;k(e,o[0],n);for(var u=1;u<o.length;u++)Z(e,o[u],n)}}catch(s){i.e(s)}finally{i.f()}return e}(e,t,n);case"Point":return function(e,t,n){return F(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){var r=t.coordinates;k(e,r[0],n);for(var a=1;a<r.length;a++)Z(e,r[a],n);return e}(e,t,n)}}function k(e,t,n){var r=w(t);!function(e){return!b(e)}(r)?S(e,r,n):T(e,r,n)}function Z(e,t,n){var r=w(t);!function(e){return b(e)}(r)?S(e,r,n):T(e,r,n)}function S(e,t,n){var r,i=(0,a.Z)(t);try{for(i.s();!(r=i.n()).done;){F(e,r.value,n)}}catch(o){i.e(o)}finally{i.f()}e.lengths.push(t.length)}function T(e,t,n){for(var r=t.length-1;r>=0;r--)F(e,t[r],n);e.lengths.push(t.length)}function F(e,t,n){var a=(0,r.Z)(t,3),i=a[0],o=a[1],u=a[2];e.coords.push(i,o),n.hasZ&&e.coords.push(u||0)}function C(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function P(e){if(!e)throw new o.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new o.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!r.test(n))throw new o.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function N(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],o=new Set,u=new Set,s=!1,l=null,p=!1,f=r.geometryType,y=void 0===f?null:f,g=!1,b=(0,a.Z)(m(e));try{var w=function(){var e=n.value,r=e.geometry,a=e.properties,c=e.id;if((!r||(y||(y=d(r.type)),d(r.type)===y))&&(s||(s=h(v(r))),p||(p=null!=c)&&(t=typeof c,l=Object.keys(a).filter((function(e){return a[e]===c}))),p&&null!=c&&(l.length>1?l=l.filter((function(e){return a[e]===c})):1===l.length&&(l=a[l[0]]===c?l:[])),!g&&a)){var f=!0;for(var m in a)if(!o.has(m)){var b=a[m];if(null!=b){var w=C(b);"unknown"!==w?(u.delete(m),o.add(m),i.push({name:m,alias:m,type:w})):u.add(m)}else f=!1,u.add(m)}g=f}};for(b.s();!(n=b.n()).done;)w()}catch(T){b.e(T)}finally{b.f()}var x=l&&1===l.length&&l[0]||null;if(x){var k,Z=(0,a.Z)(i);try{for(Z.s();!(k=Z.n()).done;){var S=k.value;if(S.name===x&&(0,c.H7)(S)){S.type="esriFieldTypeOID";break}}}catch(T){Z.e(T)}finally{Z.f()}}return{fields:i,geometryType:y,hasZ:s,objectIdFieldName:x,objectIdFieldType:t,unknownFields:Array.from(u)}}function E(e,t){return Array.from(g(m(e),t))}},12622:function(e,t,n){n.d(t,{M8:function(){return N},ft:function(){return Y},FU:function(){return U},Bm:function(){return ae},be:function(){return _},eB:function(){return B}});var r=n(1413),a=n(29439),i=n(37762),o=n(93433),u=n(70804),s=n(15861),c=n(87757),l=(n(59486),n(76200)),p=n(10064),f=n(83704),y=n(92026),d=n(66978),m=n(35995),v=n(62315),g=n(92975),h=n(27823),b=n(47615);function w(e){var t;return null!=(t=x(e))?t:function(e){var t=new Date(e).getTime();return Number.isNaN(t)?null:t}(e)}function x(e){var t,n,r,a,i=k.exec(e);if(!i)return null;var o=i.groups,u=+o.year,s=+o.month-1,c=+o.day,l=+(null!=(t=o.hours)?t:"0"),p=+(null!=(n=o.minutes)?n:"0"),f=+(null!=(r=o.seconds)?r:"0");if(l>23)return null;if(p>59)return null;if(f>59)return null;var y,d=null!=(a=o.ms)?a:"0",m=d?+d.padEnd(3,"0").substring(0,3):0;if(o.isUTC)y=Date.UTC(u,s,c,l,p,f,m);else if(o.offsetSign){var v=+o.offsetHours,g=+o.offsetMinutes;y=6e4*("+"===o.offsetSign?-1:1)*(60*v+g)+Date.UTC(u,s,c,l,p,f,m)}else y=new Date(u,s,c,l,p,f,m).getTime();return Number.isNaN(y)?null:y}var k=(0,u.Z)(/^(?:(\x2D?[0-9]{4,})\x2D([0-9]{2})\x2D([0-9]{2}))(?:T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]+))?)?(?:(Z)|(?:(\+|\x2D)([0-9]{2}):([0-9]{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11}),Z=n(39098),S=n(83040),T=n(78952),F=n(53866),C="xlink:href",P="2.0.0",N="__esri_wfs_id__",E="wfs-layer:getWFSLayerTypeInfo-error",G="wfs-layer:empty-service",R="wfs-layer:feature-type-not-found",D="wfs-layer:malformed-json",A="wfs-layer:unknown-geometry-type",M="wfs-layer:unknown-field-type",j="wfs-layer:unsupported-spatial-reference",O="wfs-layer:unsupported-wfs-version";function U(e,t){return L.apply(this,arguments)}function L(){return L=(0,s.Z)(c.mark((function e(t,n){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,(0,l.default)(t,{responseType:"text",query:(0,r.Z)({SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:P},null==n?void 0:n.customParameters),signal:null==n?void 0:n.signal});case 3:return e.t1=e.sent.data,a=(0,e.t0)(e.t1),e.abrupt("return",(H(t,a),a));case 6:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function I(e){var t=ue(e);(function(e){var t=e.firstElementChild.getAttribute("version");if(t&&t!==P)throw new p.Z(O,"Unsupported WFS version ".concat(t,". Supported version: ").concat(P))})(t),ce(t);var n=t.firstElementChild,r=(0,f.Fs)(function(e){return(0,Z.H)(e,{FeatureTypeList:{FeatureType:function(e){var t,n={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},r=new Set([4326]),s=function(e){var t,n,a=parseInt(null==(t=e.textContent.match((0,u.Z)(/([0-9]+$)/i,{wkid:1})))||null==(n=t.groups)?void 0:n.wkid,10);Number.isNaN(a)||r.add(a)};return(0,Z.h)(e,{Name:function(e){var t=se(e.textContent),r=t.name,a=t.prefix;n.typeName="".concat(a,":").concat(r),n.name=r,n.namespacePrefix=a,n.namespaceUri=e.lookupNamespaceURI(a)},Abstract:function(e){n.description=e.textContent},Title:function(e){n.title=e.textContent},WGS84BoundingBox:function(e){n.extent=function(e){var t,n,r,o,u,s=(0,i.Z)(e.children);try{for(s.s();!(u=s.n()).done;){var c=u.value;switch(c.localName){case"LowerCorner":var l=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),p=(0,a.Z)(l,2);t=p[0],n=p[1];break;case"UpperCorner":var f=c.textContent.split(" ").map((function(e){return Number.parseFloat(e)})),y=(0,a.Z)(f,2);r=y[0],o=y[1]}}}catch(d){s.e(d)}finally{s.f()}return{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:g.Zn}}(e)},DefaultSRS:s,DefaultCRS:s,OtherSRS:s,OtherCRS:s}),n.title||(n.title=n.name),(t=n.supportedSpatialReferences).push.apply(t,(0,o.Z)(r)),n}}})}(n));return{operations:V(n),get featureTypes(){return Array.from(r())},readFeatureTypes:r}}var W=new Set(["json","application/json","geojson","application/json; subtype=geojson"]);function V(e){var t=!1,n={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};if((0,Z.h)(e,{OperationsMetadata:{Operation:function(e){switch(e.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:function(e){n.GetCapabilities.url=e.getAttribute(C)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:function(e){n.DescribeFeatureType.url=e.getAttribute(C)}}}};case"GetFeature":return{DCP:{HTTP:{Get:function(e){n.GetFeature.url=e.getAttribute(C)}}},Parameter:function(e){if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:function(e){var t=e.textContent;W.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:function(e){switch(e.getAttribute("name")){case"KVPEncoding":return{DefaultValue:function(e){t="true"===e.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:function(e){n.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}}),!t)throw new p.Z("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if((0,y.Wi)(n.GetFeature.outputFormat))throw new p.Z("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return n}function H(e,t){(0,m.$U)(e)&&((0,m.D6)(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=(0,m.hO)(t.operations.DescribeFeatureType.url)),(0,m.D6)(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=(0,m.hO)(t.operations.GetFeature.url)))}function Y(e,t,n){return(0,f.sE)(e,(function(e){return n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t}))}function _(e,t,n){return X.apply(this,arguments)}function X(){return X=(0,s.Z)(c.mark((function e(t,n,r){var a,i,o,u,s,l,p,f,y,d,m,v=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:{},e.next=3,$(t,n,r,a);case 3:return o=e.sent,u=o.featureType,s=o.extent,e.next=8,z(t,u.typeName,a);case 8:return l=e.sent,p=l.fields,f=l.geometryType,y=l.swapXY,d=l.objectIdField,m=l.geometryField,e.abrupt("return",{url:t.operations.GetCapabilities.url,name:u.name,namespaceUri:u.namespaceUri,fields:p,geometryField:m,geometryType:f,objectIdField:d,spatialReference:null!=(i=a.spatialReference)?i:T.Z.WGS84,extent:s,swapXY:y,wfsCapabilities:t,customParameters:a.customParameters});case 15:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function $(e,t,n){return q.apply(this,arguments)}function q(){return q=(0,s.Z)(c.mark((function e(t,n,a){var i,o,u,s,l,f,d=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]?d[3]:{},o=i.spatialReference,u=void 0===o?T.Z.WGS84:o,s=t.readFeatureTypes(),l=n?Y(s,n,a):s.next().value,!(0,y.Wi)(l)){e.next=4;break}throw n?new p.Z(R,"The type '".concat(n,"' could not be found in the service")):new p.Z(G,"The service is empty");case 4:if(f=new F.Z((0,r.Z)((0,r.Z)({},l.extent),{},{spatialReference:u})),(0,g.fS)(u,g.Zn)){e.next=15;break}return e.prev=6,e.next=9,(0,v.iQ)(g.Zn,u,void 0,i);case 9:f=(0,v.iV)(f,g.Zn),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),new p.Z(j,"Projection not supported");case 15:return e.abrupt("return",{extent:f,spatialReference:u,featureType:l});case 16:case"end":return e.stop()}}),e,null,[[6,12]])}))),q.apply(this,arguments)}function z(e,t){return J.apply(this,arguments)}function J(){return J=(0,s.Z)(c.mark((function e(t,n){var i,o,u,s,l,f,m,v,g,h,b=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b.length>2&&void 0!==b[2]?b[2]:{},e.next=3,(0,d.as)([ee(t.operations.DescribeFeatureType.url,n,i),Q(t,n,i)]);case 3:if(o=e.sent,u=(0,a.Z)(o,2),s=u[0],l=u[1],!s.error&&!l.error){e.next=9;break}throw new p.Z(E,"An error occurred while getting info about the feature type '".concat(n,"'"),{error:s.error||l.error});case 9:if(f=s.value,m=f.fields,v=f.errors,g=s.value.geometryType||l.value.geometryType,h=l.value.swapXY,!(0,y.Wi)(g)){e.next=12;break}throw new p.Z(A,"The geometry type could not be determined for type '".concat(n),{typeName:n,geometryType:g,fields:m,errors:v});case 12:return e.abrupt("return",(0,r.Z)((0,r.Z)({},B(m)),{},{geometryType:g,swapXY:h}));case 13:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function B(e){var t,n=e.find((function(e){return"geometry"===e.type})),r=e.find((function(e){return"oid"===e.type}));return e=e.filter((function(e){return"geometry"!==e.type})),r||(r=new S.Z({name:N,type:"oid",alias:N}),e.unshift(r)),{geometryField:null!=(t=null==n?void 0:n.name)?t:null,objectIdField:r.name,fields:e}}function Q(e,t){return K.apply(this,arguments)}function K(){return K=(0,s.Z)(c.mark((function e(t,n){var i,o,u,s,p,f,y,d,m,v,g,w,x,k,Z=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z.length>2&&void 0!==Z[2]?Z[2]:{},s=!1,e.next=4,Promise.all([ae(t.operations.GetFeature.url,n,t.operations.GetFeature.outputFormat,(0,r.Z)((0,r.Z)({},i),{},{count:1})),(0,l.default)(t.operations.GetFeature.url,{responseType:"text",query:oe(n,void 0,(0,r.Z)((0,r.Z)({},i),{},{count:1})),signal:null==i?void 0:i.signal})]);case 4:if(p=e.sent,f=(0,a.Z)(p,2),y=f[0],d=f[1],!(m="FeatureCollection"===y.type&&(null==(o=y.features[0])?void 0:o.geometry))){e.next=22;break}e.t0=(u=h.Mk.fromJSON((0,b.q9)(m.type)),m.type),e.next="Point"===e.t0?13:"LineString"===e.t0||"MultiPoint"===e.t0?15:"MultiLineString"===e.t0||"Polygon"===e.t0?17:"MultiPolygon"===e.t0?19:20;break;case 13:return v=m.coordinates,e.abrupt("break",20);case 15:return v=m.coordinates[0],e.abrupt("break",20);case 17:return v=m.coordinates[0][0],e.abrupt("break",20);case 19:v=m.coordinates[0][0][0];case 20:(g=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(d.data))&&(w=v[0].toFixed(3),x=v[1].toFixed(3),k=parseFloat(g[1]).toFixed(3),w===parseFloat(g[2]).toFixed(3)&&x===k&&(s=!0));case 22:return e.abrupt("return",{geometryType:u,swapXY:s});case 23:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function ee(e,t,n){return te.apply(this,arguments)}function te(){return te=(0,s.Z)(c.mark((function e(t,n,a){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.t1=n,e.next=4,(0,l.default)(t,{responseType:"text",query:(0,r.Z)({SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:P,TYPENAME:n},null==a?void 0:a.customParameters),signal:null==a?void 0:a.signal});case 4:return e.t2=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t){var n=se(e).name,r=ue(t);ce(r);var a=(0,f.sE)((0,Z.H)(r.firstElementChild,{element:function(e){return{name:e.getAttribute("name"),typeName:se(e.getAttribute("type")).name}}}),(function(e){return e.name===n}));if((0,y.pC)(a)){var o=(0,f.sE)((0,Z.H)(r.firstElementChild,{complexType:function(e){return e}}),(function(e){return e.getAttribute("name")===a.typeName}));if((0,y.pC)(o))return function(e){var t,n,r,a,o=[],u=[],s=(0,Z.H)(e,{complexContent:{extension:{sequence:{element:function(e){return e}}}}}),c=(0,i.Z)(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=l.getAttribute("name");if(f){var y=void 0,d=void 0;if(l.hasAttribute("type")?y=se(l.getAttribute("type")).name:(0,Z.h)(l,{simpleType:{restriction:function(e){return y=se(e.getAttribute("base")).name,{maxLength:function(e){d=+e.getAttribute("value")}}}}}),y){var m="true"===l.getAttribute("nillable"),v=!1;switch(y.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":u.push(new S.Z({name:f,alias:f,type:"integer",nullable:m}));break;case"float":case"double":case"decimal":u.push(new S.Z({name:f,alias:f,type:"double",nullable:m}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":u.push(new S.Z({name:f,alias:f,type:"string",nullable:m,length:null!=(t=d)?t:255}));break;case"datetime":case"date":u.push(new S.Z({name:f,alias:f,type:"date",nullable:m,length:null!=(n=d)?n:36}));break;case"pointpropertytype":r="point",v=!0;break;case"multipointpropertytype":r="multipoint",v=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":r="polyline",v=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":r="polygon",v=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":v=!0,o.push(new p.Z(A,"geometry type '".concat(y,"' is not supported"),{type:(new XMLSerializer).serializeToString(e)}));break;default:o.push(new p.Z(M,"Unknown field type '".concat(y,"'"),{type:(new XMLSerializer).serializeToString(e)}))}v&&u.push(new S.Z({name:f,alias:f,type:"geometry",nullable:m}))}}}}catch(w){c.e(w)}finally{c.f()}for(var g=0,h=u;g<h.length;g++){var b=h[g];if("integer"===b.type&&!b.nullable&&re.has(b.name.toLowerCase())){b.type="oid";break}}return{geometryType:r,fields:u,errors:o}}(o)}throw new p.Z(R,"Type '".concat(e,"' not found in document"),{document:(new XMLSerializer).serializeToString(r)})}var re=new Set(["objectid","fid"]);function ae(e,t,n,r){return ie.apply(this,arguments)}function ie(){return ie=(0,s.Z)(c.mark((function e(t,n,r,a){var i,o,u,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)(t,{responseType:"text",query:oe(n,r,a),signal:null==a?void 0:a.signal});case 2:if(i=e.sent,o=(o=i.data).replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3'),e.prev=5,null==a||null==(u=a.dateFields)||!u.length){e.next=9;break}return s=new Set(a.dateFields),e.abrupt("return",JSON.parse(o,(function(e,t){return s.has(e)?w(t):t})));case 9:return e.abrupt("return",JSON.parse(o));case 12:throw e.prev=12,e.t0=e.catch(5),new p.Z(D,"Error while parsing the\xa0response",{response:o,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),ie.apply(this,arguments)}function oe(e,t,n){return(0,r.Z)({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:P,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:"EPSG:4326",STARTINDEX:null==n?void 0:n.startIndex,COUNT:null==n?void 0:n.count},null==n?void 0:n.customParameters)}function ue(e){return(new DOMParser).parseFromString(e.trim(),"text/xml")}function se(e){var t=e.split(":"),n=(0,a.Z)(t,2),r=n[0],i=n[1];return{prefix:i?r:"",name:null!=i?i:r}}function ce(e){var t,n;if((0,Z.h)(e.firstElementChild,{Exception:function(e){return t=e.getAttribute("exceptionCode"),{ExceptionText:function(e){n=e.textContent}}}}),t)throw new p.Z("wfs-layer:".concat(t),n)}},39098:function(e,t,n){n.d(t,{H:function(){return u},h:function(){return o}});var r=n(37762),a=n(87757),i=a.mark(u);function o(e,t){var n,a=(0,r.Z)(e.children);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.localName in t){var u=t[i.localName];if("function"==typeof u){var s=u(i);s&&o(i,s)}else o(i,u)}}}catch(c){a.e(c)}finally{a.f()}}function u(e,t){var n,o,s,c;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=(0,r.Z)(e.children),a.prev=1,n.s();case 3:if((o=n.n()).done){a.next=15;break}if(!((s=o.value).localName in t)){a.next=13;break}if("function"!=typeof(c=t[s.localName])){a.next=12;break}return a.next=10,c(s);case 10:a.next=13;break;case 12:return a.delegateYield(u(s,c),"t0",13);case 13:a.next=3;break;case 15:a.next=20;break;case 17:a.prev=17,a.t1=a.catch(1),n.e(a.t1);case 20:return a.prev=20,n.f(),a.finish(20);case 23:case"end":return a.stop()}}),i,null,[[1,17,20,23]])}}}]);
//# sourceMappingURL=2622.aa11acd6.chunk.js.map