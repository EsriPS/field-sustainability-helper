"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[9836],{46228:function(t,e,r){r.d(e,{I:function(){return i},v:function(){return a}});var n=r(16889);function i(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,n.uZ)(t,0,u),a=0;a<4;a++)e[r+a]=Math.floor(256*c(i*o[a]))}function a(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,n=0;n<4;n++)r+=t[e+n]*l[n];return r}var o=[1,256,65536,16777216],l=[1/256,1/65536,1/16777216,1/4294967296],u=a(new Uint8ClampedArray([255,255,255,255]));function c(t){return t-Math.floor(t)}},54763:function(t,e,r){r.r(e),r.d(e,{previewCIMSymbol:function(){return f}});var n=r(74165),i=r(15861),a=r(17842),o=r(94304),l=r(49729),u=r(37817),c=r(69157),h=new o.CIMSymbolRasterizer(null,!0),s=u.b_.maxSize;function f(t){return d.apply(this,arguments)}function d(){return d=(0,i.Z)((0,n.Z)().mark((function t(e){var r,i,o,u,f,d,y,g,p,v,m,w,x,k,b,M,I,Z,S,j,G,z,A=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=A.length>1&&void 0!==A[1]?A[1]:{},i=r.size,o=r.maxSize,u=r.node,f=r.opacity,d=r.cimOptions||r,y=d.feature,g=d.fieldMap,p=d.geometryType,v=d.style,m=(0,l.kW)(e),w="number"==typeof i?i:null,(x=Math.min(null!=w?w:m,null!=o?o:(0,a.Wz)(s)))!==m&&(e=e.clone(),(0,l.PI)(e,x,{preserveOutlineWidth:!0})),k=3,e&&e.data&&e.data.symbol&&"CIMPointSymbol"!==e.data.symbol.type&&(k=1),t.next=7,h.rasterizeCIMSymbolAsync(e,y,g,p,{scaleFactor:k,style:v});case 7:return b=t.sent,(M=document.createElement("canvas")).width=b.imageData.width,M.height=b.imageData.height,M.getContext("2d").putImageData(b.imageData,0,0),I=M.width/k,Z=M.height/k,null==i||null!=(null==r?void 0:r.scale)&&!(null==r?void 0:r.scale)||(I=(S=I/Z)<=1?Math.ceil(x*S):x,Z=S<=1?x:Math.ceil(x/S)),(j=new Image(I,Z)).src=M.toDataURL(),null!=f&&(j.style.opacity="".concat(f)),G=j,null!=r.effectView&&(z={shape:{type:"image",x:0,y:0,width:I,height:Z,src:j.src},fill:null,stroke:null,offset:[0,0]},G=(0,c.w)([[z]],[I,Z],{effectView:r.effectView})),t.abrupt("return",(u&&u.appendChild(G),G));case 18:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}},69157:function(t,e,r){r.d(e,{r:function(){return y},w:function(){return f}});var n=r(19545),i=r(76200),a=r(86950),o=r(10064),l=r(93169),u=(r(42877),r(88367)),c=r(99653),h=r(74579),s=(0,u.E)();function f(t,e,r){var n=Math.ceil(e[0]),i=Math.ceil(e[1]);if(!t.some((function(t){return!!t.length})))return null;var a=r&&r.node||document.createElement("div");return null!=r.opacity&&(a.style.opacity=r.opacity.toString()),null!=r.effectView&&(a.style.filter=(0,h.wJ)(r.effectView)),s.append(a,c.KB.bind(null,t,n,i,r)),a}function d(t,e,r,n,i){if("multiply"===i)t[e+0]*=r[0],t[e+1]*=r[1],t[e+2]*=r[2],t[e+3]*=r[3];else{var o=(0,a._Y)({r:t[e+0],g:t[e+1],b:t[e+2]});o.h=n.h,o.s=n.s,o.v=o.v/100*n.v;var l=(0,a.xr)(o);t[e+0]=l.r,t[e+1]=l.g,t[e+2]=l.b,t[e+3]*=r[3]}}function y(t,e,r,u,c){return function(t,e,r){return t?(0,i.default)(t,{responseType:"image"}).then((function(t){var n=t.data,i=n.width,a=n.height,o=i/a,l=e;if(r){var u=Math.max(i,a);l=Math.min(l,u)}return{image:n,width:o<=1?Math.ceil(l*o):l,height:o<=1?l:Math.ceil(l/o)}})):Promise.reject(new o.Z("renderUtils: imageDataSize","href not provided."))}(t,e,c).then((function(i){var o=i.width?i.width:e,c=i.height?i.height:e;if(i.image&&function(t,e){return!(!t||"ignore"===e)&&("multiply"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}(r,u)){var h=i.image.width,s=i.image.height;(0,l.Z)("edge")&&/\.svg$/i.test(t)&&(h-=1,s-=1);var f=function(t,e){t=Math.ceil(t),e=Math.ceil(e);var r=document.createElement("canvas");r.width=t,r.height=e,r.style.width=t+"px",r.style.height=e+"px";var n=r.getContext("2d");return n.clearRect(0,0,t,e),n}(o,c);f.drawImage(i.image,0,0,h,s,0,0,o,c);for(var y=f.getImageData(0,0,o,c),g=[r.r/255,r.g/255,r.b/255,r.a],p=(0,a._Y)(r),v=0;v<y.data.length;v+=4)d(y.data,v,g,p,u);f.putImageData(y,0,0),t=f.canvas.toDataURL("image/png")}else{var m=n.id&&n.id.findCredential(t);if(m&&m.token){var w=-1===t.indexOf("?")?"?":"&";t="".concat(t).concat(w,"token=").concat(m.token)}}return{url:t,width:o,height:c}})).catch((function(){return{url:t,width:e,height:e}}))}},99653:function(t,e,r){r.d(e,{A5:function(){return C},KB:function(){return B},al:function(){return N},ch:function(){return S},iL:function(){return U},jA:function(){return M},kQ:function(){return I},vq:function(){return b}});var n=r(37762),i=r(51995),a=r(93169),o=r(11245),l=r(22018),u=(r(80975),r(32718),r(67005)),c=0,h=0,s=(0,a.Z)("android"),f=(0,a.Z)("chrome")||s&&s>=4?"auto":"optimizeLegibility",d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},y=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,g={},p={},v={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},m=Math.PI,w=1;function x(t,e){var r=t*(m/180);return Math.abs(e*Math.sin(r))+Math.abs(e*Math.cos(r))}function k(t){return t.map((function(t){return"".concat(t.command," ").concat(t.values.join(" "))})).join(" ").trim()}function b(t,e,r,n){if(t){if("circle"===t.type)return(0,u.u)("circle",{fill:e,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return(0,u.u)("ellipse",{fill:e,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return(0,u.u)("rect",{fill:e,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return(0,u.u)("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){var i="string"!=typeof t.path?k(t.path):t.path;return(0,u.u)("path",{fill:e,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:i})}if("text"===t.type)return(0,u.u)("text",{fill:e,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":f,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:t.x,y:t.y},t.text)}return null}function M(t){var e={fill:"none",pattern:null,linearGradient:null};if(t)if("type"in t&&"pattern"===t.type){var r="patternId-"+ ++c;e.fill="url(#".concat(r,")"),e.pattern={id:r,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}}}else if("type"in t&&"linear"===t.type){var n="linearGradientId-"+ ++h;e.fill="url(#".concat(n,")"),e.linearGradient={id:n,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map((function(t){return{offset:t.offset,color:t.color&&new i.Z(t.color).toString()}}))}}else if(t){var a=new i.Z(t);e.fill=a.toString()}return e}function I(t){var e={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(t&&(null!=t.width&&(e.width=t.width),t.cap&&(e.cap=t.cap),t.join&&(e.join=t.join.toString()),t.color&&(e.color=new i.Z(t.color).toString()),t.style)){var r=null;if(t.style in v&&(r=v[t.style]),Array.isArray(r)){r=r.slice(0);for(var n=0;n<r.length;++n)r[n]*=t.width;if("butt"!==t.cap){for(var a=0;a<r.length;a+=2)r[a]-=t.width,r[a]<1&&(r[a]=1);for(var o=1;o<r.length;o+=2)r[o]+=t.width}r=r.join(",")}e.dashArray=r}return e}function Z(t,e){var r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(r.align=t.align,r.decoration=t.decoration,r.kerning=t.kerning?"auto":"0",r.rotate=t.rotated?"90":"0",r.font.style=e.style||"normal",r.font.variant=e.variant||"normal",r.font.weight=e.weight||"normal",r.font.size=e.size&&e.size.toString()||"10pt",r.font.family=e.family||"serif"),r}function S(t){var e=t.pattern,r=t.linearGradient;if(e)return(0,u.u)("pattern",{id:e.id,patternUnits:"userSpaceOnUse",x:e.x,y:e.y,width:e.width,height:e.height},(0,u.u)("image",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(r){var n=r.stops.map((function(t,e){return(0,u.u)("stop",{key:"".concat(e,"-stop"),offset:t.offset,"stop-color":t.color})}));return(0,u.u)("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n)}return null}function j(t,e,r){return(0,l.t)(t,(0,l.c)(t),[e,r])}function G(t,e,r,n,i){return(0,l.s)(t,(0,l.c)(t),[e,r]),t[4]=t[4]*e-n*e+n,t[5]=t[5]*r-i*r+i,t}function z(t,e){g&&"left"in g?(g.left>t&&(g.left=t),g.right<t&&(g.right=t),g.top>e&&(g.top=e),g.bottom<e&&(g.bottom=e)):g={left:t,bottom:e,right:t,top:e}}function A(t){var e,r=t.args,n=r.length;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(e=0;e<n;e+=2)z(r[e],r[e+1]);p.x=r[n-2],p.y=r[n-1];break;case"H":for(e=0;e<n;++e)z(r[e],p.y);p.x=r[n-1];break;case"V":for(e=0;e<n;++e)z(p.x,r[e]);p.y=r[n-1];break;case"m":var i=0;"x"in p||(z(p.x=r[0],p.y=r[1]),i=2);for(e=i;e<n;e+=2)z(p.x+=r[e],p.y+=r[e+1]);break;case"l":case"t":for(e=0;e<n;e+=2)z(p.x+=r[e],p.y+=r[e+1]);break;case"h":for(e=0;e<n;++e)z(p.x+=r[e],p.y);break;case"v":for(e=0;e<n;++e)z(p.x,p.y+=r[e]);break;case"c":for(e=0;e<n;e+=6)z(p.x+r[e],p.y+r[e+1]),z(p.x+r[e+2],p.y+r[e+3]),z(p.x+=r[e+4],p.y+=r[e+5]);break;case"s":case"q":for(e=0;e<n;e+=4)z(p.x+r[e],p.y+r[e+1]),z(p.x+=r[e+2],p.y+=r[e+3]);break;case"A":for(e=0;e<n;e+=7)z(r[e+5],r[e+6]);p.x=r[n-2],p.y=r[n-1];break;case"a":for(e=0;e<n;e+=7)z(p.x+=r[e+5],p.y+=r[e+6])}}function D(t,e,r){var n,i=d[t.toLowerCase()];"number"==typeof i&&(i?e.length>=i&&(n={action:t,args:e.slice(0,e.length-e.length%i)},r.push(n),A(n)):(n={action:t,args:[]},r.push(n),A(n)))}function C(t){var e={x:0,y:0,width:0,height:0};if("circle"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if("ellipse"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if("image"===t.type||"rect"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if("path"===t.type){var r=function(t){var e=("string"!=typeof t.path?k(t.path):t.path).match(y),r=[];if(g={},p={},!e)return null;for(var n="",i=[],a=e.length,o=0;o<a;++o){var l=e[o],u=parseFloat(l);isNaN(u)?(n&&D(n,i,r),i=[],n=l):i.push(u)}D(n,i,r);var c={x:0,y:0,width:0,height:0};return g&&"left"in g&&(c.x=g.left,c.y=g.top,c.width=g.right-g.left,c.height=g.bottom-g.top),c}(t);e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height}return e}function N(t){var e,r={x:0,y:0,width:0,height:0},i=null,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=(0,n.Z)(t);try{for(l.s();!(e=l.n()).done;){var u=e.value;i?(i.x=Math.min(i.x,u.x),i.y=Math.min(i.y,u.y),a=Math.max(a,u.x+u.width),o=Math.max(o,u.y+u.height)):((i=r).x=u.x,i.y=u.y,a=u.x+u.width,o=u.y+u.height)}}catch(c){l.e(c)}finally{l.f()}return i&&(i.width=a-i.x,i.height=o-i.y),i}function U(t,e,r,n,i,a,u,c,h){var s=(u&&a?x(a,e):e)/2,f=(u&&a?x(a,r):r)/2;if(h){var d=h[0],y=h[1];s=(u&&a?x(a,d):d)/2,f=(u&&a?x(a,y):y)/2}var g=t.width+n,p=t.height+n,v=(0,o.c)(),m=(0,o.c)(),w=!1;if(i&&0!==g&&0!==p){var k=e!==r?e/r:g/p,b=e>r?e:r,M=1,I=1;isNaN(b)||(k>1?(M=b/g,I=b/k/p):(I=b/p,M=b*k/g)),(0,l.m)(m,m,G(v,M,I,s,f)),w=!0}var Z=t.x+(g-n)/2,S=t.y+(p-n)/2;if((0,l.m)(m,m,j(v,s-Z,f-S)),!w&&(g>e||p>r)){var z=g/e>p/r,A=(z?e:r)/(z?g:p);(0,l.m)(m,m,G(v,A,A,Z,S))}return a&&(0,l.m)(m,m,function(t,e,r,n){var i=e%360*Math.PI/180;(0,l.r)(t,(0,l.c)(t),i);var a=Math.cos(i),o=Math.sin(i),u=t[4],c=t[5];return t[4]=u*a-c*o+n*o-r*a+r,t[5]=c*a+u*o-r*o-n*a+n,t}(v,a,Z,S)),c&&(0,l.m)(m,m,j(v,c[0],c[1])),"matrix(".concat(m[0],",").concat(m[1],",").concat(m[2],",").concat(m[3],",").concat(m[4],",").concat(m[5],")")}function B(t,e,r,i){var a=[],o=[],l=++w,c=function(t,e,r){var n=null==t?void 0:t.effects.find((function(t){return"bloom"===t.type}));if(!n)return null;var i=n.strength,a=n.radius,o=i>0?a:0,l=(i+o)*e,c=4*i+1;return(0,u.u)("filter",{id:"bloom".concat(r),x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,u.u)("feMorphology",{operator:"dilate",radius:(i+.5*o)*(Math.pow(5,e/100)*(.4+e/100)),in:"SourceGraphic",result:"dilate"}),(0,u.u)("feGaussianBlur",{in:"dilate",stdDeviation:l/25,result:"blur"}),(0,u.u)("feGaussianBlur",{in:"blur",stdDeviation:l/50,result:"intensityBlur"}),(0,u.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,u.u)("feFuncR",{type:"linear",slope:c}),(0,u.u)("feFuncG",{type:"linear",slope:c}),(0,u.u)("feFuncB",{type:"linear",slope:c})),(0,u.u)("feMerge",null,(0,u.u)("feMergeNode",{in:"intensityBlur"}),(0,u.u)("feMergeNode",{in:"intensityBrightness"}),(0,u.u)("feGaussianBlur",{stdDeviation:i/10})))}(null==i?void 0:i.effectView,e,l),h=null;if(c){var s,f=null==i||null==(s=i.effectView)?void 0:s.effects.find((function(t){return"bloom"===t.type})),d=(f.strength?f.strength+f.radius/2:0)/3,y=e+e*d,g=r+r*d;h=[Math.max(y,10),Math.max(g,10)]}var p,v=(0,n.Z)(t);try{for(v.s();!(p=v.n()).done;){var m,k=p.value,j=[],G=[],z=0,A=0,D=0,B=(0,n.Z)(k);try{for(B.s();!(m=B.n()).done;){var F=m.value,V=F.shape,E=F.fill,T=F.stroke,_=F.font,L=F.offset;z+=T&&T.width||0;var O=M(E),P=I(T),R="text"===V.type?Z(V,_):null;a.push(S(O)),j.push(b(V,O.fill,P,R)),G.push(C(V)),L&&(A+=L[0],D+=L[1])}}catch(q){B.e(q)}finally{B.f()}var Y=U(N(G),e,r,z,null==i?void 0:i.scale,null==i?void 0:i.rotation,null==i?void 0:i.useRotationSize,[A,D],h);o.push((0,u.u)("g",{transform:Y},j))}}catch(q){v.e(q)}finally{v.f()}return null!=i&&i.useRotationSize&&null!=i&&i.rotation&&(e=x(null==i?void 0:i.rotation,e),r=x(null==i?void 0:i.rotation,r)),c&&(e=h[0],r=h[1]),(0,u.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,style:"display: block;"},c,(0,u.u)("defs",null,a),c?(0,u.u)("g",{filter:"url(#bloom".concat(l,")")},o):o)}},91935:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(1413),i=r(10064),a=r(32718),o=r(58971);function l(t,e,r,i,o){var l=t.referencesGeometry()&&o?c(e,i,o):e,u=t.repurposeFeature(l);try{return t.evaluate((0,n.Z)((0,n.Z)({},r),{},{$feature:u}))}catch(h){return a.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",h),null}}var u=new Map;function c(t,e,r){var l=r.transform,c=r.hasZ,h=r.hasM;u.has(e)||u.set(e,function(t){var e={};switch(t){case"esriGeometryPoint":return function(t,r,n,i){return(0,o.U1)(r,e,t,n,i)};case"esriGeometryPolygon":return function(t,r,n,i){return(0,o.Ie)(r,e,t,n,i)};case"esriGeometryPolyline":return function(t,r,n,i){return(0,o.G6)(r,e,t,n,i)};case"esriGeometryMultipoint":return function(t,r,n,i){return(0,o.J9)(r,e,t,n,i)};default:return a.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new i.Z("mapview-arcade","Unable to handle geometryType: ".concat(t))),function(t){return t}}}(e));var s=u.get(e)(t.geometry,l,c,h);return(0,n.Z)((0,n.Z)({},t),{},{geometry:s})}}}]);
//# sourceMappingURL=9836.1f86fe87.chunk.js.map