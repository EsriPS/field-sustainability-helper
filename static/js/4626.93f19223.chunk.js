"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[4626],{77095:function(e,t,r){r.d(t,{hN:function(){return _},P0:function(){return P},cW:function(){return G}});var n=r(37762),i=r(15861),u=r(87757),a=r(10064),s=r(34066),o=r(66504);var l=r(77981),c=r(92975);function f(e,t){return e?t?4:3:t?3:2}function p(e,t,r,n,i,u){var a=f(i,u),s=n.coords,o=n.lengths;if(!o)return!1;for(var l=0,c=0;l<o.length;l++,c+=a)if(!h(e,t,r,s[c],s[c+1]))return!1;return!0}function h(e,t,r,i,u){if(!e)return!1;var a,s=f(t,r),o=e.coords,l=e.lengths,c=!1,p=0,h=(0,n.Z)(l);try{for(h.s();!(a=h.n()).done;){var y=a.value;c=v(c,o,s,p,y,i,u),p+=y*s}}catch(m){h.e(m)}finally{h.f()}return c}function v(e,t,r,n,i,u,a){for(var s=e,o=n,l=n,c=n+i*r;l<c;l+=r){(o=l+r)===c&&(o=n);var f=t[l],p=t[l+1],h=t[o],v=t[o+1];(p<a&&v>=a||v<a&&p>=a)&&f+(a-p)/(v-p)*(h-f)<u&&(s=!s)}return s}var y=r(83406),m=r(80457),d=r(19995),R=r(31904),S="feature-store:unsupported-query",g={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},b={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},w={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},x={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function k(e){return!0===b[e]}function I(e){return!0===w[(0,l.Ji)(e)]}function N(e){return!0===x[e]}function G(e,t,n,i,u){if((0,l.oU)(t)&&"esriGeometryPoint"===n&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){var a=(0,y.Uy)(new m.Z,t,!1,!1);return Promise.resolve((function(e){return function(e,t,r,n){return h(e,t,r,n.coords[0],n.coords[1])}(a,!1,!1,e)}))}if((0,l.oU)(t)&&"esriGeometryMultipoint"===n){var c=(0,y.Uy)(new m.Z,t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve((function(e){return p(c,!1,!1,e,i,u)}))}if((0,l.YX)(t)&&"esriGeometryPoint"===n&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve((function(e){return(0,s.aV)(t,(0,R.Op)(n,i,u,e))}));if((0,l.YX)(t)&&"esriGeometryMultipoint"===n&&"esriSpatialRelContains"===e)return Promise.resolve((function(e){return(0,s.lQ)(t,(0,R.Op)(n,i,u,e))}));if((0,l.YX)(t)&&"esriSpatialRelIntersects"===e){var f=function(e){return"mesh"===e?o.h_:(0,o.IY)(e)}(n);return Promise.resolve((function(e){return f(t,(0,R.Op)(n,i,u,e))}))}return Promise.all([r.e(9058),r.e(309)]).then(r.bind(r,50309)).then((function(r){var a=r[g[e]].bind(null,t.spatialReference,t);return function(e){return a((0,R.Op)(n,i,u,e))}}))}function P(e,t,r){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)(u.mark((function e(t,r,n){var i,s;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.spatialRel,!(s=t.geometry)){e.next=11;break}if(k(i)){e.next=4;break}throw new a.Z(S,"Unsupported query spatial relationship",{query:t});case 4:if(!(0,c.JY)(s.spatialReference)||!(0,c.JY)(n)){e.next=11;break}if(I(s)){e.next=7;break}throw new a.Z(S,"Unsupported query geometry type",{query:t});case 7:if(N(r)){e.next=9;break}throw new a.Z(S,"Unsupported layer geometry type",{query:t});case 9:if(!t.outSR){e.next=11;break}return e.abrupt("return",(0,d._W)(t.geometry&&t.geometry.spatialReference,t.outSR));case 11:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function _(e){if((0,l.YX)(e))return!0;if((0,l.oU)(e)){var t,r=(0,n.Z)(e.rings);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(5!==i.length)return!1;if(i[0][0]!==i[1][0]||i[0][0]!==i[4][0]||i[2][0]!==i[3][0]||i[0][1]!==i[3][1]||i[0][1]!==i[4][1]||i[1][1]!==i[2][1])return!1}}catch(u){r.e(u)}finally{r.f()}return!0}return!1}},20311:function(e,t,r){function n(e,t){if(!e)return null;var r=t.featureAdapter,n=e.startTimeField,i=e.endTimeField,u=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(n&&i)t.forEach((function(e){var t=r.getAttribute(e,n),s=r.getAttribute(e,i);null==t||isNaN(t)||(u=Math.min(u,t)),null==s||isNaN(s)||(a=Math.max(a,s))}));else{var s=n||i;t.forEach((function(e){var t=r.getAttribute(e,s);null==t||isNaN(t)||(u=Math.min(u,t),a=Math.max(a,t))}))}return{start:u,end:a}}function i(e,t,r){if(!t||!e)return null;var n=e.startTimeField,i=e.endTimeField;if(!n&&!i)return null;var u=t.start,a=t.end;return null===u&&null===a?null:void 0===u&&void 0===a?function(){return!1}:n&&i?function(e,t,r,n,i){return null!=n&&null!=i?function(u){var a=e.getAttribute(u,t),s=e.getAttribute(u,r);return(null==a||a<=i)&&(null==s||s>=n)}:null!=n?function(t){var i=e.getAttribute(t,r);return null==i||i>=n}:null!=i?function(r){var n=e.getAttribute(r,t);return null==n||n<=i}:void 0}(r,n,i,u,a):function(e,t,r,n){return null!=r&&null!=n&&r===n?function(n){return e.getAttribute(n,t)===r}:null!=r&&null!=n?function(i){var u=e.getAttribute(i,t);return u>=r&&u<=n}:null!=r?function(n){return e.getAttribute(n,t)>=r}:null!=n?function(r){return e.getAttribute(r,t)<=n}:void 0}(r,n||i,u,a)}r.d(t,{R:function(){return n},y:function(){return i}})},31904:function(e,t,r){r.d(t,{vF:function(){return m},S2:function(){return M},Op:function(){return w},Up:function(){return x},j6:function(){return I},EG:function(){return b}});var n=r(15861),i=r(87757),u=r(43404),a=r(92026),s=r(68860),o=r(94446),l=r(77981),c=r(64455),f=r(92975),p=r(83406),h=r(80457),v=r(19995),y=new u.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),m=Object.freeze({}),d=new h.Z,R=new h.Z,S=new h.Z,g={esriGeometryPoint:p.fQ,esriGeometryPolyline:p.J6,esriGeometryPolygon:p.eG,esriGeometryMultipoint:p.Iv};function b(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.hasZ,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.hasM;if((0,a.Wi)(t))return null;var u=e.hasZ&&n,s=e.hasM&&i;if(r){var o=(0,p.Nh)(S,t,e.hasZ,e.hasM,"esriGeometryPoint",r,n,i);return(0,p.fQ)(o,u,s)}return(0,p.fQ)(t,u,s)}function w(e,t,r,n,i,u){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r,l=t&&s,c=r&&o,f=(0,a.pC)(n)?"coords"in n?n:n.geometry:null;if((0,a.Wi)(f))return null;if(i){var h=(0,p.zj)(R,f,t,r,e,i,s,o);return u&&(h=(0,p.Nh)(S,h,l,c,e,u)),g[e](h,l,c)}if(u){var v=(0,p.Nh)(S,f,t,r,e,u,s,o);return g[e](v,l,c)}return(0,p.hY)(d,f,t,r,s,o),g[e](d,l,c)}function x(e,t,r){return k.apply(this,arguments)}function k(){return(k=(0,n.Z)(i.mark((function e(t,r,n){var u,a,s,o,l,c,f,p;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.outFields,a=t.orderByFields,s=t.groupByFieldsForStatistics,o=t.outStatistics,u)for(l=0;l<u.length;l++)u[l]=u[l].trim();if(a)for(c=0;c<a.length;c++)a[c]=a[c].trim();if(s)for(f=0;f<s.length;f++)s[f]=s[f].trim();if(o)for(p=0;p<o.length;p++)o[p].onStatisticField&&(o[p].onStatisticField=o[p].onStatisticField.trim());return e.abrupt("return",(t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),I(t,r,n)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,r){return N.apply(this,arguments)}function N(){return(N=(0,n.Z)(i.mark((function e(t,r,n){var u,s,f,p,h,y;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(u=t.where,t.where=u=u&&u.trim(),(!u||/^1 *= *1$/.test(u)||r&&r===u)&&(t.where=null),t.geometry){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,G(t);case 7:return s=e.sent,t.distance=0,t.units=null,"esriSpatialRelEnvelopeIntersects"===t.spatialRel&&(f=t.geometry.spatialReference,(s=(0,o.aO)(s)).spatialReference=f),t.geometry=s,e.next=12,(0,v._W)(s.spatialReference,n);case 12:return e.next=14,(0,c.aX)((0,l.im)(s));case 14:if(p=e.sent[0],!(0,a.Wi)(p)){e.next=17;break}throw m;case 17:return h=p.toJSON(),e.next=20,(0,v.iV)(h,h.spatialReference,n);case 20:if(y=e.sent){e.next=23;break}throw m;case 23:return e.abrupt("return",(y.spatialReference=n,t.geometry=y,t));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return P.apply(this,arguments)}function P(){return(P=(0,n.Z)(i.mark((function e(t){var r,n,u,a,o,l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.geometry,n=t.distance,u=t.units,null!=n&&!("vertexAttributes"in r)){e.next=3;break}return e.abrupt("return",r);case 3:if(a=r.spatialReference,o=u?y.fromJSON(u):(0,s.qE)(a),!a||!(0,f.sT)(a)&&!(0,f.sS)(a)){e.next=9;break}e.t0=r,e.next=12;break;case 9:return e.next=11,(0,v._W)(a,f.Zn).then((function(){return(0,v.iV)(r,f.Zn)}));case 11:e.t0=e.sent;case 12:return l=e.t0,e.next=15,Z();case 15:return e.t1=e.sent,e.abrupt("return",(0,e.t1)(l.spatialReference,l,n,o));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(9058),r.e(309)]).then(r.bind(r,50309));case 2:return e.abrupt("return",e.sent.geodesicBuffer);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return e&&U in e?JSON.parse(JSON.stringify(e,F)):e}var U="_geVersion",F=function(e,t){return e!==U?t:void 0}}}]);
//# sourceMappingURL=4626.93f19223.chunk.js.map