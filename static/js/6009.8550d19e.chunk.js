"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[6009,9951],{71277:function(e,t,a){function r(e){return e=e||globalThis.location.hostname,u.some((function(t){var a;return null!=(null==(a=e)?void 0:a.match(t))}))}function n(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(l)||null!=t.match(i)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(s)||null!=t.match(o)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}a.d(t,{pJ:function(){return n},XO:function(){return r}});var l=/^devext.arcgis.com$/,s=/^qaext.arcgis.com$/,i=/^[\w-]*\.mapsdevext.arcgis.com$/,o=/^[\w-]*\.mapsqa.arcgis.com$/,u=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,s,/^jsapps.esri.com$/,i,o]},36009:function(e,t,a){a.r(t),a.d(t,{getPatternDescriptor:function(){return z},getSymbolLayerFill:function(){return Z},previewSymbol3D:function(){return E}});var r=a(1413),n=a(15861),l=a(87757),s=a(65905),i=a(86950),o=(a(93169),a(10064)),u=a(32718),p=a(92026),c=a(66978),h=a(17842),m=a(79563),f=a(29122),y=a(73627),v=a(37817),b=a(69157),d=a(74579),g=a(19951),w=22,k=120,x=u.Z.getLogger("esri.symbols.support.previewSymbol3D");function M(e){var t=e.outline,a=(0,p.pC)(e.material)?e.material.color:null,r=(0,p.pC)(a)?a.toHex():null;if((0,p.Wi)(t)||"pattern"in t&&(0,p.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===r?{color:"#bdc3c7",width:.75}:null;var n=(0,h.F2)(t.size)||0;return{color:"rgba("+((0,p.pC)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,80),style:"pattern"in t&&(0,p.pC)(t.pattern)&&"style"===t.pattern.type?(0,m.Sp)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.a,r=(0,i._Y)(e),n=r.h,l=r.s/t,s=100-(100-r.v)/t,o=(0,i.xr)({h:n,s:l,v:s}),u=o.r,p=o.g,c=o.b;return[u,p,c,a]}function S(e){return"water"===e.type?(0,p.Wi)(e.color)?null:e.color:(0,p.Wi)(e.material)||(0,p.Wi)(e.material.color)?null:e.material.color}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=S(e);if(!a){if("fill"===e.type)return null;var r=m.Ne.r,n=(0,v.uH)(r,t);return[n,n,n,100]}for(var l=a.toRgba(),s=0;s<3;s++)l[s]=(0,v.uH)(l[s],t);return l}function z(e,t){return j.apply(this,arguments)}function j(){return(j=(0,n.Z)(l.mark((function e(t,a){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(r=t.style)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,(0,m.Od)((0,s.V)("esri/symbols/patterns/".concat(r,".png")),a.toCss(!0));case 5:return e.t0=e.sent,e.abrupt("return",{type:"pattern",x:0,y:0,src:e.t0,width:5,height:5});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return e.outline?M(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function C(e,t){var a=S(e);if(!a)return null;var r="rgba(";return r+=(0,v.uH)(a.r,t)+",",r+=(0,v.uH)(a.g,t)+",",(r+=(0,v.uH)(a.b,t)+",")+a.a+");"}function F(e,t){var a=C(e,t);return a?"pattern"in e&&(0,p.pC)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:a,width:Math.min(e.size?(0,h.F2)(e.size):.75,80),style:"pattern"in e&&(0,p.pC)(e.pattern)&&"style"===e.pattern.type?(0,m.Sp)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,h.F2)(2):e.join:null}:{}}function N(e,t,a){var r=.75*a;return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function D(e,t){var a,r=t&&t.size?(0,h.F2)(t.size):null,n=t&&t.maxSize?(0,h.F2)(t.maxSize):null,l=t&&t.disableUpsampling,i=e.symbolLayers,o=[],u=0,p=0,m=i.getItemAt(i.length-1);return m&&"icon"===m.type&&(a=m.size&&(0,h.F2)(m.size)),i.forEach((function(i){if("icon"===i.type||"object"===i.type){var c="icon"===i.type?i.size&&(0,h.F2)(i.size):0,m=r||c?Math.ceil(Math.min(r||c,n||k)):w;if(i&&i.resource&&i.resource.href){var x=function(e,t){var a=t&&t.resource,r=a&&a.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(r&&"object"!==t.type)return Promise.resolve((0,d.nf)(e,t));var n=(0,s.V)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,g.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||n})):Promise.resolve(n)}(e,i).then((function(e){var t=i.get("material.color"),a=function(e){return"icon"===e.type?"multiply":"tint"}(i);return(0,b.r)(e,m,t,a,l)})).then((function(e){var t=e.width,a=e.height;return u=Math.max(u,t),p=Math.max(p,a),[{shape:{type:"image",x:0,y:0,width:t,height:a,src:e.url},fill:null,stroke:null}]}));o.push(x)}else{var L,S=m;"icon"===i.type&&a&&r&&(S=m*(c/a));var z="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(L=t.symbolConfig)?void 0:L.isTall)||"object"===i.type&&function(e){var t=e.depth,a=e.height,r=e.width;return r&&t&&a&&r===t&&r<a}(i);u=Math.max(u,z?20:S),p=Math.max(p,S),o.push(Promise.resolve(function(e,t,a){var r=[];if(!e)return r;switch(e.type){case"icon":var n=t,l=t;switch(e.resource&&e.resource.primitive||f.SI){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:Z(e,0),stroke:M(e)});break;case"square":r.push({shape:{type:"path",path:[{command:"M",values:[0,l]},{command:"L",values:[0,0]},{command:"L",values:[n,0]},{command:"L",values:[n,l]},{command:"Z",values:[]}]},fill:Z(e,0),stroke:M(e)});break;case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[0,l]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,l]},{command:"Z",values:[]}]},fill:Z(e,0),stroke:M(e)});break;case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[.5*n,l]},{command:"M",values:[0,.5*l]},{command:"L",values:[n,.5*l]}]},stroke:P(e)});break;case"x":r.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[n,l]},{command:"M",values:[n,0]},{command:"L",values:[0,l]}]},stroke:P(e)});break;case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*l]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,.5*l]},{command:"L",values:[.5*n,l]},{command:"Z",values:[]}]},fill:Z(e,0),stroke:M(e)})}break;case"object":switch(e.resource&&e.resource.primitive||y.SI){case"cone":var s=N(Z(e,0),Z(e,-.6),a?20:t),i=(0,v.TE)(t,a);r.push({shape:i[0],fill:s}),r.push({shape:i[1],fill:s});break;case"inverted-cone":var o=Z(e,0),u=N(o,Z(e,-.6),t),p=(0,v.DY)(t);r.push({shape:p[0],fill:u}),r.push({shape:p[1],fill:o});break;case"cube":var c=(0,v.Pc)(t,a);r.push({shape:c[0],fill:Z(e,0)}),r.push({shape:c[1],fill:Z(e,-.3)}),r.push({shape:c[2],fill:Z(e,-.5)});break;case"cylinder":var h=N(Z(e,0),Z(e,-.6),a?20:t),m=(0,v.EB)(t,a);r.push({shape:m[0],fill:h}),r.push({shape:m[1],fill:h}),r.push({shape:m[2],fill:Z(e,0)});break;case"diamond":var b=(0,v.XX)(t);r.push({shape:b[0],fill:Z(e,-.3)}),r.push({shape:b[1],fill:Z(e,0)}),r.push({shape:b[2],fill:Z(e,-.3)}),r.push({shape:b[3],fill:Z(e,-.7)});break;case"sphere":var d=N(Z(e,0),Z(e,-.6));d.x1=0,d.y1=0,d.x2=.25*t,d.y2=.25*t,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:d});break;case"tetrahedron":var g=(0,v.tp)(t);r.push({shape:g[0],fill:Z(e,-.3)}),r.push({shape:g[1],fill:Z(e,0)}),r.push({shape:g[2],fill:Z(e,-.6)})}}return r}(i,S,z)))}}})),(0,c.as)(o).then((function(e){var a=[];return e.forEach((function(e){e.value?a.push(e.value):e.error&&x.warn("error while building swatchInfo!",e.error)})),(0,b.w)(a,[u,p],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function O(){return(O=(0,n.Z)(l.mark((function e(t,a){var n,s,i,o,u,c,m,f,y,d,g,x,j,P,C,N,D,O,E,W,J,H,U,I,T,$,q,V,Y,_,R,X;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="mesh-3d"===t.type,s=t.symbolLayers,i=a&&a.size?(0,h.F2)(a.size):null,o=a&&a.maxSize?(0,h.F2)(a.maxSize):null,u=i||w,c=[],m=0,f=0,y=!1,d=0;case 3:if(!(d<s.length)){e.next=42;break}if(g=s.getItemAt(d),x=[],!n||"fill"===g.type){e.next=7;break}return e.abrupt("continue",39);case 7:j=v.JZ.fill[0],e.t0=g.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?28:"water"===e.t0?33:38;break;case 11:if(P=M(g),C=Math.min(u,o||k),m=Math.max(m,C),f=Math.max(f,C),y=!0,N=Z(g,0),D="pattern"in g&&g.pattern,O=S(g),e.t1=!n&&(0,p.pC)(D)&&"style"===D.type&&"solid"!==D.style&&O,!e.t1){e.next=20;break}return e.next=19,z(D,O);case 19:N=e.sent;case 20:return x.push({shape:j,fill:N,stroke:P}),e.abrupt("break",38);case 22:if(E=F(g,0),!(0,p.Wi)(E)){e.next=25;break}return e.abrupt("break",38);case 25:return W={stroke:E,shape:j},m=Math.max(m,w),f=Math.max(f,w),x.push(W),e.abrupt("break",38);case 28:return J=(0,r.Z)({join:"round",width:1},F(g,-.4)),H=Z(g,0),U=Z(g,-.2),I=Math.min(u,o||k),T=(0,v.EV)(I),J.width=1,x.push({shape:T[0],fill:U,stroke:J}),x.push({shape:T[1],fill:U,stroke:J}),x.push({shape:T[2],fill:H,stroke:J}),w,$=.7*w+.5*I,m=Math.max(m,22),f=Math.max(f,$),e.abrupt("break",38);case 33:return q=S(g),V=L(q),Y=L(q,2),_=L(q,3),R=(0,v.ht)(),y=!0,x.push({shape:R[0],fill:V}),x.push({shape:R[1],fill:Y}),x.push({shape:R[2],fill:_}),X=Math.min(u,o||k),m=Math.max(m,X),f=Math.max(f,X),e.abrupt("break",38);case 38:c.push(x);case 39:d++,e.next=3;break;case 42:return e.abrupt("return",Promise.resolve((0,b.w)(c,[m,f],{node:a&&a.node,scale:y,opacity:a&&a.opacity})));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){if(0===e.symbolLayers.length)return Promise.reject(new o.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return D(e,t);case"line-3d":return function(e,t){var a,n=e.symbolLayers,l=[],s=(0,d.YW)(e),i=t&&t.size?(0,h.F2)(t.size):null,o=(t&&t.maxSize?(0,h.F2)(t.maxSize):null)||80,u=0,c=0;return n.forEach((function(e,t){if(e&&("line"===e.type||"path"===e.type)){var n=[];switch(e.type){case"line":var s=F(e,0);if((0,p.Wi)(s))break;var h=s&&s.width||0;0===t&&(a=h);var m=Math.min(i||h,o),f=0===t?m:i?m*(h/a):m,y=f>20?2*f:40;c=Math.max(c,f),u=Math.max(u,y),s.width=f,n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[u,.5*c]}]},stroke:s});break;case"path":var b=Math.min(i||w,o),d=Z(e,0),g=Z(e,-.2),k=C(e,-.4),x=k?{color:k,width:1}:{};if("quad"===e.profile){var M=e.width,L=e.height,S=(0,v.eb)(M&&L?M/L:1,0===L,0===M),z=(0,r.Z)((0,r.Z)({},x),{},{join:"bevel"});n.push({shape:S[0],fill:g,stroke:z}),n.push({shape:S[1],fill:g,stroke:z}),n.push({shape:S[2],fill:d,stroke:z})}else n.push({shape:v.JZ.pathSymbol3DLayer[0],fill:g,stroke:x}),n.push({shape:v.JZ.pathSymbol3DLayer[1],fill:d,stroke:x});c=Math.max(c,b),u=c}l.push(n)}})),Promise.resolve((0,b.w)(l,[u,c],{node:t&&t.node,scale:s,opacity:t&&t.opacity}))}(e,t);case"polygon-3d":case"mesh-3d":return function(e,t){return O.apply(this,arguments)}(e,t)}return Promise.reject(new o.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},19951:function(e,t,a){a.r(t),a.d(t,{fetchSymbolFromStyle:function(){return f},resolveWebStyleSymbol:function(){return m}});var r=a(51508),n=a(71277),l=a(10064),s=a(35995),i=a(70032),o=a(53283),u=a(192),p=a(1472),c=a(86423),h=a(81854);function m(e,t,a,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,a){var r=c.wm.replace(/\{SymbolName\}/gi,e.name);return(0,c.EJ)(r,a).then((function(e){var a=(0,c.KV)(e.data);return(0,u.i)(a,{portal:t.portal,url:(0,s.mN)((0,s.Yd)(r)),origin:"portal-item"})}))}(e,t,r):(0,c.n2)(e,t,r).then((function(n){return f(n,e.name,t,a,r)})):Promise.reject(new l.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,a,m,f){var y=e.data,v={portal:a&&a.portal||i.Z.getDefault(),url:(0,s.mN)(e.baseUrl),origin:"portal-item"},b=y.items.find((function(e){return e.name===t}));if(!b){var d="The symbol name '".concat(t,"' could not be found");return Promise.reject(new l.Z("symbolstyleutils:symbol-name-not-found",d,{symbolName:t}))}var g=(0,o.f)((0,c.v9)(b,m),v),w=b.thumbnail&&b.thumbnail.href,k=b.thumbnail&&b.thumbnail.imageData;(0,n.XO)()&&(g=(0,n.pJ)(g),w=(0,n.pJ)(w));var x={portal:a.portal,url:(0,s.mN)((0,s.Yd)(g)),origin:"portal-item"};return(0,c.EJ)(g,f).then((function(n){var l="cimRef"===m?(0,c.KV)(n.data):n.data,s=(0,u.i)(l,x);if(s&&(0,r.dU)(s)){if(w){var i=(0,o.f)(w,v);s.thumbnail=new h.Z({url:i})}else k&&(s.thumbnail=new h.Z({url:"data:image/png;base64,".concat(k)}));e.styleUrl?s.styleOrigin=new p.Z({portal:a.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(s.styleOrigin=new p.Z({portal:a.portal,styleName:e.styleName,name:t}))}return s}))}}}]);
//# sourceMappingURL=6009.8550d19e.chunk.js.map