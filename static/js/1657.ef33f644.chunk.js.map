{"version":3,"file":"static/js/1657.ef33f644.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import t from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{createTask as r,isAbortError as n}from\"../../../../core/promiseUtils.js\";import{getJsonType as a}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as o,equals as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as u,convertToGeometry as d,convertFromFeatures as p,convertToFeature as c,convertFromFeature as y}from\"../../featureConversionUtils.js\";import h from\"../../data/FeatureStore.js\";import{checkProjectionSupport as m,project as f}from\"../../data/projectionSupport.js\";import g from\"../../data/QueryEngine.js\";import{inferLayerProperties as _,createOptimizedFeatures as I,validateGeoJSON as j}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as E,createDefaultAttributesFunction as b}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as T,mixAttributes as w,createFeatureEditSuccessResult as q,createFeatureEditErrorResult as x,simplify as S}from\"../support/sourceUtils.js\";import R from\"../../../support/FieldsIndex.js\";import{kebabDict as k}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as D}from\"../../../support/fieldUtils.js\";const O={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e,s={}){this.loadOptions={url:e.url,customParameters:e.customParameters};const i=[];await this._checkProjection(e.spatialReference);let r=null;e.url&&(r=await this._fetch(null==s?void 0:s.signal));const n=_(r,{geometryType:e.geometryType}),a=e.fields||n.fields||[],l=null!=e.hasZ?e.hasZ:n.hasZ,u=n.geometryType,d=e.objectIdField||n.objectIdFieldName||\"__OBJECTID\",p=e.spatialReference||o;let c=e.timeInfo;a===n.fields&&n.unknownFields.length>0&&i.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:n.unknownFields}});let y=a.find((e=>e.name===d));y?(\"esriFieldTypeString\"!==y.type&&(y.type=\"esriFieldTypeOID\"),y.editable=!1,y.nullable=!1):(y={alias:d,name:d,type:\"string\"===n.objectIdFieldType?\"esriFieldTypeString\":\"esriFieldTypeOID\",editable:!1,nullable:!1},a.unshift(y));const m={};for(const o of a){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),!o.name)throw new t(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:o});if(!k.jsonValues.includes(o.type))throw new t(\"geojson-layer:invalid-field-type\",`invalid type for field \"${o.name}\"`,{field:o});if(o.name!==y.name){const e=D(o);void 0!==e&&(m[o.name]=e)}}this._fieldsIndex=new R(a);const f=this._fieldsIndex.requiredFields.indexOf(y);if(f>-1&&this._fieldsIndex.requiredFields.splice(f,1),c){if(c.startTimeField){const e=this._fieldsIndex.get(c.startTimeField);e?(c.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.startTimeField=null}if(c.endTimeField){const e=this._fieldsIndex.get(c.endTimeField);e?(c.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.endTimeField=null}if(c.trackIdField){const e=this._fieldsIndex.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:c}}),c=null)}const I=u?F(u):null,j={warnings:i,featureErrors:[],layerDefinition:{...O,drawingInfo:I,templates:E(m),extent:null,geometryType:u,objectIdField:d,fields:a,hasZ:!!l,timeInfo:c}};this._queryEngine=new g({fields:a,geometryType:u,hasM:!1,hasZ:l,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new h({geometryType:u,hasM:!1,hasZ:l}),cacheSpatialQueries:!0}),this._createDefaultAttributes=b(m,d);const T=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,T);const w=this._normalizeFeatures(T,j.warnings,j.featureErrors);if(this._queryEngine.featureStore.addMany(w),j.layerDefinition.extent=this._queryEngine.fullExtent,j.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;j.layerDefinition.timeInfo.timeExtent=[e,t]}return j}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([T(t,s),m(e.adds,t),m(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){var i;return this.loadOptions.customParameters=e,null==(i=this._snapshotTask)||i.abort(),this._snapshotTask=r(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),n(e)||s.getLogger(\"esri.layers.GeoJSONLayer\").error(new t(\"geojson-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent}}async _createFeatures(e){const{geometryType:t,hasZ:s,objectIdField:r}=this._queryEngine,n=I(e,{geometryType:t,hasZ:s,objectIdField:r});if(!l(this._queryEngine.spatialReference,o))for(const a of n)i(a.geometry)&&(a.geometry=u(f(d(a.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),o,this._queryEngine.spatialReference)));return n}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this.loadOptions,r=(await e(s,{responseType:\"json\",query:{...i},signal:t})).data;return await j(r),r}_normalizeFeatures(e,t,s){const{objectIdField:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=w(this._fieldsIndex,e,n.attributes,!0,t);a?null==s||s.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[i],r.push(n))}return r}_applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),s&&s.length&&this._applyUpdateEdits(r,s),i&&i.length){for(const e of i)r.deleteResults.push(q(e));this._queryEngine.featureStore.removeManyById(i)}return{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:r,hasM:n,hasZ:o,objectIdField:l,spatialReference:u,featureStore:d}=this._queryEngine,c=[];for(const p of t){if(p.geometry&&r!==a(p.geometry)){s.push(x(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),n=w(this._fieldsIndex,t,p.attributes);if(n)s.push(n);else{if(this._assignObjectId(t,p.attributes),p.attributes=t,null!=p.uid){const t=p.attributes[l];e.uidToObjectId[p.uid]=t}i(p.geometry)&&(p.geometry=f(S(p.geometry,u),p.geometry.spatialReference,u)),c.push(p),s.push(q(p.attributes[l]))}}d.addMany(p([],c,r,o,n,l))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:r,hasZ:n,objectIdField:o,spatialReference:l,featureStore:u}=this._queryEngine;for(const d of t){const{attributes:t,geometry:p}=d,h=t&&t[o];if(null==h){e.push(x(`Identifier field ${o} missing`));continue}if(!u.has(h)){e.push(x(`Feature with object id ${h} missing`));continue}const m=c(u.getFeature(h),s,n,r);if(i(p)){if(s!==a(p)){e.push(x(\"Incorrect geometry type.\"));continue}m.geometry=f(S(p,l),p.spatialReference,l)}if(t){const s=w(this._fieldsIndex,m.attributes,t);if(s){e.push(s);continue}}u.add(y(m,s,n,r,o)),e.push(q(h))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if(\"esriFieldTypeString\"===s.type)return()=>s.name+\"-\"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await m(o,e)}catch{throw new t(\"geojson-layer\",\"Projection not supported\")}}}export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{isNumericField as o}from\"../../../support/fieldUtils.js\";const r={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function i(e){return r[e]}function*s(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*c(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*u(e,o={}){const{geometryType:r,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&i(e.type)!==r)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const p=new t(e?d(new n,e,o):null,a,null,y);yield p}}function l(e){for(const t of e)if(t.length>2)return!0;return!1}function f(e){return!y(e)}function a(e){return y(e)}function y(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function p(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function d(e,t,n){switch(t.type){case\"LineString\":return g(e,t,n);case\"MultiLineString\":return m(e,t,n);case\"MultiPoint\":return h(e,t,n);case\"MultiPolygon\":return w(e,t,n);case\"Point\":return P(e,t,n);case\"Polygon\":return b(e,t,n)}}function g(e,t,n){return F(e,t.coordinates,n),e}function m(e,t,n){for(const o of t.coordinates)F(e,o,n);return e}function h(e,t,n){return F(e,t.coordinates,n),e}function w(e,t,n){for(const o of t.coordinates){j(e,o[0],n);for(let t=1;t<o.length;t++)S(e,o[t],n)}return e}function P(e,t,n){return M(e,t.coordinates,n),e}function b(e,t,n){const o=t.coordinates;j(e,o[0],n);for(let r=1;r<o.length;r++)S(e,o[r],n);return e}function j(e,t,n){const o=p(t);f(o)?G(e,o,n):F(e,o,n)}function S(e,t,n){const o=p(t);a(o)?G(e,o,n):F(e,o,n)}function F(e,t,n){for(const o of t)M(e,o,n);e.lengths.push(t.length)}function G(e,t,n){for(let o=t.length-1;o>=0;o--)M(e,t[o],n);e.lengths.push(t.length)}function M(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function k(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function O(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],r=new Set,u=new Set;let f,a=!1,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const o of s(e)){const{geometry:e,properties:t,id:s}=o;if(!e||(d||(d=i(e.type)),i(e.type)===d)){if(!a){a=l(c(e))}if(p||(p=null!=s,p&&(f=typeof s,y=Object.keys(t).filter((e=>t[e]===s)))),p&&null!=s&&(y.length>1?y=y.filter((e=>t[e]===s)):1===y.length&&(y=t[y[0]]===s?y:[])),!g&&t){let e=!0;for(const o in t){if(r.has(o))continue;const i=t[o];if(null==i){e=!1,u.add(o);continue}const s=k(i);\"unknown\"!==s?(u.delete(o),r.add(o),n.push({name:o,alias:o,type:s})):u.add(o)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const i of n)if(i.name===m&&o(i)){i.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:d,hasZ:a,objectIdFieldName:m,objectIdFieldType:f,unknownFields:Array.from(u)}}function L(e,t){return Array.from(u(s(e),t))}export{L as createOptimizedFeatures,i as getGeometryType,T as inferLayerProperties,O as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"esri-csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.includes(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isValid as e}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as t,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function u(e){return new l(e)}class a{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new a(e)}const f=new Set;function d(e,t,r,s=!1,o){f.clear();for(const l in r){const a=e.get(l);if(!a)continue;const c=r[l],d=m(a,c);if(d!==c&&o&&o.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:a,originalValue:c,sanitizedValue:d}}),f.add(a.name),a&&(s||a.editable)){const e=n(a,d);if(e)return u(i(e,a,d));t[a.name]=d}}for(const n of e.requiredFields)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(e,n){let i=n;return\"string\"==typeof n&&r(e)?i=parseFloat(n):null!=n&&s(e)&&\"string\"!=typeof n&&(i=String(n)),t(i)}let p;function h(t,n){if(!t||!e(n))return t;if(\"rings\"in t||\"paths\"in t){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,t)}return t}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(t,n){!e(t)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n"],"names":["O","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","C","this","_queryEngine","_snapshotFeatures","e","_fetch","t","_createFeatures","destroy","_fieldsIndex","_createDefaultAttributes","a","s","loadOptions","url","customParameters","i","_checkProjection","spatialReference","r","signal","n","_","geometryType","fields","l","hasZ","u","d","objectIdField","objectIdFieldName","p","o","c","timeInfo","unknownFields","length","push","name","message","details","y","find","type","editable","nullable","alias","objectIdFieldType","unshift","m","field","k","D","R","f","requiredFields","indexOf","splice","startTimeField","get","endTimeField","trackIdField","I","F","j","warnings","featureErrors","layerDefinition","drawingInfo","templates","E","extent","g","hasM","featureStore","h","cacheSpatialQueries","b","T","_objectIdGenerator","_createObjectIdGenerator","w","_normalizeFeatures","addMany","fullExtent","timeExtent","start","end","Promise","all","adds","updates","_waitSnapshotComplete","_applyEdits","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","promise","then","clear","error","geometry","finished","responseType","query","data","attributes","_assignObjectId","objectId","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","q","removeManyById","featureEditResults","x","uid","S","has","getFeature","add","fieldsIndex","Date","now","toString","Number","NEGATIVE_INFINITY","Math","max","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","coordinates","properties","id","M","P","G","lengths","coords","crs","code","RegExp","test","Set","Object","keys","filter","delete","Array","from","L","renderer","symbol","includes","JSON","stringify","Function","description","prototype","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","globalId","success","uniqueId","originalValue","sanitizedValue","parseFloat","String","TypeError","simplify"],"sourceRoot":""}