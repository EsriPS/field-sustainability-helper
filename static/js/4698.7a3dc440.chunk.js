"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[4698,3806],{24698:function(n,e,t){t.r(e),t.d(e,{executeScript:function(){return hn},extend:function(){return fn},extractFieldLiterals:function(){return dn},findFunctionCalls:function(){return En},functionHelper:function(){return sn},referencesFunction:function(){return vn},referencesMember:function(){return gn},validateScript:function(){return pn}});var r=t(37762),o=t(72741),a=t(19191),i=t(62357),u=t(5431),c=t(790),l=t(47488),s=t(40778),f=t(44715),h=t(28183),d=t(29876),p=t(44241),g=t(97512),v=t(83806),E=t(12271),w=t(85265),m=t(82197),y=t(63425),I=t(66978),N=t(53866),A=t(32238),b=t(77577),R=t(7882),Z=t(80885),S=t(29909),U=t(78952);function T(n){return n&&"function"==typeof n.then}var F=100;function O(n){return n instanceof Error?(0,I.d1)(n):(0,I.d1)(new Error(n))}function x(n){return(0,I.DB)(n)}function D(n,e){for(var t=[],r=0;r<e.arguments.length;r++)t.push(M(n,e.arguments[r]));return(0,I.$6)(t)}function C(n,e,t){return(0,I.Ue)((function(r,o){if(!0===e.preparsed)return r(t(n,null,e.arguments));D(n,e).then((function(a){try{r(t(n,e,a))}catch(i){o(i)}}),o)}))}function L(n,e,t){try{if(!0===e.preparsed){var r=t(n,null,e.arguments);return T(r)?r:(0,I.DB)(r)}return D(n,e).then((function(r){try{var o=t(n,e,r);return T(o)?o:(0,I.DB)(o)}catch(a){return O(a)}}))}catch(o){return O(o)}}function M(n,e,t){try{if(e.breakpoint&&!0!==t)return e.breakpoint().then((function(){return M(n,e,!0)}));switch(e.type){case"VariableDeclarator":return function(n,e){try{var r=null;return r=null===e.init?(0,I.DB)(null):M(n,e.init),null!==n.localScope?r.then((function(t){return(0,I.Ue)((function(r){if(t===f.v&&(t=null),"Identifier"!==e.id.type)throw new Error("Can only assign a regular variable");var o=e.id.name.toLowerCase();n.localScope[o]={value:t,valueset:!0,node:e.init},r(f.v)}))})):r.then((function(t){return(0,I.Ue)((function(r){if("Identifier"!==e.id.type)throw new Error("Can only assign a regular variable");var o=e.id.name.toLowerCase();t===f.v&&(t=null),n.globalScope[o]={value:t,valueset:!0,node:e.init},r(f.v)}))}))}catch(t){return O(t)}}(n,e);case"VariableDeclaration":return V(n,e,0);case"BlockStatement":return function(n,e){try{return j(n,e,0)}catch(t){return O(t)}}(n,e);case"FunctionDeclaration":return function(n,e){try{var r=e.id.name.toLowerCase();return n.globalScope[r]={valueset:!0,node:null,value:new c.Z(e,n)},(0,I.DB)(f.v)}catch(t){return O(t)}}(n,e);case"ReturnStatement":return function(n,e){return(0,I.Ue)((function(t,r){null===e.argument?t(new f.R(f.v)):M(n,e.argument).then((function(n){try{t(new f.R(n))}catch(e){r(e)}}),r)}))}(n,e);case"IfStatement":return function(n,e){return(0,I.Ue)((function(t,r){"AssignmentExpression"!==e.test.type&&"UpdateExpression"!==e.test.type?M(n,e.test).then((function(o){try{!0===o?M(n,e.consequent).then(t,r):!1===o?null!==e.alternate?M(n,e.alternate).then(t,r):t(f.v):r(new Error((0,h.H5)(e.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION")))}catch(a){r(a)}}),r):r(new Error((0,h.H5)(e.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}(n,e);case"ExpressionStatement":return function(n,e){try{return"AssignmentExpression"===e.expression.type?M(n,e.expression):(e.expression.type,M(n,e.expression).then((function(n){return(0,I.Ue)((function(e){e(n===f.v?f.v:new f.I(n))}))})))}catch(t){return(0,I.d1)(t)}}(n,e);case"UpdateExpression":return function(n,e){try{var t=e.argument;if("MemberExpression"===t.type){var r={t:null};return M(n,t.object).then((function(e){var o=null;return r.t=e,!0===t.computed?o=M(n,t.property):"Identifier"===t.property.type&&(o=(0,I.DB)(t.property.name)),o})).then((function(n){return(0,I.Ue)((function(t){var o,a=r.t;if((0,f.a)(a)){if(!(0,f.j)(n))throw new Error("Invalid Parameter");if(n<0&&(n=a.length+n),n<0||n>=a.length)throw new Error("Assignment outside of array bounds");o=(0,f.t)(a[n]),a[n]="++"===e.operator?o+1:o-1}else if(a instanceof i.Z){if(!1===(0,f.f)(n))throw new Error("Dictionary accessor must be a string");if(!0!==a.hasField(n))throw new Error("Invalid Parameter");o=(0,f.t)(a.field(n)),a.setField(n,"++"===e.operator?o+1:o-1)}else{if(!(a instanceof u.Z))throw(0,f.b)(a)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,f.f)(n))throw new Error("Feature accessor must be a string");if(!0!==a.hasField(n))throw new Error("Invalid Parameter");o=(0,f.t)(a.field(n)),a.setField(n,"++"===e.operator?o+1:o-1)}!1===e.prefix?t(o):t("++"===e.operator?o+1:o-1)}))}))}return(0,I.Ue)((function(t,r){var o,a="Identifier"===e.argument.type?e.argument.name.toLowerCase():"";if(!a)throw new Error("Invalid identifier");return null!==n.localScope&&void 0!==n.localScope[a]?(o=(0,f.t)(n.localScope[a].value),n.localScope[a]={value:"++"===e.operator?o+1:o-1,valueset:!0,node:e},void(!1===e.prefix?t(o):t("++"===e.operator?o+1:o-1))):void 0!==n.globalScope[a]?(o=(0,f.t)(n.globalScope[a].value),n.globalScope[a]={value:"++"===e.operator?o+1:o-1,valueset:!0,node:e},void(!1===e.prefix?t(o):t("++"===e.operator?o+1:o-1))):void r(new Error("Variable not recognised"))}))}catch(o){return(0,I.d1)(o)}}(n,e);case"AssignmentExpression":return function(n,e){return(0,I.Ue)((function(t,r){var o=e.left;if("MemberExpression"===o.type)M(n,e.right).then((function(a){try{M(n,o.object).then((function(c){try{var l=null;if(!0===o.computed)l=M(n,o.property);else{if("Identifier"!==o.property.type)throw new Error("Expected computed or identifier for assignemnt target");l=(0,I.DB)(o.property.name)}l.then((function(n){try{if((0,f.a)(c)){if(!(0,f.j)(n))throw new Error("Invalid Parameter");if(n<0&&(n=c.length+n),n<0||n>c.length)throw new Error("Assignment outside of array bounds");if(n===c.length){if("="!==e.operator)throw new Error("Invalid Parameter");c[n]=_(a,e.operator,c[n],e)}else c[n]=_(a,e.operator,c[n],e)}else if(c instanceof i.Z){if(!1===(0,f.f)(n))throw new Error("Dictionary accessor must be a string");if(!0===c.hasField(n))c.setField(n,_(a,e.operator,c.field(n),e));else{if("="!==e.operator)throw new Error("Invalid Parameter");c.setField(n,_(a,e.operator,null,e))}}else{if(!(c instanceof u.Z))throw(0,f.b)(c)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,f.f)(n))throw new Error("Feature accessor must be a string");if(!0===c.hasField(n))c.setField(n,_(a,e.operator,c.field(n),e));else{if("="!==e.operator)throw new Error("Invalid Parameter");c.setField(n,_(a,e.operator,null,e))}}t(f.v)}catch(o){r(o)}}),r)}catch(s){r(s)}}),r)}catch(c){r(c)}}),r);else{var a=o.name.toLowerCase();if(null!==n.localScope&&void 0!==n.localScope[a])return void M(n,e.right).then((function(i){try{n.localScope[a]={value:_(i,e.operator,n.localScope[a].value,e),valueset:!0,node:e.right},t(f.v)}catch(o){r(o)}}),r);void 0!==n.globalScope[a]?M(n,e.right).then((function(i){try{n.globalScope[a]={value:_(i,e.operator,n.globalScope[a].value,e),valueset:!0,node:e.right},t(f.v)}catch(o){r(o)}}),r):r(new Error("Cannot assign undeclared variable"))}}))}(n,e);case"ForStatement":return function(n,e){try{return null!==e.init?M(n,e.init).then((function(){return(0,I.Ue)((function(t,r){P(n,e,{testResult:!0,lastAction:f.v},(function(n){t(n)}),(function(n){r(n)}),0)}))})):(0,I.Ue)((function(t,r){P(n,e,{testResult:!0,lastAction:f.v},(function(n){t(n)}),(function(n){r(n)}),0)}))}catch(t){return(0,I.d1)(t)}}(n,e);case"ForInStatement":return function(n,e){return(0,I.Ue)((function(t,r){M(n,e.right).then((function(o){try{("VariableDeclaration"===e.left.type?M(n,e.left):(0,I.DB)()).then((function(){try{var a="";if("VariableDeclaration"===e.left.type){var c=e.left.declarations[0].id;"Identifier"===c.type&&(a=c.name)}else"Identifier"===e.left.type&&(a=e.left.name);if(!a)throw new Error((0,h.H5)(e,"RUNTIME","INVALIDVARIABLE"));a=a.toLowerCase();var l=null;if(null!==n.localScope&&void 0!==n.localScope[a]&&(l=n.localScope[a]),null===l&&void 0!==n.globalScope[a]&&(l=n.globalScope[a]),null===l)return void r(new Error((0,h.H5)(e,"RUNTIME","VARIABLENOTDECLARED")));(0,f.a)(o)||(0,f.f)(o)?H(n,e,o,{reject:r,resolve:t},l):(0,f.b)(o)?function(n,e,t,r,a,i){try{if(void 0===i&&(i="i"),0===t.length)return void r.resolve(f.v);z(n,e,t,a,0,i,(function(n){r.resolve(n)}),(function(n){r.reject(n)}),0)}catch(o){r.reject(o)}}(n,e,o,{reject:r,resolve:t},l):o instanceof i.Z||o instanceof u.Z?function(n,e,t,o,a){try{H(n,e,t.keys(),o,a,"k")}catch(r){o.reject(r)}}(n,e,o,{reject:r,resolve:t},l):(0,f.o)(o)?K(o.iterator(n.abortSignal),n,e,o,l,(function(n){t(n)}),(function(n){r(n)}),0):H(n,e,[],{reject:r,resolve:t},l)}catch(s){r(s)}}),r)}catch(a){r(a)}}),r)}))}(n,e);case"BreakStatement":return(0,I.DB)(f.k);case"EmptyStatement":return(0,I.DB)(f.v);case"ContinueStatement":return(0,I.DB)(f.m);case"TemplateElement":return function(n,e){return(0,I.DB)(e.value?e.value.cooked:"")}(0,e);case"TemplateLiteral":return function(n,e){return(0,I.Ue)((function(t){var o=[];(0,d.Dt)(e.expressions,(function(e,t,r,a){return M(n,t).then((function(n){o[r]=(0,f.d)(n)}))})).then((function(){var n,a="",i=0,u=(0,r.Z)(e.quasis);try{for(u.s();!(n=u.n()).done;){var c=n.value;a+=c.value?c.value.cooked:"",!1===c.tail&&(a+=o[i]?o[i]:"",i++)}}catch(l){u.e(l)}finally{u.f()}t(a)}))}))}(n,e);case"Identifier":return W(n,e);case"MemberExpression":return function(n,e){try{return M(n,e.object).then((function(t){try{return null===t?(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","NOTFOUND"))):!1===e.computed?"Identifier"===e.property.type?t instanceof i.Z||t instanceof u.Z?(0,I.DB)(t.field(e.property.name)):t instanceof A.Z?(0,I.DB)(G(t,e.property.name,n,e)):(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE"))):(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE"))):M(n,e.property).then((function(r){return(0,I.Ue)((function(o,a){if(t instanceof i.Z||t instanceof u.Z)(0,f.f)(r)?o(t.field(r)):a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if(t instanceof A.Z)(0,f.f)(r)?o(G(t,r,n,e)):a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.a)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));o(t[r])}else a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.b)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));o(t.get(r))}else a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.f)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));o(t[r])}else a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else a(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")))}))}))}catch(r){return O(r)}}))}catch(t){return O(t)}}(n,e);case"Literal":return x(e.value);case"CallExpression":return function(n,e){try{if("Identifier"!==e.callee.type)return O((0,h.H5)(e,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==n.localScope&&void 0!==n.localScope[e.callee.name.toLowerCase()]){var r=n.localScope[e.callee.name.toLowerCase()];return r.value instanceof f.N?r.value.fn(n,e):r.value instanceof c.Z?rn(n,e,r.value.definition):O((0,h.H5)(e,"RUNTIME","NOTAFUNCTION"))}if(void 0!==n.globalScope[e.callee.name.toLowerCase()]){var o=n.globalScope[e.callee.name.toLowerCase()];return o.value instanceof f.N?o.value.fn(n,e):o.value instanceof c.Z?rn(n,e,o.value.definition):O((0,h.H5)(e,"RUNTIME","NOTAFUNCTION"))}return O((0,h.H5)(e,"RUNTIME","NOTFOUND"))}catch(t){return O(t)}}(n,e);case"UnaryExpression":return function(n,e){try{return M(n,e.argument).then((function(n){return(0,I.Ue)((function(t,r){(0,f.i)(n)&&"!"===e.operator?t(!n):"-"===e.operator?t(-1*(0,f.t)(n)):"+"===e.operator?t(1*(0,f.t)(n)):"~"===e.operator?t(~(0,f.t)(n)):r(new Error((0,h.H5)(e,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR")))}))}))}catch(t){return O(t)}}(n,e);case"BinaryExpression":return function(n,e){try{return(0,I.$6)([M(n,e.left),M(n,e.right)]).then((function(n){return(0,I.Ue)((function(t,r){var o=n[0],a=n[1];switch(e.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":t((0,f.h)((0,f.t)(o),(0,f.t)(a),e.operator));case"==":t((0,f.e)(o,a));break;case"!=":t(!(0,f.e)(o,a));break;case"<":case">":case"<=":case">=":t((0,f.g)(o,a,e.operator));break;case"+":(0,f.f)(o)||(0,f.f)(a)?t((0,f.d)(o)+(0,f.d)(a)):t((0,f.t)(o)+(0,f.t)(a));break;case"-":t((0,f.t)(o)-(0,f.t)(a));break;case"*":t((0,f.t)(o)*(0,f.t)(a));break;case"/":t((0,f.t)(o)/(0,f.t)(a));break;case"%":t((0,f.t)(o)%(0,f.t)(a));break;default:r(new Error((0,h.H5)(e,"RUNTIME","OPERATORNOTRECOGNISED")))}}))}))}catch(t){return O(t)}}(n,e);case"LogicalExpression":return function(n,e){return(0,I.Ue)((function(t,r){"AssignmentExpression"!==e.left.type&&"UpdateExpression"!==e.left.type?"AssignmentExpression"!==e.right.type&&"UpdateExpression"!==e.right.type?M(n,e.left).then((function(o){try{if(!(0,f.i)(o))throw new Error((0,h.H5)(e,"RUNTIME","ONLYBOOLEAN"));switch(e.operator){case"||":!0===o?t(o):M(n,e.right).then((function(n){try{if(!(0,f.i)(n))throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"));t(n)}catch(o){r(o)}}),r);break;case"&&":!1===o?t(o):M(n,e.right).then((function(n){try{if(!(0,f.i)(n))throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"));t(n)}catch(o){r(o)}}),r);break;default:throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"))}}catch(a){r(a)}}),r):r(new Error((0,h.H5)(e.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))):r(new Error((0,h.H5)(e.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}(n,e);case"ArrayExpression":return function(n,e){try{for(var r=[],o=0;o<e.elements.length;o++)r.push(M(n,e.elements[o]));return(0,I.$6)(r).then((function(n){return(0,I.Ue)((function(t,r){for(var o=0;o<n.length;o++){if((0,f.c)(n[o]))return void r(new Error((0,h.H5)(e,"RUNTIME","FUNCTIONCONTEXTILLEGAL")));n[o]===f.v&&(n[o]=null)}t(n)}))}))}catch(t){return O(t)}}(n,e);case"ObjectExpression":return function(n,e){try{for(var t=[],r=0;r<e.properties.length;r++)t.push(M(n,e.properties[r]));return(0,I.$6)(t).then((function(n){return(0,I.Ue)((function(e){for(var t={},r=0;r<n.length;r++){var o=n[r];if((0,f.c)(o.value))throw new Error("Illegal Argument");if(!1===(0,f.f)(o.key))throw new Error("Illegal Argument");o.value===f.v?t[o.key.toString()]=null:t[o.key.toString()]=o.value}var a=new i.Z(t);a.immutable=!1,e(a)}))}))}catch(o){return O(o)}}(n,e);case"Property":return function(n,e){try{return M(n,e.value).then((function(t){return(0,I.Ue)((function(r){"Identifier"===e.key.type?r({key:e.key.name,value:t}):M(n,e.key).then((function(n){r({key:n,value:t})}))}))}))}catch(t){return(0,I.d1)(t)}}(n,e);default:return O((0,h.H5)(e,"RUNTIME","UNREOGNISED"))}}catch(o){return O(o)}}function k(n,e,t){try{return M(n,e.body).then((function(r){try{return t.lastAction=r,t.lastAction===f.k||t.lastAction instanceof f.R?(t.testResult=!1,(0,I.DB)(t)):null!==e.update?M(n,e.update).then((function(){return(0,I.DB)(t)})):(0,I.DB)(t)}catch(o){return(0,I.d1)(o)}}))}catch(r){return(0,I.d1)(r)}}function P(n,e,t,r,o,a){try{(function(n,e,t){try{return null!==e.test?M(n,e.test).then((function(r){try{return!0===n.abortSignal.aborted?(0,I.d1)(new Error("Cancelled")):(t.testResult=r,!1===t.testResult?(0,I.DB)(t):!0!==t.testResult?(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))):k(n,e,t))}catch(o){return(0,I.d1)(o)}})):k(n,e,t)}catch(r){return(0,I.d1)(r)}})(n,e,t).then((function(){try{!0===t.testResult?++a>F?(a=0,setTimeout((function(){P(n,e,t,r,o,a)}),0)):P(n,e,t,r,o,a):t.lastAction instanceof f.R?r(t.lastAction):r(f.v)}catch(i){o(i)}}),(function(n){o(n)}))}catch(i){o(i)}}function B(n,e,t,r,o,a,i,u,c,l){try{if(r<=a)return void u(f.v);o.value="k"===i?t[a]:a,M(n,e.body).then((function(s){try{s instanceof f.R?u(s):s===f.k?u(f.v):++l>F?(l=0,setTimeout((function(){B(n,e,t,r,o,a+1,i,u,c,l)}),0)):B(n,e,t,r,o,a+1,i,u,c,l)}catch(h){c(h)}}),(function(n){c(n)}))}catch(s){c(s)}}function z(n,e,t,r,o,a,i,u,c){try{if(t.length()<=o)return void i(f.v);r.value="k"===a?t.get(o):o,M(n,e.body).then((function(l){l instanceof f.R?i(l):l===f.k?i(f.v):++c>F?(c=0,setTimeout((function(){z(n,e,t,r,o+1,a,i,u,c)}),0)):z(n,e,t,r,o+1,a,i,u,c)}),(function(n){u(n)}))}catch(l){u(l)}}function H(n,e,t,r,o,a){try{if(void 0===a&&(a="i"),0===t.length)return void r.resolve(f.v);B(n,e,t,t.length,o,0,a,(function(n){r.resolve(n)}),(function(n){r.reject(n)}),0)}catch(i){r.reject(i)}}function K(n,e,t,r,o,a,i,c){try{n.next().then((function(l){try{if(null===l)a(f.v);else{var s=u.Z.createFromGraphicLikeObject(l.geometry,l.attributes,r);s._underlyingGraphic=l,o.value=s,M(e,t.body).then((function(u){try{u===f.k?a(f.v):u instanceof f.R?a(u):++c>F?(c=0,setTimeout((function(){K(n,e,t,r,o,a,i,c)}),0)):K(n,e,t,r,o,a,i,c)}catch(l){i(l)}}),(function(n){i(n)}))}}catch(h){i(h)}}),(function(n){i(n)}))}catch(l){i(l)}}function _(n,e,t,r){switch(e){case"=":return n===f.v?null:n;case"/=":return(0,f.t)(t)/(0,f.t)(n);case"*=":return(0,f.t)(t)*(0,f.t)(n);case"-=":return(0,f.t)(t)-(0,f.t)(n);case"+=":return(0,f.f)(t)||(0,f.f)(n)?(0,f.d)(t)+(0,f.d)(n):(0,f.t)(t)+(0,f.t)(n);case"%=":return(0,f.t)(t)%(0,f.t)(n);default:throw new Error((0,h.H5)(r,"RUNTIME","OPERATORNOTRECOGNISED"))}}function j(n,e,t){try{return t>=e.body.length?(0,I.DB)(f.v):(0,I.Ue)((function(r,o){M(n,e.body[t]).then((function(a){try{a instanceof f.R||a===f.k||a===f.m||t===e.body.length-1?r(a):j(n,e,t+1).then(r,o)}catch(i){o(i)}}),o)}))}catch(r){return O(r)}}function V(n,e,t){return(0,I.Ue)((function(r,o){t>=e.declarations.length?r(f.v):M(n,e.declarations[t]).then((function(){t===e.declarations.length-1?r(f.v):V(n,e,t+1).then((function(){r(f.v)}),o)}),o)}))}var Y=0;function G(n,e,t,r){var o;switch(e=e.toLowerCase()){case"hasz":var a=n.hasZ;return void 0!==a&&a;case"hasm":var u=n.hasM;return void 0!==u&&u;case"spatialreference":var c=n.spatialReference._arcadeCacheId;if(void 0===c){var f=!0;Object.freeze&&Object.isFrozen(n.spatialReference)&&(f=!1),f&&(Y++,n.spatialReference._arcadeCacheId=Y,c=Y)}var d=new i.Z({wkt:n.spatialReference.wkt,wkid:n.spatialReference.wkid});return void 0!==c&&(d._arcadeCacheId="SPREF"+c.toString()),d}switch(n.type){case"extent":switch(e){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var p=n[e];return void 0!==p?p:null;case"type":return"Extent"}break;case"polygon":switch(e){case"rings":return void 0===(o=n.cache._arcadeCacheId)&&(o=++Y,n.cache._arcadeCacheId=o),new l.Z(n.rings,n.spatialReference,!0===n.hasZ,!0===n.hasM,o);case"type":return"Polygon"}break;case"point":switch(e){case"x":case"y":case"z":case"m":return void 0!==n[e]?n[e]:null;case"type":return"Point"}break;case"polyline":switch(e){case"paths":return void 0===(o=n.cache._arcadeCacheId)&&(o=++Y,n.cache._arcadeCacheId=o),new l.Z(n.paths,n.spatialReference,!0===n.hasZ,!0===n.hasM,o);case"type":return"Polyline"}break;case"multipoint":switch(e){case"points":return void 0===(o=n.cache._arcadeCacheId)&&(o=++Y,n.cache._arcadeCacheId=o),new s.Z(n.points,n.spatialReference,!0===n.hasZ,!0===n.hasM,o,1);case"type":return"Multipoint"}}throw new Error((0,h.H5)(r,"RUNTIME","PROPERTYNOTFOUND"))}function W(n,e){return(0,I.Ue)((function(t,r){var o=e.name.toLowerCase();if(null===n.localScope||void 0===n.localScope[o])if(void 0===n.globalScope[o])r(new Error((0,h.H5)(e,"RUNTIME","VARIABLENOTFOUND")));else{var a=n.globalScope[o];!0===a.valueset?t(a.value):null!==a.d?a.d.then(t,r):(a.d=M(n,a.node),a.d.then((function(n){try{a.value=n,a.valueset=!0,t(n)}catch(o){r(o)}}),r))}else{var i=n.localScope[o];!0===i.valueset?t(i.value):null!==i.d?i.d.then(t,r):(i.d=M(n,i.node),i.d.then((function(n){try{i.value=n,i.valueset=!0,t(n)}catch(o){r(o)}}),r))}}))}var q={};function $(n){return null===n?"":(0,f.a)(n)||(0,f.b)(n)?"Array":(0,f.n)(n)?"Date":(0,f.f)(n)?"String":(0,f.i)(n)?"Boolean":(0,f.j)(n)?"Number":n instanceof a.Z?"Attachment":n instanceof o.Z?"Portal":n instanceof i.Z?"Dictionary":n instanceof u.Z?"Feature":n instanceof R.Z?"Point":n instanceof Z.Z?"Polygon":n instanceof S.Z?"Polyline":n instanceof b.Z?"Multipoint":n instanceof N.Z?"Extent":(0,f.c)(n)?"Function":(0,f.o)(n)?"FeatureSet":(0,f.q)(n)?"FeatureSetCollection":n===f.v?"":"number"==typeof n&&isNaN(n)?"Number":"Unrecognised Type"}function J(n,e,t,r){return(0,I.Ue)((function(o,a){M(n,e.arguments[t]).then((function(i){try{if((0,f.e)(i,r))return void M(n,e.arguments[t+1]).then(o,a);var u=e.arguments.length-t;return 1===u?void M(n,e.arguments[t]).then(o,a):(2===u&&o(null),3===u?void M(n,e.arguments[t+2]).then(o,a):void J(n,e,t+2,r).then(o,a))}catch(c){a(c)}}),a)}))}function Q(n,e,t,r){return(0,I.Ue)((function(o,a){!0===r?M(n,e.arguments[t+1]).then(o,a):3===e.arguments.length-t?M(n,e.arguments[t+2]).then(o,a):M(n,e.arguments[t+2]).then((function(r){try{if(!1===(0,f.i)(r))return void a(new Error("WHEN needs boolean test conditions"));Q(n,e,t+2,r).then(o,a)}catch(i){a(i)}}))}))}function X(n,e){try{var t=n.length,r=Math.floor(t/2);return 0===t?(0,I.DB)([]):1===t?(0,I.DB)([n[0]]):(0,I.Ue)((function(o,a){var i=[X(n.slice(0,r),e),X(n.slice(r,t),e)];(0,I.$6)(i).then((function(n){try{nn(n[0],n[1],e,[]).then(o,a)}catch(t){a(t)}}),a)}))}catch(o){return O(o)}}function nn(n,e,t,r){return(0,I.Ue)((function(o,a){var i=r;n.length>0||e.length>0?n.length>0&&e.length>0?t(n[0],e[0]).then((function(u){try{isNaN(u)&&(u=1),u<=0?(i.push(n[0]),n=n.slice(1)):(i.push(e[0]),e=e.slice(1)),nn(n,e,t,r).then(o,a)}catch(c){a(c)}}),a):n.length>0?(i.push(n[0]),nn(n=n.slice(1),e,t,r).then(o,a)):e.length>0&&(i.push(e[0]),e=e.slice(1),nn(n,e,t,r).then(o,a)):o(r)}))}function en(n,e){var t=n.length,r=Math.floor(t/2);return e||(e=function(n,e){return n<e?-1:n===e?0:1}),0===t?[]:1===t?[n[0]]:function(n,e,t){for(var r=[];n.length>0||e.length>0;)if(n.length>0&&e.length>0){var o=t(n[0],e[0]);isNaN(o)&&(o=1),o<=0?(r.push(n[0]),n=n.slice(1)):(r.push(e[0]),e=e.slice(1))}else n.length>0?(r.push(n[0]),n=n.slice(1)):e.length>0&&(r.push(e[0]),e=e.slice(1));return r}(en(n.slice(0,r),e),en(n.slice(r,t),e),e)}function tn(n,e,t){try{var r=n.body;if(t.length!==n.params.length)return O(new Error("Invalid Parameter calls to function."));for(var o=0;o<t.length;o++){var a=n.params[o];"Identifier"===a.type&&(e.localScope[a.name.toLowerCase()]={d:null,value:t[o],valueset:!0,node:null})}return M(e,r).then((function(n){return(0,I.Ue)((function(e,t){n instanceof f.R?e(n.value):n!==f.k?n!==f.m?e(n instanceof f.I?n.value:n):t(new Error("Cannot Continue from a Function")):t(new Error("Cannot Break from a Function"))}))}))}catch(i){return(0,I.d1)(i)}}function rn(n,e,t){return L(n,e,(function(e,r,o){var a={spatialReference:n.spatialReference,services:n.services,console:n.console,lrucache:n.lrucache,interceptor:n.interceptor,localScope:{},abortSignal:n.abortSignal,globalScope:n.globalScope,depthCounter:n.depthCounter+1};if(a.depthCounter>64)throw new Error("Exceeded maximum function depth");return tn(t,a,o)}))}function on(n){return function(){var e={abortSignal:n.context.abortSignal,spatialReference:n.context.spatialReference,console:n.context.console,lrucache:n.context.lrucache,interceptor:n.context.interceptor,services:n.context.services,localScope:{},globalScope:n.context.globalScope,depthCounter:n.context.depthCounter+1};if(e.depthCounter>64)throw new Error("Exceeded maximum function depth");return tn(n.definition,e,arguments)}}(0,g.r)(q,C),(0,y.r)(q,C),(0,w.r)(q,C),(0,E.r)(q,C),(0,m.r)(q,C),(0,v.registerFunctions)({functions:q,compiled:!1,signatures:null,failDefferred:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:C,standardFunctionAsync:L}),q.typeof=function(n,e){return C(n,e,(function(n,e,t){(0,f.p)(t,1,1);var r=$(t[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},q.iif=function(n,e){return(0,I.Ue)((function(t,r){(0,f.p)(null===e.arguments?[]:e.arguments,3,3),M(n,e.arguments[0]).then((function(o){try{if(!1===(0,f.i)(o))return void r(new Error("IF Function must have a boolean test condition"));(0,I.$6)([M(n,e.arguments[1]),M(n,e.arguments[2])]).then((function(n){t(o?n[0]:n[1])}),r)}catch(a){r(a)}}),r)}))},q.decode=function(n,e){return(0,I.Ue)((function(t,r){e.arguments.length<2?r(new Error("Missing Parameters")):2!==e.arguments.length?(e.arguments.length-1)%2!=0?M(n,e.arguments[0]).then((function(o){try{J(n,e,1,o).then(t,r)}catch(a){r(a)}}),r):r(new Error("Must have a default value result.")):M(n,e.arguments[1]).then(t,r)}))},q.when=function(n,e){try{return e.arguments.length<3?O("Missing Parameters"):e.arguments.length%2==0?O("Must have a default value result."):M(n,e.arguments[0]).then((function(t){return(0,I.Ue)((function(r,o){!1!==(0,f.i)(t)?Q(n,e,0,t).then(r,o):o(new Error("WHEN needs boolean test conditions"))}))}))}catch(t){return O(t)}},q.sort=function(n,e){return L(n,e,(function(n,e,t){(0,f.p)(t,1,2);var r=t[0];if((0,f.b)(r)&&(r=r.toArray()),!1===(0,f.a)(r))return O(Error("Illegal Argument"));if(t.length>1)return!1===(0,f.c)(t[1])?O(Error("Illegal Argument")):X(r,on(t[1]));var o=r;if(0===o.length)return(0,I.DB)([]);for(var a={},i=0;i<o.length;i++){var u=$(o[i]);""!==u&&(a[u]=!0)}if(!0===a.Array||!0===a.Dictionary||!0===a.Feature||!0===a.Point||!0===a.Polygon||!0===a.Polyline||!0===a.Multipoint||!0===a.Extent||!0===a.Function)return(0,I.DB)(o.slice(0));var c=0,l="";for(var s in a)c++,l=s;return c>1||"String"===l?o=en(o,(function(n,e){if(null==n||n===f.v)return null==e||e===f.v?0:1;if(null==e||e===f.v)return-1;var t=(0,f.d)(n),r=(0,f.d)(e);return t<r?-1:t===r?0:1})):"Number"===l?o=en(o,(function(n,e){return n-e})):"Boolean"===l?o=en(o,(function(n,e){return n===e?0:e?-1:1})):"Date"===l&&(o=en(o,(function(n,e){return e-n}))),(0,I.DB)(o)}))};var an={failDefferred:O,resolveDeffered:x,fixSpatialReference:f.r,parseArguments:D,standardFunction:C,standardFunctionAsync:L,evaluateIdentifier:W,arcadeCustomFunction:on};for(var un in q)q[un]={value:new f.N(q[un]),valueset:!0,node:null};var cn=function(){};function ln(n){console.log(n)}(cn.prototype=q).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},cn.prototype.pi={value:Math.PI,valueset:!0,node:null};var sn=an;function fn(n){for(var e={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:C,standardFunctionAsync:L,failDefferred:O,evaluateIdentifier:W,arcadeCustomFunctionHandler:on},t=0;t<n.length;t++)n[t].registerFunctions(e);for(var r in e.functions)q[r]={value:new f.N(e.functions[r]),valueset:!0,node:null},cn.prototype[r]=q[r];for(var o=0;o<e.signatures.length;o++)(0,h.gW)(e.signatures[o],"async")}function hn(n,e){var t=e.spatialReference;null==t&&(t=new U.Z({wkid:102100}));var r=function(n,e){var t=new cn;null==n&&(n={}),null==e&&(e={});var r=new i.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var o in r.immutable=!1,t.textformatting={value:r,valueset:!0,node:null},e)t[o]={value:new f.N(e[o]),native:!0,valueset:!0,node:null};for(var a in n)n[a]&&"esri.Graphic"===n[a].declaredClass?t[a]={value:u.Z.createFromGraphic(n[a]),valueset:!0,node:null}:t[a]={value:n[a],valueset:!0,node:null};return t}(e.vars,e.customfunctions);return M({spatialReference:t,services:e.services,abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:r,console:e.console?e.console:ln,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:1},n.body[0].body).then((function(n){return(0,I.Ue)((function(e,t){n instanceof f.R&&(n=n.value),n instanceof f.I&&(n=n.value),n===f.v&&(n=null),n!==f.k?n!==f.m?n instanceof f.N||n instanceof c.Z?t(new Error("Cannot return FUNCTION")):e(n):t(new Error("Cannot return CONTINUE")):t(new Error("Cannot return BREAK"))}))}))}function dn(n,e){return(0,h.mb)(n)}function pn(n,e){return(0,h.FS)(n,e,"full")}function gn(n,e){return(0,h.bV)(n,e)}function vn(n,e){return(0,h.w8)(n,e)}function En(n){return(0,h.Vf)(n)}fn([p.A])},83806:function(n,e,t){t.r(e),t.d(e,{registerFunctions:function(){return I}});var r=t(37762),o=t(19545),a=t(47238),i=t(44715),u=t(95435),c=t(66978),l=t(53866),s=t(32238),f=t(84178),h=t(77577),d=t(7882),p=t(80885),g=t(29909),v=t(77981),E=t(68860);function w(n){return 0===o.i8.indexOf("4.")?p.Z.fromExtent(n):new p.Z({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function m(n){if((0,i.p)(n,2,2),n[0]instanceof s.Z&&n[1]instanceof s.Z);else if(n[0]instanceof s.Z&&null===n[1]);else if(n[1]instanceof s.Z&&null===n[0]);else if(null!==n[0]||null!==n[1])throw new Error("Illegal Argument")}function y(n,e){if("polygon"!==n.type&&"polyline"!==n.type&&"extent"!==n.type)return(0,c.DB)(0);var t=1;(n.spatialReference.vcsWkid||n.spatialReference.latestVcsWkid)&&(t=(0,u._R)(n.spatialReference)/(0,E.c9)(n.spatialReference));var o=0;if("polyline"===n.type){var a,l=(0,r.Z)(n.paths);try{for(l.s();!(a=l.n()).done;)for(var s=a.value,h=1;h<s.length;h++)o+=(0,u.AW)(s[h],s[h-1],t)}catch(y){l.e(y)}finally{l.f()}}else if("polygon"===n.type){var d,p=(0,r.Z)(n.rings);try{for(p.s();!(d=p.n()).done;){for(var v=d.value,w=1;w<v.length;w++)o+=(0,u.AW)(v[w],v[w-1],t);(v[0][0]!==v[v.length-1][0]||v[0][1]!==v[v.length-1][1]||void 0!==v[0][2]&&v[0][2]!==v[v.length-1][2])&&(o+=(0,u.AW)(v[0],v[v.length-1],t))}}catch(y){p.e(y)}finally{p.f()}}else"extent"===n.type&&(o+=2*(0,u.AW)([n.xmin,n.ymin,0],[n.xmax,n.ymin,0],t),o+=2*(0,u.AW)([n.xmin,n.ymin,0],[n.xmin,n.ymax,0],t),o*=2,o+=4*Math.abs((0,i.E)(n.zmax,0)*t-(0,i.E)(n.zmin,0)*t));var m=new g.Z({hasZ:!1,hasM:!1,spatialReference:n.spatialReference,paths:[[0,0],[0,o]]});return(0,f.sz)(m,e)}function I(n){"async"===n.mode&&(n.functions.disjoint=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null===t[0]||null===t[1]||(0,f.ED)(t[0],t[1])}))},n.functions.intersects=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.kK)(t[0],t[1])}))},n.functions.touches=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.W4)(t[0],t[1])}))},n.functions.crosses=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.jU)(t[0],t[1])}))},n.functions.within=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.uh)(t[0],t[1])}))},n.functions.contains=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.r3)(t[0],t[1])}))},n.functions.overlaps=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null!==t[1]&&(0,f.Nm)(t[0],t[1])}))},n.functions.equals=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return(0,i.p)(t,2,2),t[0]===t[1]||(t[0]instanceof s.Z&&t[1]instanceof s.Z?(0,f.fS)(t[0],t[1]):!(!(0,i.n)(t[0])||!(0,i.n)(t[1]))&&t[0].getTime()===t[1].getTime())}))},n.functions.relate=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,3,3),t[0]instanceof s.Z&&t[1]instanceof s.Z)return(0,f.LV)(t[0],t[1],(0,i.d)(t[2]));if(t[0]instanceof s.Z&&null===t[1])return!1;if(t[1]instanceof s.Z&&null===t[0])return!1;if(null===t[0]&&null===t[1])return!1;throw new Error("Illegal Argument")}))},n.functions.intersection=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null===t[0]||null===t[1]?null:(0,f.wf)(t[0],t[1])}))},n.functions.union=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){var o=[];if(0===(r=(0,i.K)(r)).length)throw new Error("Function called with wrong number of Parameters");if(1===r.length)if((0,i.a)(r[0])){for(var u=(0,i.K)(r[0]),c=0;c<u.length;c++)if(null!==u[c]){if(!(u[c]instanceof s.Z))throw new Error("Illegal Argument");o.push(u[c])}}else{if(!(0,i.b)(r[0])){if(r[0]instanceof s.Z)return(0,i.r)((0,a.r1)(r[0]),e.spatialReference);if(null===r[0])return null;throw new Error("Illegal Argument")}for(var l=(0,i.K)(r[0].toArray()),h=0;h<l.length;h++)if(null!==l[h]){if(!(l[h]instanceof s.Z))throw new Error("Illegal Argument");o.push(l[h])}}else for(var d=0;d<r.length;d++)if(null!==r[d]){if(!(r[d]instanceof s.Z))throw new Error("Illegal Argument");o.push(r[d])}return 0===o.length?null:(0,f.G0)(o)}))},n.functions.difference=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null!==t[0]&&null===t[1]?(0,a.r1)(t[0]):null===t[0]?null:(0,f.e5)(t[0],t[1])}))},n.functions.symmetricdifference=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return m(t=(0,i.K)(t)),null===t[0]&&null===t[1]?null:null===t[0]?(0,a.r1)(t[1]):null===t[1]?(0,a.r1)(t[0]):(0,f.Sp)(t[0],t[1])}))},n.functions.clip=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,2),!(t[1]instanceof l.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return null===t[1]?null:(0,f.oq)(t[0],t[1])}))},n.functions.cut=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,2),!(t[1]instanceof g.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return[];if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return null===t[1]?[(0,a.r1)(t[0])]:(0,f.z7)(t[0],t[1])}))},n.functions.area=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.K)(r))[0])return 0;if((0,i.o)(r[0]))return r[0].sumArea((0,a.EI)((0,i.E)(r[1],-1)),!1,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var o=(0,i.M)(r[0],e.spatialReference);return null===o?0:(0,f.CJ)(o,(0,a.EI)((0,i.E)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.CJ)(r[0],(0,a.EI)((0,i.E)(r[1],-1)))}))},n.functions.areageodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.K)(r))[0])return 0;if((0,i.o)(r[0]))return r[0].sumArea((0,a.EI)((0,i.E)(r[1],-1)),!0,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var o=(0,i.M)(r[0],e.spatialReference);return null===o?0:(0,f.Y4)(o,(0,a.EI)((0,i.E)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.Y4)(r[0],(0,a.EI)((0,i.E)(r[1],-1)))}))},n.functions.length=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.K)(r))[0])return 0;if((0,i.o)(r[0]))return r[0].sumLength((0,a.Lz)((0,i.E)(r[1],-1)),!1,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var o=(0,i.L)(r[0],e.spatialReference);return null===o?0:(0,f.sz)(o,(0,a.Lz)((0,i.E)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.sz)(r[0],(0,a.Lz)((0,i.E)(r[1],-1)))}))},n.functions.length3d=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.K)(r))[0])return 0;if((0,i.a)(r[0])||(0,i.b)(r[0])){var o=(0,i.L)(r[0],e.spatialReference);return null===o?0:!0===o.hasZ?y(o,(0,a.Lz)((0,i.E)(r[1],-1))):(0,f.sz)(o,(0,a.Lz)((0,i.E)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return!0===r[0].hasZ?y(r[0],(0,a.Lz)((0,i.E)(r[1],-1))):(0,f.sz)(r[0],(0,a.Lz)((0,i.E)(r[1],-1)))}))},n.functions.lengthgeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.K)(r))[0])return 0;if((0,i.o)(r[0]))return r[0].sumLength((0,a.Lz)((0,i.E)(r[1],-1)),!0,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var o=(0,i.L)(r[0],e.spatialReference);return null===o?0:(0,f.kQ)(o,(0,a.Lz)((0,i.E)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.kQ)(r[0],(0,a.Lz)((0,i.E)(r[1],-1)))}))},n.functions.distance=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){r=(0,i.K)(r),(0,i.p)(r,2,3);var o=r[0];((0,i.a)(r[0])||(0,i.b)(r[0]))&&(o=(0,i.O)(r[0],e.spatialReference));var u=r[1];if(((0,i.a)(r[1])||(0,i.b)(r[1]))&&(u=(0,i.O)(r[1],e.spatialReference)),!(o instanceof s.Z))throw new Error("Illegal Argument");if(!(u instanceof s.Z))throw new Error("Illegal Argument");return(0,f.TE)(o,u,(0,a.Lz)((0,i.E)(r[2],-1)))}))},n.functions.distancegeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){t=(0,i.K)(t),(0,i.p)(t,2,3);var r=t[0],o=t[1];if(!(r instanceof d.Z))throw new Error("Illegal Argument");if(!(o instanceof d.Z))throw new Error("Illegal Argument");var u=new g.Z({paths:[],spatialReference:r.spatialReference});return u.addPath([r,o]),(0,f.kQ)(u,(0,a.Lz)((0,i.E)(t[2],-1)))}))},n.functions.densify=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof p.Z||t[0]instanceof g.Z?(0,f.Cz)(t[0],r,(0,a.Lz)((0,i.E)(t[2],-1))):t[0]instanceof l.Z?(0,f.Cz)(w(t[0]),r,(0,a.Lz)((0,i.E)(t[2],-1))):t[0]}))},n.functions.densifygeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof p.Z||t[0]instanceof g.Z?(0,f.j2)(t[0],r,(0,a.Lz)((0,i.E)(t[2],-1))):t[0]instanceof l.Z?(0,f.j2)(w(t[0]),r,(0,a.Lz)((0,i.E)(t[2],-1))):t[0]}))},n.functions.generalize=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,4),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return(0,f.D$)(t[0],r,(0,i.y)((0,i.E)(t[2],!0)),(0,a.Lz)((0,i.E)(t[3],-1)))}))},n.functions.buffer=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,a.r1)(t[0]):(0,f.f3)(t[0],r,(0,a.Lz)((0,i.E)(t[2],-1)))}))},n.functions.buffergeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,a.r1)(t[0]):(0,f.rd)(t[0],r,(0,a.Lz)((0,i.E)(t[2],-1)))}))},n.functions.offset=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,2,6),null===t[0])return null;if(!(t[0]instanceof p.Z||t[0]instanceof g.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");var o=(0,i.t)((0,i.E)(t[4],10));if(isNaN(o))throw new Error("Illegal Argument");var u=(0,i.t)((0,i.E)(t[5],0));if(isNaN(u))throw new Error("Illegal Argument");return(0,f.cv)(t[0],r,(0,a.Lz)((0,i.E)(t[2],-1)),(0,i.d)((0,i.E)(t[3],"round")).toLowerCase(),o,u)}))},n.functions.rotate=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){t=(0,i.K)(t),(0,i.p)(t,2,3);var r=t[0];if(null===r)return null;if(!(r instanceof s.Z))throw new Error("Illegal Argument");r instanceof l.Z&&(r=p.Z.fromExtent(r));var o=(0,i.t)(t[1]);if(isNaN(o))throw new Error("Illegal Argument");var a=(0,i.E)(t[2],null);if(null===a)return(0,f.U1)(r,o);if(a instanceof d.Z)return(0,f.U1)(r,o,a);throw new Error("Illegal Argument")}))},n.functions.centroid=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if(r=(0,i.K)(r),(0,i.p)(r,1,1),null===r[0])return null;var o=r[0];if(((0,i.a)(r[0])||(0,i.b)(r[0]))&&(o=(0,i.O)(r[0],e.spatialReference)),null===o)return null;if(!(o instanceof s.Z))throw new Error("Illegal Argument");return o instanceof d.Z?(0,i.r)((0,a.r1)(r[0]),e.spatialReference):o instanceof p.Z?o.centroid:o instanceof g.Z?(0,u.s9)(o):o instanceof h.Z?(0,u.Ay)(o):o instanceof l.Z?o.center:null}))},n.functions.multiparttosinglepart=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){r=(0,i.K)(r),(0,i.p)(r,1,1);var o=[];if(null===r[0])return null;if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return r[0]instanceof d.Z||r[0]instanceof l.Z?[(0,i.r)((0,a.r1)(r[0]),e.spatialReference)]:(0,f.og)(r[0]).then((function(n){if(n instanceof p.Z){for(var t=[],u=[],c=0;c<n.rings.length;c++)if(n.isClockwise(n.rings[c])){var l=(0,v.im)({rings:[n.rings[c]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});t.push(l)}else u.push({ring:n.rings[c],pt:n.getPoint(c,0)});for(var s=0;s<u.length;s++)for(var f=0;f<t.length;f++)if(t[f].contains(u[s].pt)){t[f].addRing(u[s].ring);break}return t}if(n instanceof g.Z){for(var d=[],E=0;E<n.paths.length;E++){var w=(0,v.im)({paths:[n.paths[E]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});d.push(w)}return d}if(r[0]instanceof h.Z){for(var m=(0,i.r)((0,a.r1)(r[0]),e.spatialReference),y=0;y<m.points.length;y++)o.push(m.getPoint(y));return o}return null}))}))},n.functions.issimple=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,1,1),null===t[0])return!0;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.Gg)(t[0])}))},n.functions.simplify=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.K)(t),(0,i.p)(t,1,1),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.og)(t[0])}))})}}}]);
//# sourceMappingURL=4698.7a3dc440.chunk.js.map