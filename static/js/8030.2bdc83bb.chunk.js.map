{"version":3,"file":"static/js/8030.2bdc83bb.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/support/util.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{HandleOwner as t}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isSome as s,isNone as r,unwrap as l}from\"../../../../core/maybe.js\";import{debounce as a,isAbortError as o,eachAlways as n}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"../../../../geometry/Point.js\";import y from\"../../../../layers/support/PixelBlock.js\";import p from\"../../../../layers/support/TileInfo.js\";import{update as d,unregister as g,register as m,getRasterId as _}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as f}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import\"../../tiling/PagedTileQueue.js\";import b from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import P from\"../../tiling/TileQueue.js\";import C from\"../../tiling/TileStrategy.js\";import I from\"../../../webgl/capabilities.js\";import V from\"../../../../geometry/Extent.js\";const v=[0,0],R=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let T=class extends t{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._globalUpdateRequested=!1,this.container=null,this.layer=null,this.redrawOrRefetch=a(((e,t)=>!this.previousLOD||this.layerView.suspended?Promise.resolve():e?this.doRefresh():this._redrawImage(t)))}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var l;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:V.fromJSON(t);d(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(l=this.previousLOD)?void 0:l.level)!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._fetchQueue.length>0||this._globalUpdateRequested||!(!this.updatingHandles||!this.updatingHandles.updating)}attach(){I().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new b(this.layerView.tileInfo,this.layerView.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this._fetchTile1(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new C({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}acquireTile(e){const t=this.container.createTile(e);return this._enqueueTileFetch(t),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}uninstall(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,this.notifyChange(\"updating\"),g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&s(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,r]=e,l=new y({width:i,height:r,pixels:[new Uint8Array(i*r)],mask:new Uint8Array(i*r),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=l),l}_fetchTile1(e,t){const i=!r(t)&&t.signal,s=this.canUseWebGLForProcessing(),a={allowPartialFill:!0,datumTransformation:this.layerView.datumTransformation,interpolation:s?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:s,signal:l(i),srcResolution:this._srcResolutions[e.level],timeExtent:this.layerView.timeExtent,tileInfo:this.layerView.tileInfo};return this.fetchTile(e,a)}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.layerView.view.spatialReference,t=new u({x:this.layerView.fullExtent.xmin,y:this.layerView.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),l=p.create({spatialReference:e,size:512,scales:i});(0===l.origin.x||l.origin.x>t.x)&&(l.origin=t),this._isCustomTilingScheme=r,this.layerView.set(\"tileInfo\",l),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);this.notifyChange(\"updating\");const{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&R.error(i)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&\"rasterVF\"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(v,e.key),a=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:l,resolution:a}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(i){o(i)||R.error(i)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await n(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this.previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:f(i.pixelBlock,this.layer.bandIds),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds});!this.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,raster:s}=this.layer,{multidimensionalDefinition:r}=this.layer.normalizeRasterFetchOptions({multidimensionalDefinition:this.layer.multidimensionalDefinition,timeExtent:this.layerView.timeExtent}),l=null!=i&&i.multidimensionalInfo?s.getSliceIndex(r):null,a=_(t,l);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=m(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.layerView.view.scale),t=this._srcResolutions[e.level];d(a,this._blockCacheRegistryId,this.layerView.view.extent,this.layerView.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}async doRefresh(){await this.updatingHandles.addPromise(this.layer.updateRenderer()),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset(),this.notifyChange(\"updating\");const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await n(e)}};e([h()],T.prototype,\"_globalUpdateRequested\",void 0),e([h()],T.prototype,\"container\",void 0),e([h()],T.prototype,\"layer\",void 0),e([h()],T.prototype,\"layerView\",void 0),e([h()],T.prototype,\"type\",void 0),e([h()],T.prototype,\"useWebGLForProcessing\",null),e([h()],T.prototype,\"useProgressiveUpdate\",null),e([h()],T.prototype,\"updating\",null),T=e([c(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],T);export{T as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as l}from\"../support/util.js\";let n=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.type=\"raster\"}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&l(this.layer))}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:n,globalSymbolizerParams:a,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,o)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==a?void 0:a.type)?a:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=o?n:null,o?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=o?n:null,d.transformGrid=null}d.bandIds=o?s:null,d.width=this._tileInfoView.tileInfo.size[0],d.height=this._tileInfoView.tileInfo.size[1],d.interpolation=i,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,l=this._getLayerInterpolation(),n=this.canUseWebGLForProcessing(),{bitmap:a}=e,{rawPixelData:c}=a;!n&&r(c)?(a.source=await this.layer.applyRenderer(c,\"stretch\"===(null==i?void 0:i.type)?i:null),a.isRendereredSource=!0):(a.isRendereredSource&&r(c)&&(a.source=c.pixelBlock),a.isRendereredSource=!1),a.symbolizerParameters=n?i||s:null,a.bandIds=n?o:null,a.interpolation=l,a.suspended=!1}install(e){this.container=new i(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove(),super.uninstall()}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],n.prototype,\"container\",void 0),e([t()],n.prototype,\"layer\",void 0),e([t()],n.prototype,\"type\",void 0),n=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.type=\"rasterVF\"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this._tileInfoView.tileInfo.size[0],s.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this._tileInfoView.tileInfo[0]-s.offset[0])/o),Math.round((this._tileInfoView.tileInfo[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e){this.container=new o(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove(),super.uninstall()}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"type\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as t,init as o}from\"../../../core/watchUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../engine/flow/AnimatedFlowView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import l from\"./imagery/ImageryTileView2D.js\";import p from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as c}from\"./support/util.js\";import{ImageryTileLayerView as d}from\"../../layers/ImageryTileLayerView.js\";import m from\"../../layers/LayerView.js\";import{RefreshableLayerView as w}from\"../../layers/RefreshableLayerView.js\";const v=r.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let b=class extends(d(w(h(m)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}update(e){this.subview.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.handles.add([t(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,s,r)=>{const t=\"multidimensionalDefinition\"===r,o=\"interpolation\"===r&&(\"majority\"===e||\"majority\"===s)&&c(this.layer),a=\"renderer\"===r&&s.type!==e.type;a&&this._updateSubview();const n=t||o||a;this.subview.redrawOrRefetch(n).catch((e=>{i(e)||v.error(e)})),this.notifyChange(\"updating\")})),o(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),o(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0),o(this,\"timeExtent\",(()=>{this.subview.redrawOrRefetch(!0).catch((e=>{i(e)||v.error(e)}))}))],\"attach\")}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this.subview.uninstall()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}async hitTest(e,r){return[new s({attributes:{},geometry:e.clone()})]}doRefresh(){return this.subview.doRefresh()}_updateSubview(){const e=\"vector-field\"===this.layer.renderer.type?\"rasterVF\":\"animated-flow\"===this.layer.renderer.type?\"rasterAnimatedFlow\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:s}=this;let r;r=\"rasterVF\"===e?new p({layer:s,layerView:this}):\"rasterAnimatedFlow\"===e?new u({layer:s,layerView:this}):new l({layer:s,layerView:this}),\"useWebGLForProcessing\"in r&&(r.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in r&&(r.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in r&&(r.previousLOD=this.subview&&\"previousLOD\"in this.subview&&this.subview.previousLOD),r.attach(),r.install(this.container),r.container.blendMode=s.blendMode,r.container.effect=s.effect,this.subview=r,this.requestUpdate()}};e([a()],b.prototype,\"subview\",void 0),e([a()],b.prototype,\"useWebGLForProcessing\",null),e([a()],b.prototype,\"useProgressiveUpdate\",null),b=e([n(\"esri.views.2d.layers.ImageryTileLayerView2D\")],b);const y=b;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i,isNone as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as n}from\"../../layers/support/commonProperties.js\";import{getDefaultDatumTransformationForDataset as l,projectExtent as u}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as p}from\"./support/popupUtils.js\";const m=m=>{let f=class extends m{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s}));const{popupEnabled:a}=s,n=p(s,o);if(!a||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const l=[],{value:u,magdirValue:m}=await s.identify(e,{timeExtent:this.timeExtent});let f=\"\";if(u&&u.length){var c,h;f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=s.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=s.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const a=new t(this.fullExtent.clone(),null,e);a.layer=s,a.sourceLayer=a.layer,l.push(a)}return l}updateFullExtent(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference))return Promise.reject(new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));if(o(this.layer.fullExtent))return Promise.reject(new r(\"layerview:extent-missing\",\"The layer doesn't provide a full extent.\",{layer:this.layer}));const t=l(this.layer.fullExtent,this.view.spatialReference,!1),i=u(this.layer.fullExtent,this.view.spatialReference,t);return null==i?Promise.reject(new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})):(this._set(\"fullExtent\",i),this.datumTransformation||(this.datumTransformation=l(this.layer.fullExtent,this.view.spatialReference,!0)),Promise.resolve())}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([s()],f.prototype,\"layer\",void 0),e([s(n)],f.prototype,\"timeExtent\",void 0),e([s()],f.prototype,\"view\",void 0),e([s()],f.prototype,\"fullExtent\",void 0),e([s()],f.prototype,\"tileInfo\",void 0),e([s({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),f=e([a(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{m as ImageryTileLayerView,m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n"],"names":["t","e","this","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","s","r","has","get","refCount","delete","controller","abort","ts","Date","now","set","block","i","c","trim","updateTimer","clear","clearTimer","size","setInterval","Array","from","length","clearInterval","a","n","extent","rasterInfo","cache","push","u","some","h","decreaseRefCount","o","m","getBlock","l","x","isResolved","isRejected","then","catch","putBlock","d","deleteBlock","y","g","f","xmin","xmax","ymin","ymax","clone","normalize","p","spatialReference","k","transform","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","R","storageInfo","C","origin","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","key","level","row","col","_tileInfoView","sortChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","name","brushes","drawPhase","target","getStencilTarget","children","getTileResolution","setTransform","stencilRef","triangleCountReportedInDebug","triangleCount","texture","width","height","rangeX","rangeY","dispose","resolution","pixelRatio","transforms","tileMat3","toScreenNoRotation","dvs","displayViewMat3","bitmap","coordScale","once","ready","destroy","stage","arguments","isCustomTilingScheme","_getTileBounds","map","visible","getTileBounds","world","lodAt","T","_emptyTilePixelBlock","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_isCustomTilingScheme","_globalUpdateRequested","container","layer","redrawOrRefetch","layerView","suspended","Promise","resolve","doRefresh","_redrawImage","_get","_set","useProgressiveUpdate","removeAllChildren","_getCacheSize","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","pause","update","resume","raster","toJSON","V","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","AbortController","signal","updatingHandles","updating","supportsTextureFloat","useWebGLForProcessing","_initializeTileInfo","fullExtent","_computeFetchConcurrency","concurrency","process","_fetchTile1","_updateBlockCacheRegistry","createTile","_enqueueTileFetch","id","removeChild","notifyChange","join","pixels","Uint8Array","mask","pixelType","canUseWebGLForProcessing","allowPartialFill","datumTransformation","interpolation","registryId","requestRawData","srcResolution","timeExtent","fetchTile","view","scales","srcResolutions","blockBoundary","maxCol","minCol","maxRow","minRow","bandIds","moving","error","type","getTileCoords","updateTileSource","source","symbolizerParams","globalSymbolizerParams","coords","addChild","addPromise","updateRenderer","_updateGlobalSymbolizerParams","updateTileSymbolizerParameters","local","global","requestRender","fetchPixels","pixelBlock","symbolizer","generateWebGLParameters","isGCS","isGeographic","renderer","factor","outMin","round","outMax","url","normalizeRasterFetchOptions","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","_","reset","tiles","prototype","canRenderInWebGL","_getLayerInterpolation","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","createEmptyTilePixelBlock","invalidateTexture","remove","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","scalar","JSON","stringify","invalidateVAO","style","_createVectorFieldVAO","context","vertexData","indexData","Float32Array","Uint32Array","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","tileData","offset","symbolTileSize","D","symbolTypes","renderPass","_handle","dataType","convertVectorFieldData","_getTileSymbolOffset","_sampleVectorFieldData","_updateSymbolType","watch","_useWebGLForProcessing","_useProgressiveUpdate","subview","updateFullExtent","addResolvingPromise","increaseRasterJobHandlerUsage","_updateSubview","handles","blendMode","effect","decreaseRasterJobHandlerUsage","uninstall","moveEnd","attach","install","_rasterFieldPrefix","dynamicRangeAdjustment","reject","popupEnabled","popupTemplate","identify","value","magdirValue","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","attributeTable","features","filter","Value","VALUE","String","hasOwnProperty","sourceLayer","fieldInfos","_getFieldInfo","format","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","Number","isNaN","readOnly","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","mesh","bandCount","colormap"],"sourceRoot":""}