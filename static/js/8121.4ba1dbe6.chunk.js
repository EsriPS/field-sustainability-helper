"use strict";(globalThis.webpackChunkfield_sustainability_helper=globalThis.webpackChunkfield_sustainability_helper||[]).push([[8121],{48976:(e,t,i)=>{i.d(t,{c:()=>y,g:()=>h,i:()=>m,j:()=>k,k:()=>g,m:()=>u,r:()=>Z,s:()=>c});var n=i(11873),s=i(98131),r=i(71353),a=i(26277),l=i(11186),o=i(90045);function c(e,t,i){i*=.5;const n=Math.sin(i);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(i),e}function h(e,t){const i=2*Math.acos(t[3]),n=Math.sin(i/2);return n>a.E?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),i}function u(e,t,i){const n=t[0],s=t[1],r=t[2],a=t[3],l=i[0],o=i[1],c=i[2],h=i[3];return e[0]=n*h+a*l+s*c-r*o,e[1]=s*h+a*o+r*l-n*c,e[2]=r*h+a*c+n*o-s*l,e[3]=a*h-n*l-s*o-r*c,e}function p(e,t,i,n){const s=t[0],r=t[1],l=t[2],o=t[3];let c,h,u,p,m,y=i[0],d=i[1],g=i[2],v=i[3];return h=s*y+r*d+l*g+o*v,h<0&&(h=-h,y=-y,d=-d,g=-g,v=-v),1-h>a.E?(c=Math.acos(h),u=Math.sin(c),p=Math.sin((1-n)*c)/u,m=Math.sin(n*c)/u):(p=1-n,m=n),e[0]=p*s+m*y,e[1]=p*r+m*d,e[2]=p*l+m*g,e[3]=p*o+m*v,e}function m(e,t){const i=t[0],n=t[1],s=t[2],r=t[3],a=i*i+n*n+s*s+r*r,l=a?1/a:0;return e[0]=-i*l,e[1]=-n*l,e[2]=-s*l,e[3]=r*l,e}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function d(e,t){const i=t[0]+t[4]+t[8];let n;if(i>0)n=Math.sqrt(i+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);const s=(i+1)%3,r=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*s+s]-t[3*r+r]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*s+r]-t[3*r+s])*n,e[s]=(t[3*s+i]+t[3*i+s])*n,e[r]=(t[3*r+i]+t[3*i+r])*n}return e}function g(e,t,i,n){const s=.5*Math.PI/180;t*=s,i*=s,n*=s;const r=Math.sin(t),a=Math.cos(t),l=Math.sin(i),o=Math.cos(i),c=Math.sin(n),h=Math.cos(n);return e[0]=r*o*h-a*l*c,e[1]=a*l*h+r*o*c,e[2]=a*o*c-r*l*h,e[3]=a*o*h+r*l*c,e}const v=o.c,f=o.s,b=o.a,M=u,x=o.b,_=o.d,E=o.l,G=o.e,S=G,w=o.f,V=w,C=o.n,k=o.g,L=o.h;function Z(e,t,i){const n=(0,l.d)(t,i);return n<-.999999?((0,l.c)(I,R,t),(0,l.u)(I)<1e-6&&(0,l.c)(I,T,t),(0,l.n)(I,I),c(e,I,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,l.c)(I,t,i),e[0]=I[0],e[1]=I[1],e[2]=I[2],e[3]=1+n,C(e,e))}const I=(0,r.c)(),R=(0,r.f)(1,0,0),T=(0,r.f)(0,1,0);const z=(0,s.a)(),P=(0,s.a)();const q=(0,n.c)();Object.freeze({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:c,getAxisAngle:h,multiply:u,rotateX:function(e,t,i){i*=.5;const n=t[0],s=t[1],r=t[2],a=t[3],l=Math.sin(i),o=Math.cos(i);return e[0]=n*o+a*l,e[1]=s*o+r*l,e[2]=r*o-s*l,e[3]=a*o-n*l,e},rotateY:function(e,t,i){i*=.5;const n=t[0],s=t[1],r=t[2],a=t[3],l=Math.sin(i),o=Math.cos(i);return e[0]=n*o-r*l,e[1]=s*o+a*l,e[2]=r*o+n*l,e[3]=a*o-s*l,e},rotateZ:function(e,t,i){i*=.5;const n=t[0],s=t[1],r=t[2],a=t[3],l=Math.sin(i),o=Math.cos(i);return e[0]=n*o+s*l,e[1]=s*o-n*l,e[2]=r*o+a*l,e[3]=a*o-r*l,e},calculateW:function(e,t){const i=t[0],n=t[1],s=t[2];return e[0]=i,e[1]=n,e[2]=s,e[3]=Math.sqrt(Math.abs(1-i*i-n*n-s*s)),e},slerp:p,random:function(e){const t=(0,a.R)(),i=(0,a.R)(),n=(0,a.R)(),s=Math.sqrt(1-t),r=Math.sqrt(t);return e[0]=s*Math.sin(2*Math.PI*i),e[1]=s*Math.cos(2*Math.PI*i),e[2]=r*Math.sin(2*Math.PI*n),e[3]=r*Math.cos(2*Math.PI*n),e},invert:m,conjugate:y,fromMat3:d,fromEuler:g,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:v,set:f,add:b,mul:M,scale:x,dot:_,lerp:E,length:G,len:S,squaredLength:w,sqrLen:V,normalize:C,exactEquals:k,equals:L,rotationTo:Z,sqlerp:function(e,t,i,n,s,r){return p(z,t,s,r),p(P,i,n,r),p(e,z,P,2*r*(1-r)),e},setAxes:function(e,t,i,n){const s=q;return s[0]=i[0],s[3]=i[1],s[6]=i[2],s[1]=n[0],s[4]=n[1],s[7]=n[2],s[2]=-t[0],s[5]=-t[1],s[8]=-t[2],C(e,d(e,s))}})},70178:(e,t,i)=>{i.d(t,{k:()=>n});i(93169);function n(e,t){return!!s(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function s(e,t){return e===t||e&&t&&e.equals(t)}},65618:(e,t,i)=>{i.d(t,{FS:()=>u,MS:()=>m,Pj:()=>o,R3:()=>h,S6:()=>l,TF:()=>p,Tx:()=>c,Wh:()=>a});i(59896),i(93169);var n=i(92026),s=(i(78952),i(41414)),r=i(65156);i(58971),i(27823),i(83040),i(70178);class a{constructor(e,t,i){this.uid=e,this.geometry=t,this.attributes=i,this.visible=!0,this.objectId=null,this.centroid=null}}function l(e){return(0,n.pC)(e.geometry)}class o{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function c(e,t,i,n){return{x:e,y:t,z:i,hasZ:null!=i,hasM:!1,spatialReference:n,type:"point"}}function h(e){if((0,n.Wi)(e))return 0;switch(e.type){case"point":return 1;case"polyline":{let t=0;for(const i of e.paths)t+=i.length;return t}case"polygon":{let t=0;for(const i of e.rings)t+=i.length;return t}case"multipoint":return e.points.length;case"extent":return 2;case"mesh":{const t=e.vertexAttributes&&e.vertexAttributes.position;return t?t.length/3:0}default:return}}function u(e,t){switch((0,s.cS)(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case"polyline":for(let i=0;i<e.paths.length;i++)(0,s.Wi)(t,e.paths[i],e.hasZ);break;case"polygon":for(let i=0;i<e.rings.length;i++)(0,s.Wi)(t,e.rings[i],e.hasZ);break;case"multipoint":(0,s.Wi)(t,e.points,e.hasZ);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax)}}function p(e,t){switch((0,r.cS)(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case"polyline":for(let i=0;i<e.paths.length;i++)(0,r.Wi)(t,e.paths[i]);break;case"polygon":for(let i=0;i<e.rings.length;i++)(0,r.Wi)(t,e.rings[i]);break;case"multipoint":(0,r.Wi)(t,e.points);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax}}function m(e,t){return null!=e.objectId?e.objectId:e.attributes&&t?e.attributes[t]:null}(0,s.Ue)(),(0,r.Ue)()},51283:(e,t,i)=>{i.r(t),i.d(t,{DrawGraphicTool2D:()=>M});var n=i(27366),s=(i(59486),i(52639)),r=i(42537),a=i(92026),l=i(49861),o=(i(63780),i(93169),i(25243),i(69912)),c=i(85577),h=(i(51508),i(75021)),u=i(16072);const p=new h.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),m=new u.Z({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),y=new u.Z({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});var d=i(77566),g=i(42046),v=i(54016),f=i(7882),b=i(77577);let M=class extends d.T{constructor(e){super(e),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:(0,a.Pt)(e.activeLineSymbol,p),regularVertices:(0,a.Pt)(e.regularVerticesSymbol,m),activeVertex:(0,a.Pt)(e.activeVertexSymbol,y),fill:(0,a.Wg)(e.activeFillSymbol)}}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return(0,a.pC)(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new g.w({view:e,manipulators:this.manipulators,geometryType:(0,d.I)(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new v.hP(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c.r(this.internalGraphicsLayer)})}onActiveVertexChanged(e){if("point"===this.geometryType)return null;const[t,i]=e,n=new f.Z({x:t,y:i,spatialReference:this.drawOperation.spatialReference});return(0,a.pC)(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n,null):(this._visualElementGraphics.activeVertex=new s.Z({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(x),(0,r.kB)((()=>{(0,a.pC)(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=(0,a.SC)(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(e){const t=e.clone();if("polyline"===t.type){const e=t.paths[t.paths.length-1];e.splice(0,e.length-2)}return(0,a.pC)(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=t,null):(this._visualElementGraphics.outline=new s.Z({geometry:t,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(x),(0,r.kB)((()=>{(0,a.pC)(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=(0,a.SC)(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(e){const t=new b.Z({points:e,spatialReference:this.drawOperation.spatialReference});return(0,a.pC)(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=t,null):(this._visualElementGraphics.regularVertices=new s.Z({geometry:t,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(x),(0,r.kB)((()=>{(0,a.pC)(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=(0,a.SC)(this._visualElementGraphics.regularVertices))})))}};function x(e,t){var i,n,s,r;return(null!=(i=null==(n=e.attributes)?void 0:n.displayOrder)?i:-1/0)-(null!=(s=null==(r=t.attributes)?void 0:r.displayOrder)?s:-1/0)}(0,n._)([(0,l.Cb)()],M.prototype,"activeFillSymbol",void 0),(0,n._)([(0,l.Cb)({readOnly:!0})],M.prototype,"type",void 0),(0,n._)([(0,l.Cb)({constructOnly:!0,nonNullable:!0})],M.prototype,"view",void 0),M=(0,n._)([(0,o.j)("esri.views.2d.interactive.draw.DrawGraphicTool2D")],M)}}]);
//# sourceMappingURL=8121.4ba1dbe6.chunk.js.map