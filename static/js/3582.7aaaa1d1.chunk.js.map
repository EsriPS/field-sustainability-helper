{"version":3,"file":"static/js/3582.7aaaa1d1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/effects/EffectView.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/views/support/floorFilterUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/renderers/support/numberUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/renderers/support/utils.js","../node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import s from\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as o}from\"./parser.js\";import{canInterpolateEffects as l,normalizeEffects as f}from\"./utils.js\";const a=-1;let h=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=s(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(u(t))}catch(e){this._transitionTo([]),i.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&_(this._current,u(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&_(this._current,t,this.scale)?(this._final=t,this._to=r(t),p(this._current,this._to,this.scale),this._from=r(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?r(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=m(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?r(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function u(t){const e=o(t)||[];return g(e)?[{scale:a,effects:e}]:e}function _(t,e,s){var r,i,n,c;if(null==(r=t[0])||!r.effects||null==(i=e[0])||!i.effects)return!0;return!(((null==(n=t[0])?void 0:n.scale)===a||(null==(c=e[0])?void 0:c.scale)===a)&&(t.length>1||e.length>1)&&s<=0)&&l(t[0].effects,e[0].effects)}function p(t,e,s){var r,i;const n=t.length>e.length?t:e,c=t.length>e.length?e:t,o=c[c.length-1],l=null!=(r=null==o?void 0:o.scale)?r:s,h=null!=(i=null==o?void 0:o.effects)?i:[];for(let f=c.length;f<n.length;f++)c.push({scale:l,effects:[...h]});for(let u=0;u<n.length;u++)c[u].scale=c[u].scale===a?s:c[u].scale,n[u].scale=n[u].scale===a?s:n[u].scale,f(c[u].effects,n[u].effects)}function m(t,e,s){return t+(e-t)*s}function g(t){const e=t[0];return!!e&&\"type\"in e}t([n()],h.prototype,\"_to\",void 0),t([n()],h.prototype,\"duration\",void 0),t([n({value:\"\"})],h.prototype,\"effect\",null),t([n({readOnly:!0})],h.prototype,\"effects\",void 0),t([n({readOnly:!0})],h.prototype,\"hasEffects\",null),t([n({value:0})],h.prototype,\"scale\",null),t([n({readOnly:!0})],h.prototype,\"transitioning\",null),h=t([c(\"esri.layers.effects.EffectView\")],h);export{h as EffectView,_ as canInterpolateEffectStops,u as convertEffectToStops,p as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";import{getLayerFloorFilterClause as n,combineFloorsDefinitionExpression as y}from\"../../views/support/floorFilterUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){var e;const r=!(null==(e=this.floors)||!e.length),s=this.visibleSublayers.filter((e=>null!=e.definitionExpression||r&&null!=e.floorInfo));return s.length?JSON.stringify(s.reduce(((e,r)=>{const s=n(this.floors,r),i=t(s)?y(s,r):r.definitionExpression;return e[r.id]=i,e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([i({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([i()],c.prototype,\"floors\",void 0),e([i({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([i()],c.prototype,\"layer\",null),e([i({readOnly:!0})],c.prototype,\"layers\",null),e([i({readOnly:!0})],c.prototype,\"layerDefs\",null),e([i({type:Number})],c.prototype,\"scale\",void 0),e([i(a)],c.prototype,\"timeExtent\",void 0),e([i({readOnly:!0})],c.prototype,\"version\",null),e([i({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([o(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===o.gdbVersion))||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function t(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":case\"heatmap\":return null}return null}function s(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return s(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),s(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),s(r,e)}export{o as isSupportedRenderer3D,t as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if(\"floorInfo\"in l&&null!=(n=l.floorInfo)&&n.floorField&&\"floors\"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return\"floorInfo\"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{l as combineFloorsDefinitionExpression,o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../symbols.js\";import{formatDate as A,convertDateFormatToIntlOptions as t}from\"../../../intl/date.js\";import{format as l}from\"../../../renderers/support/numberUtils.js\";import s from\"../../../symbols/SimpleLineSymbol.js\";const a=\"<\",i=\">\",o=t(\"short-date\");function r(t,s,r,e){let n=\"\";0===s?n=`${a} `:s===r&&(n=`${i} `);let u=null;return u=e?A(t,o):l(t),n+u}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];async function n(A){if(!(\"visualVariables\"in A)||!A.visualVariables)return null;const t=A.visualVariables.find((A=>\"color\"===A.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const a=l+(s-l)/2,{getColor:i}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return i(t,a)}async function u(A,t){const l=A.trailWidth||1,a=t||await n(A)||A.color;return new s({cap:\"butt\",color:a,width:l})}export{e as RGB_IMG_SOURCE,i as SPECIAL_CHARS_GREATER_THAN,a as SPECIAL_CHARS_LESS_THAN,r as createStopLabel,n as getMedianColor,u as getSymbolForFlowRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:f(e)}}function f(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as o}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as i}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{createStopLabel as a,getSymbolForFlowRenderer as u}from\"./utils.js\";import{isDarkTheme as c}from\"../../support/widgetThemeUtils.js\";const m=30,f=12,p=[255,255,255],y=[200,200,200],b=[128,128,128],d=20,h=5;function v(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function w(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function S(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function z(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function x(e,l,n,o,i,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=await k(e,n),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=s(p);let w=null,S=null,x=null;S=g&&!h?t([l.minDataValue,l.maxDataValue]):f||await O(l,p,o,i);const L=null==e?void 0:e.authoringInfo,C=\"univariate-color-size\"===(null==L?void 0:L.type),I=C&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!S&&h&&(S=l.stops.map((e=>e.value)),w=l.stops.some((e=>!!e.label)),\"flow\"===e.type&&(S=t(S)),w&&(x=l.stops.map((e=>e.label)))),g&&(null==(u=S)?void 0:u.length)>2&&!I&&(S=[S[0],S[S.length-1]]),!S)return null;C&&5!==(null==(c=S)?void 0:c.length)&&(S=U({minSize:S[0],maxSize:S[S.length-1]}));const D=g?V(e,S):null,M=r(p),q=w?null:z(S,a);return(await Promise.all(S.map((async(t,n)=>{const s=g?D[n]:await T(l,p,t,o,i);return{value:t,symbol:E(I&&\"class-breaks\"===e.type?j(e,n):p,s),label:w?x[n]:q[n],size:s,outlineSize:M}})))).reverse()}function V(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let o=[f,m];if(n){const e=l[0],t=l[l.length-1],n=f,i=m;o=l.map((l=>n+(l-e)/(t-e)*(i-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&o.reverse(),o}function j(e,l){const t=e.classBreakInfos,n=t.length,o=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(o.type.indexOf(\"3d\")>-1?C(o):I(o)),o}async function k(e,l){if(\"flow\"===e.type)return u(e,l);let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||L(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?C(t):I(t)),t)}function L(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function C(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:b}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:y}:(e.material={color:p},e.outline={color:b,size:1.5})}))}function I(l){const t=c();if(\"cim\"===l.type)i(l,new e(y));else if(-1!==l.type.indexOf(\"line\"))l.color=b;else if(l.color=t?b:p,\"simple-marker\"===l.type)if(l.outline){var n,o;\"#ffffff\"===(null==(n=l.outline)||null==(o=n.color)?void 0:o.toHex())&&(l.outline.color=b)}else l.outline={color:b,width:1.5}}async function O(e,l,n,o){const i=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,o),s=i&&U(i);if(!i&&!s)return;let r=s.map((l=>D(l,e,i)));r=t(r);for(let t=1;t<r.length-1;t++){const i=await M(e,l,r[t],r[t-1],n,o);i&&(r[t]=i[0],s[t]=i[1])}return r}function U(e){const l=e.minSize,t=e.maxSize,n=h,o=(t-l)/(n-1),i=[];for(let s=0;s<n;s++)i.push(l+o*s);return i}function D(e,l,t){const n=t.minSize,o=t.maxSize,i=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=i;else if(e>=o)r=s;else{r=(e-n)/(o-n)*(s-i)+i}return r}async function M(e,l,i,s,r,a){const u=await T(e,l,i,r,a),c=await T(e,l,s,r,a),m=n(i),f=m.fractional,p=d;let y=m.integer,b=null,h=null;i>0&&i<1&&(b=10**f,y=n(i*=b).integer);for(let n=y-1;n>=0;n--){const s=10**n;let m=Math.floor(i/s)*s,f=Math.ceil(i/s)*s;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await T(e,l,m,r,a),v=await T(e,l,f,r,a),g=await T(e,l,y,r,a),w=o(u,d,c,null),S=o(u,v,c,null),z=o(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,d]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function T(e,l,t,n,o){const{getSize:i}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return i(e,t,{scale:n,view:o,shape:\"simple-marker\"===l.type?l.style:null})}function E(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(v(n))n.size=t;else if(g(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else w(n)?n.width=t:S(n)&&n.font&&(n.font.size=t);return n}export{m as REAL_WORLD_MAX_SIZE,f as REAL_WORLD_MIN_SIZE,x as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{unique as e}from\"../../core/arrayUtils.js\";import n from\"../../core/Logger.js\";import{convertDateFormatToIntlOptions as t,formatDate as l}from\"../../intl/date.js\";import{format as a,round as i}from\"./numberUtils.js\";import o from\"../visualVariables/support/ColorStop.js\";const r=n.getLogger(\"esri.renderers.support.utils\"),s={lte:\"<=\",gte:\">=\",lt:\"<\",gt:\">\",pct:\"%\",ld:\"\"},u={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},d={millisecond:\"long-month-day-year-long-time\",second:\"long-month-day-year-long-time\",minute:\"long-month-day-year-short-time\",hour:\"long-month-day-year-short-time\",day:\"long-month-day-year\",month:\"long-month-day-year\",year:\"year\"},m=t(\"short-date\");function f(e,n,t){let l=\"\";return 0===n?l=s.lt+\" \":n===t&&(l=s.gt+\" \"),l+e}function c(e){const{values:n,colors:t,labelIndexes:i,isDate:r,dateFormatOptions:s}=e;return n.map(((e,u)=>{let d=null;if(!i||i.indexOf(u)>-1){let t;t=r?l(e,s):a(e),t&&(d=f(t,u,n.length-1))}return new o({value:e,color:t[u],label:d})}))}function p(e){const{stops:n,changes:t,isDate:o,dateFormatOptions:r}=e,s=n.map((e=>e.value)),u=[];for(const l of t)u.push(l.index),s[l.index]=l.value;const d=i(s,{indexes:u});n.forEach(((e,t)=>{if(e.value=s[t],null!=e.label){let i,s=null;i=o?l(d[t],r):a(d[t]),i&&(s=f(i,t,n.length-1)),e.label=s}}))}function h(e){let n=e.minValue,t=e.maxValue;const l=e.isFirstBreak?\"\":s.gt+\" \",i=\"percent-of-total\"===e.normalizationType?s.pct:\"\";return n=null==n?\"\":a(n),t=null==t?\"\":a(t),l+n+i+\" \"+s.ld+\" \"+t+i}function y(e){const n=e.classBreakInfos,t=e.normalizationType;let l=[];if(n&&n.length)if(\"standard-deviation\"!==e.classificationMethod)if(e.round){l.push(n[0].minValue);for(const e of n)l.push(e.maxValue);l=i(l),n.forEach(((e,n)=>{e.label=h({minValue:0===n?l[0]:l[n],maxValue:l[n+1],isFirstBreak:0===n,normalizationType:t})}))}else n.forEach(((e,n)=>{e.label=h({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===n,normalizationType:t})}));else r.warn(\"setLabelsForClassBreaks\",\"cannot set labels for class breaks generated using 'standard-deviation' method.\")}function g(e){if(\"standard-deviation\"===e.classificationMethod)return void r.warn(\"updateClassBreak\",\"cannot update labels for class breaks generated using 'standard-deviation' method.\");const n=e.classBreaks,t=e.change,l=t.index,a=t.value,i=n.length;let o=-1,s=-1;0===l?o=l:l===i?s=l-1:(s=l-1,o=l);const u=e.normalizationType;let d=null;o>-1&&o<i&&(d=n[o],d.minValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===o,normalizationType:u})),s>-1&&s<i&&(d=n[s],d.maxValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===s,normalizationType:u}))}function x(e){const n=e.map((e=>new Date(e))),t=n.length;let l=1/0,a=null;for(let i=0;i<t-1;i++){const e=n[i];let o=1/0,r=null;for(let l=i+1;l<t;l++){const t=n[l],a=(e.getFullYear()!==t.getFullYear()?\"year\":e.getMonth()!==t.getMonth()&&\"month\")||e.getDate()!==t.getDate()&&\"day\"||e.getHours()!==t.getHours()&&\"hour\"||e.getMinutes()!==t.getMinutes()&&\"minute\"||e.getSeconds()!==t.getSeconds()&&\"second\"||\"millisecond\",i=u[a];i<o&&(o=i,r=a)}o<l&&(l=o,a=r)}return a}function V(e){const{value:n,domain:i,fieldInfo:o,dateFormatInterval:r}=e;let s=String(n);const u=i&&\"codedValues\"in i&&i.codedValues?i.getName(n):null;return u?s=u:\"number\"==typeof n&&(s=o&&\"date\"===o.type?l(n,r&&t(d[r])):a(n)),s}function b(e,n){return\"normalizationField\"in e&&e.normalizationField?F(e.field,e.normalizationField):\"field\"in e&&e.field?v(e.field):\"valueExpression\"in e&&e.valueExpression?z(e.valueExpression,e.valueExpressionTitle,n):null}function v(e){return{type:\"field\",field:e}}function F(e,n){return{type:\"normalized-field\",field:e,normalizationField:n}}function z(e,n,t){return{type:\"expression\",expression:e,title:n,returnType:t}}function k(n,t){const l=[];if(\"class-breaks\"===n.type||\"heatmap\"===n.type)l.push(b(n,\"number\"));else if(\"unique-value\"===n.type){const e=n.authoringInfo;if(e&&\"relationship\"===e.type){if(e.field1&&e.field2){const n=e.field1.field,t=e.field2.field,a=e.field1.normalizationField,i=e.field2.normalizationField;l.push(b({field:n,normalizationField:a})),l.push(b({field:t,normalizationField:i}))}}else{const e=n.uniqueValueInfos[0];let t=null;if(e&&e.value){const e=typeof n.uniqueValueInfos[0].value;\"string\"!==e&&\"number\"!==e||(t=e)}l.push(b(n,t)),[n.field2,n.field3].forEach((e=>e&&l.push(v(e))))}}else\"dot-density\"===n.type&&n.attributes.forEach((e=>l.push(b(e,\"number\"))));const a=t?t(n):\"visualVariables\"in n?n.visualVariables:null;return a&&a.forEach((e=>l.push(b(e,\"number\")))),e(l.filter(Boolean),((e,n)=>\"field\"===e.type&&\"field\"===n.type?e.field===n.field:\"normalized-field\"===e.type&&\"normalized-field\"===n.type?e.field===n.field&&e.normalizationField===n.normalizationField:\"expression\"===e.type&&\"expression\"===n.type&&e.expression===n.expression))}export{x as calculateDateFormatInterval,h as createClassBreakLabel,c as createColorStops,V as createUniqueValueLabel,b as getAttribute,k as getAttributes,y as setLabelsForClassBreaks,m as timelineDateFormatOptions,g as updateClassBreak,p as updateColorStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isSome as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(!n(i)||!n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as l}from\"../../../kernel.js\";import s from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import n from\"../../../core/Collection.js\";import i from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{px2pt as h}from\"../../../core/screenUtils.js\";import{addQueryParameters as m}from\"../../../core/urlUtils.js\";import{on as p,init as f,whenFalseOnce as g,watch as b}from\"../../../core/watchUtils.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as v}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as w}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as L}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as E}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as I}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as C}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as V}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as T}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as z}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as x,renderDotDensityPreviewHTML as j,renderPreviewHTML as O}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as D}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as M}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as P,getRampStopsForPointCloud as A,getStrectchRampStops as U,getRampStops as B}from\"./colorRampUtils.js\";import{getHeatmapRampStops as k}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as N,getRelationshipRampElement as q}from\"./relationshipRampUtils.js\";import{getRampStops as W,REAL_WORLD_MAX_SIZE as $,REAL_WORLD_MIN_SIZE as G}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as J,SPECIAL_CHARS_GREATER_THAN as Q,getSymbolForFlowRenderer as H,getMedianColor as X,RGB_IMG_SOURCE as K}from\"./utils.js\";import{formatNumberLabel as Y}from\"../../smartMapping/support/utils.js\";import Z from\"../../../symbols/SimpleMarkerSymbol.js\";import ee from\"../../../symbols/SimpleFillSymbol.js\";const te=o.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),le=\"https://utility.arcgis.com/sharing/tools/legend\",se=\"esri.layers.ImageryLayer\",re=\"esri.layers.ImageryTileLayer\",ne=\"esri.layers.WCSLayer\",ie=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,ae=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),oe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ue=new Z({size:6,outline:{color:[128,128,128,.5],width:.5}}),ce=new ee({style:\"solid\"});function de(e){return\"flow\"===e.type}function ye(e){return\"vector-field\"===e.type}function he(e){return\"raster-colormap\"===e.type}function me(e){return\"raster-stretch\"===e.type}function pe(e){return\"raster-shaded-relief\"===e.type}function fe(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ge(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function Se(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function _e(e){return we(e)||Le(e)||Ee(e)||ve(e)}function ve(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function we(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function Le(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Ee(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function Ie(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function Ce(e,t){return fe(e)||ge(e)||be(e)||Se(e)||Ie(e)?\"2d\"===t.type||R(e):me(e)||he(e)||pe(e)||we(e)||Le(e)||Ee(e)||ye(e)||de(e)}function Re(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Fe(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function Ve(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function Te(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function ze(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function xe(e){return\"esri.layers.TileLayer\"===e.declaredClass}function je(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Oe(e){return e.declaredClass===se}function De(e){return e.declaredClass===re}function Me(e){return e.declaredClass===ne}function Pe(e){return\"stretch-ramp\"===e.type}function Ae(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Ue(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const Be=new Z({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let ke={},Ne=class extends r{constructor(e){super(e),this._handles=new i,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([p(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,r=this._handles;l.forEach((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(f(t,\"ready\",e),l)})),s.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(ke={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(ke=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new w,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,r=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=r?r*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(ie.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(je(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&C(l.renderer),r=ae.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:r}):(te.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){te.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){te.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Fe(e))this._constructLegendElementsForVoxellayer();else if(Te(e))this._constructLegendElementsForWMTSlayer();else if(Ve(e))await this._constructLegendElementsForWMSSublayers();else if(Re(e))await this._constructLegendElementsForBuildingSceneLayer();else if(ze(e)||xe(e)||Re(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let s=\"default\";if(Oe(e)){var t,l;const r=e;s=((null==r||null==(t=r.renderingRule)?void 0:t.functionName)||\"default\")+\"_\"+(null!=(l=e.bandIds)&&l.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${s}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(Oe(e)||De(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>y((async()=>{ke.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(Oe(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await d(l)})).catch((e=>{te.warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,l=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!l&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await g(t,\"updating\");const s=l?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();s.geometry=this.view.extent;return 0!==(l?\"queryFeatureCount\"in t&&await t.queryFeatureCount(s):\"queryFeatureCount\"in e&&await e.queryFeatureCount(s))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||ie.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&ze(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\");const e=this.layer;this._handles.add(b(e,\"style\",(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),l=[];var s;if(t)if(null!=(s=t.uniqueValues)&&s.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new ee({color:t.color,outline:null})})})),e.length&&l.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:s}=t.transferFunction,r=e.toArray().reverse(),n=s.map(((e,t)=>`${0===t?J:Q} ${Y(e)}`)).reverse(),i=r.map((e=>({color:e.color,value:null,label:null})));i[0].label=n[0],i[i.length-1].label=n[1],l.push({type:\"color-ramp\",title:t.label,infos:i,preview:x(r.map((e=>e.color)))})}const r=e.opacity,n=l.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,r)));await d(n),this.legendElements=l,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(b(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(b(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let r=e.legendUrl;if(!r)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(r=m(r,t));let i=null;const a=null==(l=e.layer)?void 0:l.opacity;try{i=(await s(r,{responseType:\"image\"})).data,i&&(i.style.opacity=a)}catch{}return n.infos.push({src:r,preview:i,opacity:a}),n}_getLegendLayers(e,t){const l=ke&&ke[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return ke[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(Oe(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.rasterFunctionDefinition||e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:s,customParameters:r}=t;l={raster:e,viewId:s,...l,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=le+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return s(r,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){te.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(r.renderer){l=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:s,sublayer:r}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){te.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(n=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of n){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||i.visible&&i.legendEnabled&&this._isSublayerInScale(i)){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>v.SERVICE){await i.load();r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=this.layer,s=e.source;let r=null;if(!(!s||\"map-layer\"===s.type&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>v.SERVICE||e.originIdOf(\"labelingInfo\")>v.SERVICE||e.originIdOf(\"labelsVisible\")>v.SERVICE){const e=new E({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const n=r||`${t.uid}-default`;(await this._getLegendLayers(n,r)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if((!s||null!=s&&s.subLayerIds&&s.defaultVisibility)&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const r=null==t?void 0:t.renderer;let n=(null==t?void 0:t.title)||e.layerName;if(r&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>v.SERVICE)){const e=(null==t?void 0:t.title)||this._getRendererTitle(r,t);e&&(n&&\"string\"!=typeof e&&\"title\"in e&&(e.title=n),n=e)}const i={type:\"symbol-table\",title:n,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const r={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=r.infos)?void 0:s.length)>0&&i.infos.push(r)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,s){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=l(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:null==s?this.opacity:s,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,r=null,n=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(r=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,r=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||r>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let r=null,n=null;return s&&e.some(((e,t)=>(e.values||(r=t,n=e,n.label||(n.label=\"others\")),null!=n))),l?\"unique-value\"===l.type?n&&(e.splice(r,1),e.push(n)):\"class-breaks\"===l.type&&(n&&e.splice(r,1),e.reverse(),n&&e.push(n)):n&&(e.splice(r,1),e.push(n)),e}async _getRendererLegendElements(e,t={}){return Ce(e,this.view)?_e(e)?this._constructPointCloudRendererLegendElements(e,t):Ie(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):(te.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let r=null,n=null;if(we(e))r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ue,e.color)})}));else if(Le(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=P(e+(l-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ue,s||ue.color)}]};const i=A(e.stops);n={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:x(i.map((e=>e.color)))}}else Ee(e)&&(r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ue,e.color)})})));r&&r.infos.length&&s.push(r),n&&n.infos.length&&s.push(n);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:r}=e,n=this.effectList,i=null==n?void 0:n.effects.map((e=>e.toJSON())),a=L(i),o=r+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON()))+\"-\"+a,u=this._dotDensityUrlCache,c=u.has(o)?u.get(o):j(e,t);u.set(o,c);const d={shape:{type:\"image\",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},y=z([[d]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:y,width:c.width,height:c.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,t={}){const{title:l,sublayer:s}=t,r=s||this.layer;let n=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(n,r)||[],a={type:\"symbol-table\",title:l||this._getRendererTitle(n,r),infos:[]};let o=null,c=!1;const y=new Set;if(de(n)&&!this._hasSizeRamp){const e=await H(n);a.infos.push({label:null,symbol:e})}else if(Ae(n)){let e=l;const t=Ue(n)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",s=i.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==s?i.splice(s,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];r&&(e=r.title,u.push(r)),o&&(e=o.title,u.push(o)),u.length>0&&i.push({type:t,title:e,infos:u})}else if(Se(n)){const e=k(n);i.push({type:\"heatmap-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:this.effectList})})}else if(be(n)){const e=n&&n.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:o}=e;if(l&&s&&o){const e=[s,o];let u=N(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=Be.clone();i.angle=u,a.infos.push({label:n,symbol:i}),y.add(i),u+=90}const c=q({focus:t,numClasses:l,infos:n.uniqueValueInfos});i.unshift(c)}}else{const e=n.field;n.uniqueValueInfos.forEach((t=>{t.symbol&&a.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}n.defaultSymbol&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(ge(n)){o=this._isUnclassedRenderer(n);(!o||!this._hasSizeRamp)&&(n.classBreakInfos.forEach((e=>{e.symbol&&a.infos.unshift({label:e.label||(o?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),o&&(a.title=null),this._updateInfosforClassedSizeRenderer(n,a.infos)),n.defaultSymbol&&!o&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(me(n))if(De(this.layer)||Me(this.layer)){const e=this._constructTileImageryStretchRendererElements(n);Pe(e)?i.push(e):a.infos=e}else{const e=this.layer;let t,l;n.statistics&&n.statistics.length&&(t=null!=n.statistics[0].min?n.statistics[0].min:n.statistics[0][0],l=null!=n.statistics[0].max?n.statistics[0].max:n.statistics[0][1]);let s=[];const r=u(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties,c=oe[e.rasterInfo.pixelType.toLowerCase()];1===r.bandCount||e.bandIds&&1===e.bandIds.length?(t=null!=t?t:r.statistics?r.statistics[e.bandIds[0]].min:c[0],l=null!=l?l:r.statistics?r.statistics[e.bandIds[0]].max:c[1],t||l?i.push(this._getStretchLegendElements(n,{min:t,max:l})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(s=e.bandIds.map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):\"lerc\"===e.format?(s=[0,1,2].map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():\"lerc\"===e.format?(s=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():this._getServerSideLegend()}else if(he(n))n.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ce,e.color)})}));else if(fe(n)){let e=n.symbol;switch(t.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}n.symbol&&!this._hasSizeRamp&&a.infos.push({label:n.label,symbol:e})}else if(ye(n)){n.outputUnit&&(this.title=\"(\"+n.toJSON().outputUnit+\")\"),a.title=n.attributeField;const e=n.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:n.attributeField,symbol:n.getDefaultSymbol()})}else pe(n)&&i.push(this._getStretchLegendElements(n,{min:0,max:255}));const h=n.defaultSymbol;!h||c||fe(n)||o&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:n.defaultLabel||\"others\",symbol:h}]}),a.infos.length&&i.unshift(a);const m=null==t.opacity?this.opacity:t.opacity,p=this._isTallSymbol(\"visualVariables\"in n&&n.visualVariables),f=Oe(this.layer)||De(this.layer),g=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,m,{isDefault:e.symbol===h,applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:p,isSquareFill:f},effectList:y.has(e.symbol)?null:this.effectList})));return n=null,await d(g),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,r=s.rasterInfo,n=r.bandCount||e.statistics.length;let i,a,o=[];const u=r.keyProperties&&r.keyProperties.BandProperties,c=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==r?void 0:r.statistics;if(c)i=void 0!==c[0].min?c[0].min:c[0][0],a=c[0].max||c[0][1];else{const e=oe[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(s.hasStandardTime()&&(i=s.getStandardTimeValue(i),a=s.getStandardTimeValue(a)),1===r.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function d(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=n?d(u):d(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=U(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:x(s.map((e=>e.color)))}}async _getSizeLegendElement(e,t,l,s){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await W(l,t,await X(l),this.scale,this.view.type,s)}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:K[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>D(e.symbol)));if(l&&s){const l=$,s=G,r=e.classBreakInfos.length,n=(l-s)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=l-n*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const r=e[s];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null!=l&&l.isDefault||null!=e.size||!this._hasSizeRamp?e.size:h(T.size);if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return O(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig,effectView:null==l?void 0:l.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var t,l;const s=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const n=\"visualVariables\"in e&&(null==(t=e.visualVariables)?void 0:t.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!ie.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!n&&\"featureReduction\"in r&&\"cluster\"===(null==(l=r.featureReduction)?void 0:l.type)){const t=this.layerView._effectiveRenderer,l=u(M(t,this.view));if(l){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:s}=t;l.legendOptions=new F({showLegend:e!==s})}const s=e.visualVariables||[];e.visualVariables=s.concat([l]),this._hasClusterSizeVariable=!0}}const i=await X(e);if(ge(e)||be(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,i).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(s,t)}return s.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:i).then((t=>{this._applySymbolToRenderer(e,t,fe(e))})).catch((()=>{this._applySymbolToRenderer(e,null,fe(e))}))),d(s).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,r=l&&l.user&&l.user.username,n=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+r,i=this._webStyleSymbolCache;return i.has(n)||(\"2d\"===this.view.type?i.set(n,e.fetchCIMSymbol()):i.set(n,e.fetchSymbol())),i.get(n).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>(te.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,l){if(!e||!l)return e;const s=e.clone(),r=l&&l.toRgba();return s.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(s,r):\"cim\"===s.type?V(s,l):s.color&&(s.color=new t(r||s.color)),s}_applyColorTo3dSymbol(e,l){l&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(l))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const l=e.visualVariables,s=[],r=[],n=[];for(const c of l)\"color\"===c.type?s.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&n.push(c);const i=[...s,...r,...n];let a,o;if(0===s.length&&ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===s.length&&fe(e)&&(a=e.symbol),a)if(a.type.indexOf(\"3d\")>-1){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(i.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=de(e)?l.field:this._getRampTitle(l,t);let r=null;const n=\"getField\"in t&&t.getField&&t.getField(l.field),i=n&&I(n);if(\"color\"===l.type){const e=await B(l,null,i);r={type:\"color-ramp\",title:s,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)ie.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(r=await this._getSizeLegendElement(s,l,e,i),this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===l.type){const e=await B(l,o,i);r={type:\"opacity-ramp\",title:s,infos:e,preview:x(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),r=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,r=s&&s.fieldInfos;if(r)for(const t of r)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,r=!1,n=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){r=!0;break}if(\"percent\"===l.style){n=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:r,ratioPercent:n,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,r=null,n=null;ge(l)&&(r=l.normalizationField,n=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,r=\"function\"==typeof r?null:r;let i=null;return(s||r)&&(i={field:s&&this._getFieldAlias(s,t),normField:r&&this._getFieldAlias(r,t),normByPct:n}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let r=null;s&&s.some((t=>e===t.fieldName&&(r=t,!0)));let n=null;\"getField\"in t&&t.getField?n=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(n=t.fieldsIndex.get(e));const i=r||n;let a=null;return i&&(a=r&&r.label||n&&n.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return ge(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([S()],Ne.prototype,\"children\",void 0),e([S({readOnly:!0})],Ne.prototype,\"effectList\",null),e([S()],Ne.prototype,\"layerView\",void 0),e([S()],Ne.prototype,\"layer\",void 0),e([S()],Ne.prototype,\"legendElements\",void 0),e([S({readOnly:!0})],Ne.prototype,\"opacity\",null),e([S()],Ne.prototype,\"parent\",void 0),e([S({readOnly:!0,dependsOn:[]})],Ne.prototype,\"ready\",null),e([S()],Ne.prototype,\"hideLayersNotInCurrentView\",void 0),e([S()],Ne.prototype,\"keepCacheOnDestroy\",void 0),e([S()],Ne.prototype,\"respectLayerVisibility\",void 0),e([S({readOnly:!0})],Ne.prototype,\"scale\",null),e([S()],Ne.prototype,\"sublayerIds\",void 0),e([S({readOnly:!0})],Ne.prototype,\"isScaleDriven\",null),e([S()],Ne.prototype,\"title\",void 0),e([S({readOnly:!0,dependsOn:[\"ready\"],value:0})],Ne.prototype,\"version\",null),e([S()],Ne.prototype,\"view\",void 0),Ne=e([_(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Ne);const qe=Ne;export{qe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{init as s,watch as a,whenTrue as n}from\"../../core/watchUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",v=\"view.basemapView.referenceLayerViews\",p=[_,f,\"view.layerViews\",v];let u=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s(this,\"view\",this._viewHandles),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(a(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===v),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(a(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,t=e.uid,s=this._layerInfosByLayerViewId[t];let o=this._activeLayerInfosByLayerViewId[t];if(!o){const i=s&&void 0!==s.title&&s.layer.uid===r.uid;o=new y({layer:r,layerView:e,title:i?s.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:s&&s.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[t]=o}const l=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==l?void 0:l.uid],!this._handles.has(t)){const i=[a(r,\"title\",(e=>this._titleHandle(e,o))),a(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(o))),n(this.view,\"stationary\",(()=>this._scaleHandle(o))),a(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(o))),a(r,\"effect\",(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const t=a(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o))),s=a(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o)));i.push(t,s)}this._handles.add(i,t)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var t;const i=null==(t=this.layerInfos)?void 0:t.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],s=this._activeLayerInfosByLayerViewId[null==t?void 0:t.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([o()],u.prototype,\"basemapLegendVisible\",void 0),e([o()],u.prototype,\"groundLegendVisible\",void 0),e([o()],u.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],u.prototype,\"keepCacheOnDestroy\",void 0),e([o()],u.prototype,\"respectLayerVisibility\",void 0),e([o()],u.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],u.prototype,\"state\",null),e([o()],u.prototype,\"view\",void 0),u=e([l(\"esri.widgets.Legend.LegendViewModel\")],u);const I=u;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{isRTL as n,classes as d}from\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const u=\"http://www.w3.org/2000/svg\",b={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function p(e,a,r,l){const{focus:t,labels:s}=e,i=!!t,o=c(e,a,r,l),u={justifyContent:\"center\"},p=n();return i?m(\"div\",{class:b.diamondContainer,styles:u},m(\"div\",{class:b.diamondLeftCol},p?s.right:s.left),m(\"div\",{class:b.diamondMidCol},m(\"div\",{class:b.diamondMidColLabel},s.top),o,m(\"div\",{class:b.diamondMidColLabel},s.bottom)),m(\"div\",{class:b.diamondRightCol},p?s.left:s.right)):m(\"div\",{class:b.squareTable},m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom)},p?s.top:s.left),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom)},p?s.left:s.top)),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:b.squareTableCell}),o,m(\"div\",{class:b.squareTableCell})),m(\"div\",{class:b.squareTableRow},m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop)},p?s.right:s.bottom),m(\"div\",{class:b.squareTableCell}),m(\"div\",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop)},p?s.bottom:s.right)))}function h(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,d,p,c,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,g=!!q,L=Math.sqrt(f**2+f**2)+(g?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let s=0;s<k;s++){const i=s*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[s][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(t(u))}}const x=10,R=15,$=15,j=10;let E=null;g||(E=\"margin: -15px -15px -18px -15px\");const M=h(\"left\",q,d),S=h(\"right\",q,d),B=s(w),H=i(B,L,L,0,!1,_,!1),U=i(B,L,L,0,!1,g?-45:null,!1),W={filter:o(c),opacity:null==p?null:`${p}`};return m(\"div\",{styles:W,class:g?b.diamondMidColRamp:b.squareTableCell},m(\"svg\",{xmlns:u,width:L,height:L,style:E},m(\"defs\",null,m(\"marker\",{id:`${d}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),m(\"marker\",{id:`${d}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),m(\"g\",{transform:H},v),m(\"g\",{transform:U},m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":M.markerStart,\"marker-end\":M.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:$,y1:f+j,x2:f-$,y2:f+j}))))}export{p as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),n=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function u(t,o,i=\"vertical\",l){t.infos.forEach(((t,n)=>{if(l&&2===n)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),n=l?t.preview:document.createElement(\"div\");n.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?n.style.width=`${o}px`:n.style.height=`${o}px`,l||n.appendChild(t.preview),t.preview=n}}))}function m(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=u;v<=m;v++)if(i&&v===p)c+=\"horizontal\"===l?n:r;else{c+=e(f[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[u].size+f[m].size:\"above\"===o?f[u].size:f[m].size,y=i?\"vertical\"===l?r:n:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.find((({type:e})=>\"size-ramp\"===e)),n=i.find((({type:e})=>\"color-ramp\"===e));var r,s;(l&&(l={...l},l.infos=[...l.infos],u(l,t,o,!0)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===o)&&(null==(r=l)||r.infos.reverse(),null==(s=n)||s.infos.reverse());return{sizeRampElement:l,colorRampElement:n}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),l=o.find((({type:e})=>\"color-ramp\"===e));var n,r;(i&&(i={...i},i.infos=[...i.infos],u(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===t)&&(null==(n=i)||n.infos.reverse(),null==(r=l)||r.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,m as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as a}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../symbols/support/utils.js\";import l from\"../../Widget.js\";import{renderRelationshipRamp as n}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as c,getUnivariateSizeRampSize as d,getUnivariateColorRampSize as p,getUnivariateColorRampPreview as m,getUnivariateColorRampMargin as h,getUnivariateColorSizeRampElements as y}from\"./support/univariateUtils.js\";import{getTitle as g,attachToNode as _,isImageryStretchedLegend as v}from\"../support/styleUtils.js\";import{Heading as u,incrementHeadingLevel as f}from\"../../support/Heading.js\";import{accessibleHandler as b}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as w}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as L}from\"../../support/jsxFactory.js\";import{isRTL as C}from\"../../support/widgetUtils.js\";import{substitute as x}from\"../../../intl/substitute.js\";const S={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},R=25,z=25,$=768,I=100;var k;!function(e){e.Auto=\"auto\",e.Stack=\"stack\",e.SideBySide=\"side-by-side\"}(k||(k={}));const A=\"#ddd\",N=window.devicePixelRatio;function j(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function E(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let F=class extends l{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=k.Stack,this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=this.layout===k.Auto&&this.view.container.clientWidth<=$||this.layout===k.Stack;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=x(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return L(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(S.indicator,{[S.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?L(\"div\",{class:S.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[S.stacked]:this._hasIndicators};return L(\"div\",{class:this.classes(S.base,o)},a||L(\"div\",{class:S.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return L(\"div\",{key:e.layer.uid,class:this.classes(S.service,S.groupLayer)},L(\"div\",{class:S.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[S.groupLayerChild]:!!e.parent};return L(\"div\",{key:e.layer.uid,class:this.classes(S.service,r)},L(\"div\",{class:S.serviceCaptionContainer},L(\"div\",{class:S.serviceCaptionText},e.title)),L(\"div\",{class:S.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer;let c=null;if(\"string\"==typeof e.title)c=e.title;else if(e.title){const t=e.title,s=g(this.messages,t,r||a);c=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),p=this._hasIndicators?L(\"div\",null,L(u,{level:this.headingLevel,class:S.carouselTitle},t.title),L(u,{level:f(this.headingLevel),class:S.layerCaption},c)):c?L(u,{level:this.headingLevel,class:S.layerCaption},c):null,m=t.effectList;let h=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[S.symbolRow],t={[S.labelContainer]:!e&&!i,[S.relationshipLabelContainer]:i};h=L(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?h=this._renderLegendForRamp(e,l.opacity,m):o?h=this._renderSizeRamp(e,l.opacity):\"relationship-ramp\"===e.type?h=n(e,this.id,l.opacity,m):\"univariate-above-and-below-ramp\"===e.type?h=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,m):\"univariate-color-size-ramp\"===e.type&&(h=this._renderUnivariateColorSizeRamp(e,l.opacity,m));if(!h)return null;const y=L(\"div\",{key:d,class:S.section,id:`${d}-panel`,role:\"tabpanel\",\"aria-labelledby\":d,tabIndex:0},[p,h]);return this._sectionMap.set(d,y),y}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=c(e,t,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!0,\"horizontal\"),o=p(i,\"above\",!0,\"horizontal\"),l=p(i,\"below\",!0,\"horizontal\"),n=12,y=m(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=m(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),v=h(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?L(\"div\",{key:t},e):null)),w={display:\"flex\",flexDirection:\"column\"},x={display:\"flex\",flexDirection:\"row\"},R={marginTop:\"3px\",display:\"flex\"};C(this.container)?R.marginRight=`${v}px`:R.marginLeft=`${v}px`;const z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return L(\"div\",{class:S.layerRow,key:\"size-ramp-preview\",styles:w},L(\"div\",{class:this.classes(S.symbolContainer,S.sizeRampHorizontal),styles:x},i.infos.map(((e,t)=>L(\"div\",{key:t,class:S.symbol,bind:e.preview,afterCreate:_})))),y?L(\"div\",{class:S.univariateAboveAndBelowColorRamp,styles:R,key:\"color-ramp-preview\"},L(\"div\",{bind:y,afterCreate:_}),L(\"div\",{bind:g,afterCreate:_})):null,L(\"div\",{class:S.layerInfo},L(\"div\",{class:S.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=y(e,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!1,\"horizontal\"),o=p(i,\"full\",!1,\"horizontal\"),l=m(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=h(i,\"card\"),c=i.infos.length-1,g=i.infos.map(((e,t)=>0===t||t===c?L(\"div\",{key:t},e.label):null)),v={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",display:\"flex\"};C(this.container)?f.marginRight=`${n}px`:f.marginLeft=`${n}px`;const b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return L(\"div\",{class:S.layerRow,key:\"size-ramp-preview\",styles:v},L(\"div\",{class:this.classes(S.symbolContainer,S.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>L(\"div\",{key:t,class:S.symbol,bind:e.preview,afterCreate:_})))),L(\"div\",{class:S.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},L(\"div\",{bind:l,afterCreate:_})),L(\"div\",{class:S.layerInfo},L(\"div\",{class:S.rampLabelsContainer,styles:b},g)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=v(r,s);if(e.preview){var l,n;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return L(\"div\",{key:i,bind:e.preview,afterCreate:_});const t={[S.symbolCell]:this._hasIndicators};return L(\"div\",{key:i,class:this.classes(S.layerRow,{[S.symbolRow]:this._hasIndicators})},L(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:_}),L(\"div\",{class:this.classes(S.imageLabel,{[S.labelCell]:this._hasIndicators})},g(this.messages,e.label,!1)||\"\"))}let s=255,a=255,c=255,d=0,p=255,m=255,h=255,y=0;const v=e.symbol.color&&e.symbol.color.a,u=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;v&&(s=e.symbol.color.r,a=e.symbol.color.g,c=e.symbol.color.b,d=e.symbol.color.a*r.opacity),u&&(p=e.symbol.outline.color.r,m=e.symbol.outline.color.g,h=e.symbol.outline.color.b,y=e.symbol.outline.color.a*r.opacity);const f=null==(l=null==(n=e.symbol.color)?void 0:n.isBright)||l,b=f?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",w={background:v?`rgba(${s}, ${a}, ${c}, ${d})`:\"none\",color:f?\"black\":\"white\",textShadow:`-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,border:u?`1px solid rgba(${p}, ${m}, ${h}, ${y})`:\"none\",filter:o(t.effectList)};return L(\"div\",{key:i,class:S.layerRow},L(\"div\",{class:S.labelElement,styles:w},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return L(\"div\",{key:i,class:S.layerRow},t,L(\"div\",{class:S.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[S.imageryLayerStretchedImage]:s,[S.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return L(\"img\",{alt:g(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,i=t[0],r=t[t.length-1],a=i.symbol,o=this._hasIndicators,l=s(i.size+i.outlineSize)*N,n=s(r.size+r.outlineSize)*N,c=o?l:l+50*N,d=o?l/2+50*N:l,p=E(a),m=j(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/N+\"px\",h.style.height=h.height/N+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=A,y.stroke(),L(\"div\",{bind:h,afterCreate:_,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return L(\"div\",{class:this.classes(S.layerRow,{[S.sizeRampRow]:l})},L(\"div\",{class:S.rampLabel},l?i:r),L(\"div\",{class:S.sizeRampContainer,styles:n},L(\"div\",{bind:a,afterCreate:_,class:S.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),L(\"div\",{bind:o,afterCreate:_,class:S.sizeRampContainer,styles:c})),L(\"div\",{class:S.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,l=i.length-1,n=z,c=l>2&&!r?R*l:I,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/l}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&L(\"div\",{class:S.intervalSeparatorsContainer},L(\"div\",{class:S.intervalSeparator},\"|\"),L(\"div\",{class:S.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=a(u,d,n),{messages:b}=this,w={filter:o(s),opacity:null==t?null:`${t}`},C={justifyContent:\"center\"};return L(\"div\",{class:S.layerRow,styles:C},L(\"div\",{class:S.rampLabel},r?b[_]:_),L(\"div\",{class:S.symbolContainer},L(\"div\",{styles:w},f),g),L(\"div\",{class:S.rampLabel},r?b[v]:v))}};e([i()],F.prototype,\"activeLayerInfos\",void 0),e([i()],F.prototype,\"headingLevel\",void 0),e([i()],F.prototype,\"layout\",void 0),e([i(),w(\"esri/widgets/Legend/t9n/Legend\")],F.prototype,\"messages\",void 0),e([i(),w(\"esri/t9n/common\")],F.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],F.prototype,\"type\",void 0),e([i()],F.prototype,\"view\",void 0),e([b()],F.prototype,\"_selectSection\",null),F=e([r(\"esri.widgets.Legend.styles.Card\")],F);const T=F;export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as c,isImageryStretchedLegend as m}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(u.service,u.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(u.service,t),tabIndex:0},a,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,l,a){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,r,l,n,e.legendType))).filter((e=>!!e));a.length&&(o=h(\"div\",{class:u.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,l):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,l):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,l));if(!o)return null;const p=e.title;let c=null;if(\"string\"==typeof p)c=p;else if(p){const e=d(this.messages,p,t||i);c=y(p,t||i)&&p.title?`${p.title} (${e})`:e}const m=a?u.layerChildTable:u.layerTable,g=c?h(\"div\",{class:u.layerCaption},c):null,v={[u.layerTableSizeRamp]:n||!a};return h(\"div\",{class:this.classes(m,v)},g,o)}_renderUnivariateAboveAndBelowRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=t(e,r);if(!a)return null;const p=i(a,\"above\",!0),d=i(a,\"below\",!0),y=12,m=n(s,{width:y,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:l}),g=n(s,{width:y,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:l}),v=o(a),b=a.infos.map((e=>e.label)),_=b.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):l?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},j={marginTop:`${v}px`},I={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:c}),m||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),m?h(\"div\",{styles:j,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:I},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=p(e);if(!a)return null;const t=o(a),d=12,y=i(a,\"full\",!1),m=n(s,{width:d,height:y,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:l}),g=a.infos.length-1,v=a.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${y}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:c}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=a?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:c})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a,s){if(e.type)return this._renderLegendForElement(e,r,l,!0);let t=null;const i=m(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:c}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&a};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:l,[u.symbol]:!l},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Handles.js\";import{on as t,watch as i,init as r}from\"../core/watchUtils.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./Widget.js\";import c from\"./Legend/LegendViewModel.js\";import p from\"./Legend/styles/Card.js\";import h from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as v}from\"./support/jsxFactory.js\";const g={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends l{constructor(e,t){super(e,t),this._handles=new s,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=g.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new h,this.view=null,this.viewModel=new c}initialize(){this.own(t(this,\"view\",\"resize\",(()=>this.scheduleRender())),t(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),i(this,\"headingLevel\",(e=>{const{style:s}=this;s&&(s.headingLevel=e)})),r(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof p||e instanceof h)return e;if(\"string\"==typeof e)return\"card\"===e?new p:new h;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?p:h)(s)}return new h}render(){return v(\"div\",{class:this.classes(g.base,g.widget,this.style instanceof h?g.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=r(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const i=t(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(i,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([o(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([o(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([o(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([a()],f.prototype,\"headingLevel\",void 0),e([o(\"viewModel.hideLayersNotInCurrentView\")],f.prototype,\"hideLayersNotInCurrentView\",void 0),e([o(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([o(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([a()],f.prototype,\"iconClass\",void 0),e([a({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([o(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([a(),y(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([a()],f.prototype,\"style\",void 0),e([n(\"style\")],f.prototype,\"castStyle\",null),e([o(\"viewModel.view\")],f.prototype,\"view\",void 0),e([a()],f.prototype,\"viewModel\",void 0),f=e([d(\"esri.widgets.Legend\")],f);const L=f;export{L as default};\n"],"names":["a","h","t","_from","_to","_final","_current","_time","duration","s","effects","this","_get","_set","_transitionTo","u","e","i","declaredClass","warn","effect","error","transitioning","length","_updateForScale","scale","_","_applyTimeTransition","r","n","c","o","l","f","push","p","Math","min","m","interpolate","g","prototype","value","readOnly","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","floors","layer","hasDynamicLayers","visibleSublayers","map","toExportImageJSON","JSON","stringify","serviceSublayers","handles","remove","add","allSublayers","on","notifyChange","propertyName","id","join","filter","floorInfo","reduce","y","commitProperty","sublayers","forEach","unshift","some","dpi","format","imageFormat","transparent","imageTransparency","gdbVersion","dynamicLayers","layers","layerDefs","type","Number","flatten","originIdOf","mapLayerId","slice","reverse","toArray","layerDefinition","symbol","uniqueValueInfos","defaultSymbol","classBreakInfos","Array","isArray","details","sort","symbolErrors","floorField","view","visualVariables","find","featuresTilingScheme","getClosestInfoForScale","level","levels","field","minSize","size","minDataValue","maxSize","maxDataValue","toFixed","previous","next","String","match","integer","split","fractional","toLowerCase","indexOf","abs","floor","tolerance","strictBounds","indexes","maximumFractionDigits","A","stops","color","getColor","trailWidth","cap","width","label","Promise","all","getOpacity","startIndex","endIndex","weight","colorStops","ratio","HH","HL","LL","LH","symbolLayers","getItemAt","style","H","top","bottom","left","right","focus","infos","numClasses","L","fill","colors","labels","rotation","b","z","x","legendOptions","customValues","k","d","v","target","w","S","O","authoringInfo","C","I","univariateTheme","U","D","V","M","q","T","E","j","outlineSize","clone","material","resource","href","outline","toHex","getSizeRangeAtScale","ceil","getSize","shape","height","font","log10","notation","minimumSignificantDigits","maximumSignificantDigits","te","ie","ae","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","oe","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ue","Z","ce","ee","de","ye","he","me","pe","fe","ge","be","Se","_e","we","Le","Ee","ve","Ie","Ce","R","Re","Fe","Ve","Te","ze","xe","je","Oe","De","Me","Pe","Ae","Ue","Be","path","ke","Ne","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","destroy","end","_getParentLayerOpacity","_isGroupActive","featureReduction","get","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_isLayerInCurrentView","from","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","_constructLegendElementsForVoxellayer","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","catch","createQuery","geometry","extent","queryFeatureCount","ready","expression","valueExpression","loaded","sourceJSON","getVariableStyle","uniqueValues","enabled","transferFunction","stretchRange","Y","preview","concat","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","resolve","_legendRequest","exportImageServiceParameters","rasterFunctionDefinition","toJSON","raster","viewId","url","replace","version","substring","le","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","subLayerIds","defaultVisibility","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","max","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","P","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","backgroundColor","dotSize","effectList","has","stroke","offset","effectView","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","findIndex","field1","field2","N","normalizationField","_getFieldAlias","normField","angle","_getDomainName","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","_constructTileImageryStretchRendererElements","statistics","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","rasterInfo","pixelType","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","hasStandardTime","getStandardTimeValue","keys","colorRamps","toColor","fromColor","colorRamp","_getClusterTitle","W","X","colorName","bandName","K","axis","_effectiveRenderer","clusterMinSize","clusterMaxSize","F","showLegend","_fetchSymbol","apply","_applySymbolToRenderer","reject","portal","user","username","styleName","styleUrl","fetchCIMSymbol","fetchSymbol","toRgba","_applyColorTo3dSymbol","_getRampTitle","getField","B","_getSizeLegendElement","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","qe","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","state","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","includes","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","sqrt","$","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","markerStart","markerEnd","x1","y1","x2","y2","justifyContent","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","Auto","Stack","SideBySide","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","marginTop","display","marginRight","marginLeft","flexDirection","afterCreate","isBright","background","textShadow","border","_renderImage","alt","primitive","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","cloneNode","_renderSizeRampLines","alignItems","verticalAlign","_getStretchStopLabel","iconClass","viewModel","scheduleRender","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","aliasOf","overridable"],"sourceRoot":""}