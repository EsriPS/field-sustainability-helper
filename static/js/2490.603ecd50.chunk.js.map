{"version":3,"file":"static/js/2490.603ecd50.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js","../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{i as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i}from\"../../../chunks/quat.js\";import{a as n}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as p}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{Axis as u}from\"../../../geometry/support/Axis.js\";import w from\"../../../geometry/Point.js\";function g(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function R(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class W{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class v extends W{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(t){return R(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return g(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class F extends W{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=d(),this.tangentFrameUpWS=d(),this.tangentFrameRightWS=d(),this.tangentFrameForwardWS=d(),this.localFrameRightWS=d(),this.localFrameUpWS=d(),this.worldToLocalTransform=n(),this.localToWorldTransform=n(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,u.Z,this.tangentFrameForwardWS);const s=d();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),i(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return g(t,r,this.defaultZ)}mapToLocal(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),p(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?R(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=d();this.view.renderCoordsHelper.toRenderCoords(new w({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),p(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x,s.y,this.defaultZ):null}}function S(t,r){if(\"2d\"===t.type)return new v(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new w({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new w({x:r[0],y:r[1],spatialReference:t.spatialReference});return new F(t,e)}return null}export{v as AffineCoordinateSystem,F as SceneViewCoordinateSystem,W as SurfaceCoordinateSystem,S as createViewAlignedCoordinateSystem,g as makeMapPoint,R as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n,unwrap as l}from\"../../core/maybe.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../layers/GraphicsLayer.js\";import{createSquare as d,createRectangle as u,createCircle as m,createEllipse as g,createPolygon as y,createPolyline as v,createMultipoint as f}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as w}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as O}from\"../interactive/InteractiveToolBase.js\";let _=class extends(i(r.EventedMixin(O))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new c({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.finishToolCreation()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set(\"graphicSymbol\",e),s(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({...this.graphicProperties,geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(x.outline),this.handles.remove(x.regularVertices),this.handles.remove(x.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=f(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=w(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+b*this.view.resolution,e[1]);o.full=m([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?m(i,t,this.centered):g(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=w(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+b*this.view.resolution,e[1]);o.full=d([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?d(i,t,this.centered):u(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=v([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full,t=l(this._graphic).clone())}this.emit(\"complete\",{graphic:t,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),x.outline):this.handles.remove(x.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),x.regularVertices):this.handles.remove(x.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),x.activeVertex):this.handles.remove(x.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([p({value:!0})],_.prototype,\"centered\",null),e([p({nonNullable:!0})],_.prototype,\"defaultZ\",void 0),e([p()],_.prototype,\"drawOperation\",void 0),e([p({value:!0})],_.prototype,\"enabled\",null),e([p({value:!0})],_.prototype,\"forceUniformSize\",null),e([p({constructOnly:!0})],_.prototype,\"geometryType\",void 0),e([p()],_.prototype,\"graphic\",null),e([p({constructOnly:!0})],_.prototype,\"graphicProperties\",void 0),e([p()],_.prototype,\"graphicSymbol\",null),e([p({constructOnly:!0})],_.prototype,\"hasZ\",void 0),e([p({constructOnly:!0})],_.prototype,\"mode\",void 0),e([p()],_.prototype,\"snappingManager\",void 0),e([p()],_.prototype,\"snapToScene\",void 0),e([p({readOnly:!0})],_.prototype,\"type\",void 0),e([p({readOnly:!0})],_.prototype,\"updating\",null),e([p({constructOnly:!0,nonNullable:!0})],_.prototype,\"view\",void 0),_=e([h(\"esri.views.draw.DrawGraphicTool\")],_);const V=\"create-operation-graphic\",x={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function G(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const b=48;export{_ as DrawGraphicTool,G as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as r}from\"../../core/lang.js\";import{isNone as s,destroyMaybe as n,removeMaybe as a,isSome as o,abortMaybe as p}from\"../../core/maybe.js\";import{createTask as h}from\"../../core/promiseUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as m}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{ViewingMode as g}from\"../ViewingMode.js\";import{DrawManipulator as u}from\"./DrawManipulator.js\";import{defaultDrawingMode as y}from\"./DrawingMode.js\";import{createCoordinateHelper as v}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as _}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as x,Component as f}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as T}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as V}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as S}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{TaskPriority as w,ImmediateTask as M}from\"../support/Scheduler.js\";let b=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new S,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,s(e.elevationInfo)&&(this.elevationInfo={mode:e.hasZ?\"absolute-height\":\"on-the-ground\",offset:0})}initialize(){var e,t;this.coordinateHelper=v(this.hasZ,this.hasM,this.view.spatialReference);const i=\"3d\"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=i?i.registerTask(w.SNAPPING):M;const r=\"viewingMode\"in this.view.state?this.view.state.viewingMode:g.Local,s=\"segment\"===this.geometryType||\"multipoint\"===this.geometryType?\"polyline\":this.geometryType;this._editGeometryOperations=new T(new x(s,this.coordinateHelper,r)),this._activeComponent=new f(this.spatialReference,r),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}}))),this._manipulator=new u({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){this._editGeometryOperations=n(this._editGeometryOperations),this._frameTask=a(this._frameTask)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:y)}get hasStagedVertex(){return o(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(s(e))this.discardStagedVertex();else if(!o(this._stagedVertex)||!m(this._stagedVertex,e)){if(s(this._stagedVertex))this._stagedVertex=r(e);else{if(m(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=p(this._snappingTask),o(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;p(this._snappingTask),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return _(e,((e,t,i,r)=>{const s=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&s&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>s,cancel:i,snappingManager:this.snappingManager,snappingContext:new V({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:r,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(s&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{s&&o(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}_createManipulatorDragPipelineFreehand(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}_getDrawSurface(){if(s(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_onHold(e){p(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),this.discardStagedVertex(),void this.complete();const r=this._screenToMap(e.screenPoint);if(o(r))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=p(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){if(p(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=c(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(o(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=o(i)?\"crosshair\":null,o(i))if(o(this.snappingManager)){const t=this.snappingManager,r=new V({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=t.update(i,r),this._snappingTask=h((async e=>{const s=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);s.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=s.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),s(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(r)&&k(r,t,i)}};function k(e,t,i){const r=e.x-t.x,s=e.y-t.y;return r*r+s*s<=i}e([d()],b.prototype,\"defaultZ\",void 0),e([d({value:y})],b.prototype,\"drawingMode\",null),e([d({constructOnly:!0})],b.prototype,\"elevationDrawSurface\",void 0),e([d({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([d({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([d({constructOnly:!0})],b.prototype,\"hasM\",void 0),e([d({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([d({constructOnly:!0})],b.prototype,\"manipulators\",void 0),e([d({constructOnly:!0})],b.prototype,\"drawSurface\",void 0),e([d({constructOnly:!0})],b.prototype,\"snappingManager\",void 0),e([d({constructOnly:!0})],b.prototype,\"snappingVisualizer\",void 0),e([d()],b.prototype,\"snapToSceneEnabled\",void 0),e([d({readOnly:!0})],b.prototype,\"updating\",null),e([d({constructOnly:!0})],b.prototype,\"view\",void 0),b=e([l(\"esri.views.draw.DrawOperation\")],b);export{b as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as o}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=o(i,this.view,this.elevationInfo)),i}mapToScreen(t){let o=t;return e(this.elevationInfo)&&(o=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(o)}}class c{constructor(e){this.view=e,this.screenToMap=t=>e.toMap(t),this.mapToScreen=t=>e.toScreen(t)}}export{r as ElevationDrawSurface,c as MapDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isNone as a,isSome as i}from\"../../core/maybe.js\";var e;!function(t){t[t.WhenToolEditable=0]=\"WhenToolEditable\",t[t.WhenToolNotEditable=1]=\"WhenToolNotEditable\",t[t.Always=2]=\"Always\"}(e||(e={}));class r{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=e.WhenToolEditable){return this.addMany([t],a)[0]}addMany(t,a=e.WhenToolEditable){return t.map((t=>{const i=this._nextManipulatorId++,e={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(e),this._attached&&this._updateManipulatorAttachment(e),i}))}remove(t){if(\"number\"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let e=null,r=Number.MAX_VALUE;return this._manipulators.forEach((({id:o,manipulator:n,attached:s})=>{if(!s||!n.interactive)return;const l=n.intersectionDistance(t,a);i(l)&&l<r&&(r=l,e={id:o,manipulator:n})})),e}findById(t){if(a(t))return null;for(const a of this._manipulators.items)if(t===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===e.Always||(this._isToolEditable?t.visibilityPredicate===e.WhenToolEditable:t.visibilityPredicate===e.WhenToolNotEditable)}}export{r as ManipulatorCollection,e as ManipulatorVisibilityPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as o}from\"../../core/maybe.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{isDOMContainer as n}from\"../DOMContainer.js\";import{EditableFlag as l}from\"./interfaces.js\";import{ManipulatorCollection as h}from\"./ManipulatorCollection.js\";const c=i.getLogger(\"esri.views.interactive.InteractiveToolBase\");let p=class extends e{constructor(t){super(t),this.manipulators=new h,this.updating=!1,this.automaticManipulatorSelection=!0,this._editableFlags=new Map([[l.MANAGER,!0],[l.USER,!0]]),this._creationStartedResolver=s(),this._creationFinishedResolver=s()}set toolState(t){this._set(\"toolState\",t),this._syncVisible()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get(\"visible\")!==t&&(this._set(\"visible\",t),this._syncVisible())}get editable(){return this.getEditableFlag(l.USER)}set editable(t){this.setEditableFlag(l.USER,t)}get created(){return\"created\"===this.toolState}get cursor(){return null}initialize(){this._syncVisible()}destroy(){this.manipulators.destroy(),this._set(\"view\",null)}activate(){o(this.view)?c.error(\"Can't activate tool if view is not defined.\"):(n(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===l.USER&&this.notifyChange(\"editable\"),this.onEditableChange()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreationStarted(){return this._creationStartedResolver.promise}whenCreated(){return this._creationFinishedResolver.promise}rejectCreation(t){\"pending\"!==this.toolState&&\"creating\"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(t)}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(l.USER)&&this.getEditableFlag(l.MANAGER)}startToolCreation(){if(\"pending\"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState=\"creating\");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case\"pending\":this.startToolCreation();case\"creating\":this.created||this._creationFinishedResolver.resolve(this),this.toolState=\"created\";break;case\"created\":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}_syncVisible(){if(\"pending\"!==this.toolState)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};t([r({value:\"pending\"})],p.prototype,\"toolState\",null),t([r({constructOnly:!0})],p.prototype,\"view\",void 0),t([r({readOnly:!0})],p.prototype,\"active\",null),t([r({value:!0})],p.prototype,\"visible\",null),t([r({value:!0})],p.prototype,\"editable\",null),t([r({readOnly:!0})],p.prototype,\"created\",null),t([r({readOnly:!0})],p.prototype,\"manipulators\",void 0),t([r({readOnly:!0})],p.prototype,\"updating\",void 0),t([r()],p.prototype,\"cursor\",null),t([r()],p.prototype,\"automaticManipulatorSelection\",void 0),p=t([a(\"esri.views.interactive.InteractiveToolBase\")],p);export{p as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as o,unwrap as a}from\"../../core/maybe.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{f as s}from\"../../chunks/vec3f64.js\";import{project as i}from\"../../geometry/projection.js\";import{ViewingMode as l}from\"../ViewingMode.js\";import{move as u}from\"../draw/support/drawUtils.js\";import m from\"../../geometry/Point.js\";function f(t,n){let e=null,a=null;return c=>{if(\"cancel\"===c.action)return void(r(a)&&(a.execute({action:\"cancel\"}),e=null,a=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};\"start\"===c.action&&o(e)&&(e=new G,a=new G,n(t,e,a,c.pointerType,s)),r(e)&&e.execute(s),\"end\"===c.action&&r(e)&&(e=null,a=null)}}function p(t,n){return t.events.on(\"drag\",f(t,n))}function y(n,e){const r=[];for(const t of n)r.push(p(t,e));return t(r)}function d(t,n){const e=[t.x,t.y,t.z],r=n,o=[Math.cos(r),Math.sin(r)],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]);if(0===a)return null;o[0]/=a,o[1]/=a;const c=t=>{const n=(t.x-e[0])*o[0]+(t.y-e[1])*o[1];t.x=e[0]+n*o[0],t.y=e[1]+n*o[1]};return t=>(c(t.mapStart),c(t.mapEnd),t)}function x(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=h(t,r.mapStart.spatialReference,n)),o(e))return null;const a=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(a,c,s),{...r,translationX:a,translationY:c,translationZ:s}}}function g(t,n){return o(t)?null:t.spatialReference.equals(n)?t.clone():i(t,n)}function h(t,n,e){const r=t.geometry;if(o(r))return null;if(\"mesh\"===r.type)return E(t,r,n,e);const a=g(r,n),c=r.spatialReference;return o(a)?null:{move:(n,e,r)=>{const o=u(a.clone(),n,e,r);o.spatialReference.equals(c)?t.geometry=o:t.geometry=i(o,c)}}}function E(t,n,e,o){if(r(n.transform))return S(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let a=0,c=0,s=0;return{move:(e,r,i)=>{const u=e-a,f=r-c,p=i-s;if(u||f||p){const y=new m(n.origin.x+u,n.origin.y+f,n.origin.z+p,n.origin.spatialReference);n.centerAt(y,{geographic:o===l.Global}),t.notifyGeometryChanged(),a=e,c=r,s=i}}}}function S(t,n,e,a){const c=g(e.getOriginPoint(n.spatialReference),a),l=n.spatialReference;return o(c)?null:{move:(n,o,a)=>{const m=u(c.clone(),n,o,a);if(m.spatialReference.equals(l))e.origin=s(m.x,m.y,m.z);else{const t=i(m,l);r(t)&&(e.origin=s(t.x,t.y,t.z))}t.notifyMeshTransformChanged(),t.notifyGeometryChanged()}}}function j(t,n=null,e){let a=null;const c=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?i(t,n):t:t=>t,s={exclude:[],...e};return n=>{if(\"start\"===n.action&&(a=c(t.toMap(n.screenStart,s))),o(a))return null;const e=c(t.toMap(n.screenEnd,s));return r(e)?{...n,mapStart:a,mapEnd:e}:null}}function R(t,n){const e=t.map((t=>a(x(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,o=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:o}}}function z(t,e){const r=new Map;for(const o of e)r.set(o,n(t[o]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function w(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?v(t,t.geometry):z(t,[\"geometry\"])}function v(t,n){const e=r(n.transform)?n.transform.clone():null,o=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=o,t.notifyGeometryChanged(),r)}function M(t){const n=t.map((t=>a(w(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function q(t){return z(t,[\"symbol\"])}function D(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const o=r.mapEnd.x-t,a=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:o,mapDeltaY:a,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function b(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,o=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:o}}}function C(t,n){let r=null,o=0,a=0;return s=>{if(\"start\"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(o=s.screenStart.x-r.x,a=s.screenStart.y-r.y)),null==r)return null;const i=e(s.screenEnd.x-o,0,t.width),l=e(s.screenEnd.y-a,0,t.height),u=c(i,l);return s.screenStart=r,s.screenEnd=u,s}}class G{constructor(){this.execute=()=>{}}next(t,n=new G){return r(t)&&(this.execute=e=>{const o=t(e);r(o)&&n.execute(o)}),n}}export{G as EventPipeline,D as addMapDelta,b as addScreenDelta,d as constrainToMapAxis,f as createDragEventPipelineCallback,p as createManipulatorDragEventPipeline,y as createManipulatorDragEventPipelineMany,C as dragAtLocation,x as dragGraphic,R as dragGraphicMany,w as resetGraphic,M as resetGraphicMany,z as resetProperties,q as resetSymbol,j as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as o}from\"../dragEventPipeline.js\";import{SnappingContext as i}from\"./SnappingContext.js\";import{TaskPriority as s,ImmediateTask as p}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new o}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,y=null;const f=()=>{x=t(x),d.doneSnapping(),n(y)&&y.frameTask.remove(),y=null};return l.next((e=>(f(),e))),this.next=new o,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(s.SNAPPING):p;y={context:new i({editGeometryOperations:m.editGeometryOperations,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(y)){const t=y.context.coordinateHelper.vectorToDehydratedPoint(y.context.coordinateHelper.arrayToVector([y.originalPos.x,y.originalPos.y,y.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-y.originalPos.x,o=e.mapStart.y-y.originalPos.y,i={...e,action:\"udpate\"},s=y.context,p=d.update(t,y.context);if(e.mapEnd.x=p.x+n,e.mapEnd.y=p.y+o,\"end\"!==e.action){const e=y.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,s,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,p)||(i.mapEnd.x=t.x+n,i.mapEnd.y=t.y+o,this.next.execute(i))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&f(),e}}}export{c as SnappingPipeline};\n"],"names":["g","r","e","s","t","R","x","y","z","W","this","spatialReference","map","mapToLocal","v","o","defaultZ","transform","transformInv","a","F","view","pWS","d","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","n","localToWorldTransform","scale","resolution","referenceMapPoint","hasZ","state","camera","viewRight","renderCoordsHelper","toRenderCoords","worldBasisAtPosition","u","l","h","m","c","f","i","viewingMode","w","p","fromRenderCoords","S","type","length","j","points","b","paths","T","forEach","push","M","rings","reverse","isSelfIntersecting","U","mapToLocalMultiple","Math","round","max","abs","localToMap","doUnnormalization","sqrt","center","radius","radiusUnit","L","PI","cos","sin","_","_graphic","geometryType","mode","snappingManager","snapToScene","internalGraphicsLayer","listMode","internal","layers","add","drawOperation","makeDrawOperation","handles","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","finishToolCreation","_destroyAllVisualisations","remove","_set","canRedo","canUndo","_updateGraphic","interactive","symbol","updating","complete","onInputEvent","redo","undo","graphicProperties","geometry","graphicSymbol","initializeGraphic","notifyChange","V","outline","regularVertices","activeVertex","operationComplete","numVertices","stagedVertex","committedVertices","slice","coordinateHelper","pointToArray","splice","full","arrayToPoint","makeMapPoint","forceUniformSize","centered","isCompleted","_getCreateOperationGeometry","_createGraphic","clone","emit","graphic","cancel","onOutlineChanged","onRegularVerticesChanged","onActiveVertexChanged","O","value","prototype","nonNullable","constructOnly","readOnly","G","grabbableForEvent","events","selectable","cursor","grabbable","_createOperationCompleted","_pointerDownStates","Set","_snappingPipeline","_snappingTask","_stagedVertex","snapToSceneEnabled","elevationInfo","offset","hasM","resourceController","scheduler","_frameTask","registerTask","_editGeometryOperations","_activeComponent","data","components","vertices","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","added","updated","removed","_manipulator","drawingMode","pointerType","_snappingEnabled","size","manipulators","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","options","effectiveEnabled","discardStagedVertex","operation","updatingHandles","aborted","appendVertex","pointToVector","doneSnapping","commitStagedVertex","pointerId","delete","_onPointerMove","_onHold","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","next","_screenToMapDragEventStep","action","mapStart","createSnapDragEventPipelineStep","predicate","snappingContext","editGeometryOperations","pointer","visualizer","snappingVisualizer","mapEnd","elevationDrawSurface","drawSurface","getZ","_getDrawSurface","mapToScreen","mapPoint","stopPropagation","button","dragging","_closeOnClickVertexIndex","screenPoint","_screenToMap","hasStagedVertex","has","grabbing","update","schedule","snap","valid","apply","addPromise","promise","screenToMap","screenStart","screenEnd","_mapToScreen","vectorToDehydratedPoint","k","excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","toScreen","exclude","toMap","WhenToolEditable","WhenToolNotEditable","Always","_isToolEditable","_manipulators","_nextManipulatorId","_resourceContexts","manipulator3D","_attached","addMany","id","manipulator","visibilityPredicate","attached","_updateManipulatorAttachment","getItemAt","_detachManipulator","removeAll","destroy","items","some","Number","MAX_VALUE","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","attach","hovering","selected","detach","automaticManipulatorSelection","_editableFlags","Map","_creationStartedResolver","_creationFinishedResolver","_syncVisible","activeTool","_get","getEditableFlag","setEditableFlag","toolState","error","focus","onActivate","onDeactivate","onInputEventAfter","set","isToolEditable","internallyEditable","onEditableChange","get","resolve","reject","Error","startToolCreation","created","visible","_show","_hide","active","onShow","onHide","start","execute","getOriginPoint","move","equals","origin","notifyMeshTransformChanged","notifyGeometryChanged","centerAt","geographic","E","translationX","translationY","translationZ","filter","vertexAttributes","clonePositional","D","mapDeltaX","mapDeltaY","mapDeltaZ","mapDeltaSpatialReference","screenDeltaX","screenDeltaY","C","width","height","frameTask","context","vertexHandle","info","handle","excludeFeature","originalPos","snapOrigin","arrayToVector"],"sourceRoot":""}