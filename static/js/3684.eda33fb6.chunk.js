"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[3684],{53684:function(e,r,n){n.r(r),n.d(r,{default:function(){return S}});var i=n(37762),t=n(74165),a=n(15861),s=n(15671),l=n(43144),o=n(60136),h=n(54062),u=n(27366),p=n(44055),c=n(81608),y=n(8537),f=(n(32718),n(25243),n(63780),n(93169),n(75366),n(69912)),d=n(34999),g=n(9014),v=n(49818),w=n(95986),m=n(75391),b=n(34035),Z=n(67581),_=function(e){(0,o.Z)(n,e);var r=(0,h.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=r.apply(this,arguments))._graphicsViewMap={},e._popupTemplates=new Map,e.graphicsViews=[],e}return(0,l.Z)(n,[{key:"hitTest",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var i,a=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.graphicsViews.length){e.next=2;break}return e.abrupt("return",null);case 2:return i=this.graphicsViews.reverse().map((function(e){return e.hitTest(r)})),e.next=5,Promise.all(i);case 5:return e.abrupt("return",e.sent.flat().filter((function(e,r){return e&&(e.popupTemplate=a._popupTemplates.get(a.graphicsViews[r]),e.layer=a.layer,e.sourceLayer=a.layer),!!e})));case 6:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}()},{key:"update",value:function(e){if(this.graphicsViews){var r,n=(0,i.Z)(this.graphicsViews);try{for(n.s();!(r=n.n()).done;){r.value.processUpdate(e)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"attach",value:function(){var e=this;this.handles.add([(0,y.S1)(this.layer,"featureCollections",(function(r){e._clear();var n,t=(0,i.Z)(r);try{for(t.s();!(n=t.n()).done;){var a=n.value,s=a.popupInfo,l=a.featureSet,o=a.layerDefinition,h=v.default.fromJSON(l),u=new c.Z(h.features),y=o.drawingInfo,f=s?p.Z.fromJSON(s):null,d=(0,g.i)(y.renderer),w=new b.Z({requestUpdateCallback:function(){return e.requestUpdate()},view:e.view,graphics:u,renderer:d,container:new m.Z(e.view.featuresTilingScheme)});e._graphicsViewMap[h.geometryType]=w,e._popupTemplates.set(w,f),"polygon"!==h.geometryType||e.layer.polygonSymbol?"polyline"!==h.geometryType||e.layer.lineSymbol?"point"!==h.geometryType||e.layer.pointSymbol||(e.layer.pointSymbol=d.symbol):e.layer.lineSymbol=d.symbol:e.layer.polygonSymbol=d.symbol,e.graphicsViews.push(w),e.container.addChild(w.container)}}catch(Z){t.e(Z)}finally{t.f()}})),(0,y.S1)(this.layer,"polygonSymbol",(function(r){e._graphicsViewMap.polygon.renderer=new d.Z({symbol:r})})),(0,y.S1)(this.layer,"lineSymbol",(function(r){e._graphicsViewMap.polyline.renderer=new d.Z({symbol:r})})),(0,y.S1)(this.layer,"pointSymbol",(function(r){e._graphicsViewMap.point.renderer=new d.Z({symbol:r})}))],"georsslayerview")}},{key:"detach",value:function(){this.handles.remove("georsslayerview"),this._clear()}},{key:"moveStart",value:function(){}},{key:"moveEnd",value:function(){}},{key:"viewChange",value:function(){var e,r=(0,i.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.viewChange()}}catch(n){r.e(n)}finally{r.f()}}},{key:"_clear",value:function(){this.container.removeAllChildren();var e,r=(0,i.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(n){r.e(n)}finally{r.f()}this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}}]),n}((0,w.y)(Z.Z)),S=_=(0,u._)([(0,f.j)("esri.views.2d.layers.GeoRSSLayerView2D")],_)},75391:function(e,r,n){n.d(r,{Z:function(){return u}});var i=n(15671),t=n(43144),a=n(11752),s=n(61120),l=n(60136),o=n(54062),h=n(80613),u=function(e){(0,l.Z)(n,e);var r=(0,o.Z)(n);function n(){return(0,i.Z)(this,n),r.apply(this,arguments)}return(0,t.Z)(n,[{key:"renderChildren",value:function(e){this.attributeView.bindTextures(e.context,!1),this.children.some((function(e){return e.hasData}))&&((0,a.Z)((0,s.Z)(n.prototype),"renderChildren",this).call(this,e),e.drawPhase===h.jx.MAP&&this._renderChildren(e),this.hasHighlight()&&e.drawPhase===h.jx.HIGHLIGHT&&this._renderHighlight(e),this._boundsRenderer&&this._boundsRenderer.doRender(e))}},{key:"_renderHighlight",value:function(e){var r=e.painter.effects.highlight;r.bind(e),this._renderChildren(e,r.defines),r.draw(e),r.unbind()}}]),n}(n(82022).Z)}}]);
//# sourceMappingURL=3684.eda33fb6.chunk.js.map