"use strict";(globalThis.webpackChunkfield_sustainability_helper=globalThis.webpackChunkfield_sustainability_helper||[]).push([[9836],{46228:(t,e,i)=>{i.d(e,{I:()=>r,v:()=>o});var n=i(16889);function r(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=(0,n.uZ)(t,0,s);for(let n=0;n<4;n++)e[i+n]=Math.floor(256*h(r*a[n]))}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;for(let n=0;n<4;n++)i+=t[e+n]*l[n];return i}const a=[1,256,65536,16777216],l=[1/256,1/65536,1/16777216,1/4294967296],s=o(new Uint8ClampedArray([255,255,255,255]));function h(t){return t-Math.floor(t)}},54763:(t,e,i)=>{i.r(e),i.d(e,{previewCIMSymbol:()=>c});var n=i(17842),r=i(94304),o=i(49729),a=i(37817),l=i(69157);const s=new r.CIMSymbolRasterizer(null,!0),h=a.b_.maxSize;async function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{size:i,maxSize:r,node:a,opacity:c}=e,u=e.cimOptions||e,{feature:f,fieldMap:d,geometryType:y,style:g}=u,p=(0,o.kW)(t),m="number"==typeof i?i:null,w=Math.min(null!=m?m:p,null!=r?r:(0,n.Wz)(h));w!==p&&(t=t.clone(),(0,o.PI)(t,w,{preserveOutlineWidth:!0}));let x=3;t&&t.data&&t.data.symbol&&"CIMPointSymbol"!==t.data.symbol.type&&(x=1);const k=await s.rasterizeCIMSymbolAsync(t,f,d,y,{scaleFactor:x,style:g}),v=document.createElement("canvas");v.width=k.imageData.width,v.height=k.imageData.height,v.getContext("2d").putImageData(k.imageData,0,0);let b=v.width/x,M=v.height/x;if(null!=i&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale))){const t=b/M;b=t<=1?Math.ceil(w*t):w,M=t<=1?w:Math.ceil(w/t)}const I=new Image(b,M);I.src=v.toDataURL(),null!=c&&(I.style.opacity=`${c}`);let S=I;if(null!=e.effectView){const t={shape:{type:"image",x:0,y:0,width:b,height:M,src:I.src},fill:null,stroke:null,offset:[0,0]};S=(0,l.w)([[t]],[b,M],{effectView:e.effectView})}return a&&a.appendChild(S),S}},69157:(t,e,i)=>{i.d(e,{r:()=>y,w:()=>f});var n=i(19545),r=i(76200),o=i(86950),a=i(10064),l=i(93169),s=(i(42877),i(88367)),h=i(99653),c=i(74579);const u=(0,s.E)();function f(t,e,i){const n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i&&i.node||document.createElement("div");return null!=i.opacity&&(o.style.opacity=i.opacity.toString()),null!=i.effectView&&(o.style.filter=(0,c.wJ)(i.effectView)),u.append(o,h.KB.bind(null,t,n,r,i)),o}function d(t,e,i,n,r){switch(r){case"multiply":t[e+0]*=i[0],t[e+1]*=i[1],t[e+2]*=i[2],t[e+3]*=i[3];break;default:{const r=(0,o._Y)({r:t[e+0],g:t[e+1],b:t[e+2]});r.h=n.h,r.s=n.s,r.v=r.v/100*n.v;const a=(0,o.xr)(r);t[e+0]=a.r,t[e+1]=a.g,t[e+2]=a.b,t[e+3]*=i[3];break}}}function y(t,e,i,s,h){return function(t,e,i){return t?(0,r.default)(t,{responseType:"image"}).then((t=>{const n=t.data,r=n.width,o=n.height,a=r/o;let l=e;if(i){const t=Math.max(r,o);l=Math.min(l,t)}return{image:n,width:a<=1?Math.ceil(l*a):l,height:a<=1?l:Math.ceil(l/a)}})):Promise.reject(new a.Z("renderUtils: imageDataSize","href not provided."))}(t,e,h).then((r=>{const a=r.width?r.width:e,h=r.height?r.height:e;if(r.image&&function(t,e){return!(!t||"ignore"===e)&&("multiply"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}(i,s)){let e=r.image.width,n=r.image.height;(0,l.Z)("edge")&&/\.svg$/i.test(t)&&(e-=1,n-=1);const c=function(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement("canvas");i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px";const n=i.getContext("2d");return n.clearRect(0,0,t,e),n}(a,h);c.drawImage(r.image,0,0,e,n,0,0,a,h);const u=c.getImageData(0,0,a,h),f=[i.r/255,i.g/255,i.b/255,i.a],y=(0,o._Y)(i);for(let t=0;t<u.data.length;t+=4)d(u.data,t,f,y,s);c.putImageData(u,0,0),t=c.canvas.toDataURL("image/png")}else{const e=n.id&&n.id.findCredential(t);if(e&&e.token){const i=-1===t.indexOf("?")?"?":"&";t=`${t}${i}token=${e.token}`}}return{url:t,width:a,height:h}})).catch((function(){return{url:t,width:e,height:e}}))}},99653:(t,e,i)=>{i.d(e,{A5:()=>D,KB:()=>Z,al:()=>C,ch:()=>S,iL:()=>N,jA:()=>b,kQ:()=>M,vq:()=>v});var n=i(51995),r=i(93169),o=i(11245),a=i(22018),l=(i(80975),i(32718),i(67005));let s=0,h=0;const c=(0,r.Z)("android"),u=(0,r.Z)("chrome")||c&&c>=4?"auto":"optimizeLegibility",f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},d=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let y={},g={};const p={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},m=Math.PI;let w=1;function x(t,e){const i=t*(m/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function k(t){return t.map((t=>`${t.command} ${t.values.join(" ")}`)).join(" ").trim()}function v(t,e,i,n){if(t){if("circle"===t.type)return(0,l.u)("circle",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return(0,l.u)("ellipse",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return(0,l.u)("rect",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return(0,l.u)("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){const n="string"!=typeof t.path?k(t.path):t.path;return(0,l.u)("path",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",d:n})}if("text"===t.type)return(0,l.u)("text",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":u,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:t.x,y:t.y},t.text)}return null}function b(t){const e={fill:"none",pattern:null,linearGradient:null};if(t)if("type"in t&&"pattern"===t.type){const i="patternId-"+ ++s;e.fill=`url(#${i})`,e.pattern={id:i,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}}}else if("type"in t&&"linear"===t.type){const i="linearGradientId-"+ ++h;e.fill=`url(#${i})`,e.linearGradient={id:i,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map((t=>({offset:t.offset,color:t.color&&new n.Z(t.color).toString()})))}}else if(t){const i=new n.Z(t);e.fill=i.toString()}return e}function M(t){const e={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(t&&(null!=t.width&&(e.width=t.width),t.cap&&(e.cap=t.cap),t.join&&(e.join=t.join.toString()),t.color&&(e.color=new n.Z(t.color).toString()),t.style)){let i=null;if(t.style in p&&(i=p[t.style]),Array.isArray(i)){i=i.slice(0);for(let e=0;e<i.length;++e)i[e]*=t.width;if("butt"!==t.cap){for(let e=0;e<i.length;e+=2)i[e]-=t.width,i[e]<1&&(i[e]=1);for(let e=1;e<i.length;e+=2)i[e]+=t.width}i=i.join(",")}e.dashArray=i}return e}function I(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size&&e.size.toString()||"10pt",i.font.family=e.family||"serif"),i}function S(t){const{pattern:e,linearGradient:i}=t;if(e)return(0,l.u)("pattern",{id:e.id,patternUnits:"userSpaceOnUse",x:e.x,y:e.y,width:e.width,height:e.height},(0,l.u)("image",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>(0,l.u)("stop",{key:`${e}-stop`,offset:t.offset,"stop-color":t.color})));return(0,l.u)("linearGradient",{id:i.id,gradientUnits:"userSpaceOnUse",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function $(t,e,i){return(0,a.t)(t,(0,a.c)(t),[e,i])}function j(t,e,i,n,r){return(0,a.s)(t,(0,a.c)(t),[e,i]),t[4]=t[4]*e-n*e+n,t[5]=t[5]*i-r*i+r,t}function G(t,e){y&&"left"in y?(y.left>t&&(y.left=t),y.right<t&&(y.right=t),y.top>e&&(y.top=e),y.bottom<e&&(y.bottom=e)):y={left:t,bottom:e,right:t,top:e}}function z(t){const e=t.args,i=e.length;let n;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<i;n+=2)G(e[n],e[n+1]);g.x=e[i-2],g.y=e[i-1];break;case"H":for(n=0;n<i;++n)G(e[n],g.y);g.x=e[i-1];break;case"V":for(n=0;n<i;++n)G(g.x,e[n]);g.y=e[i-1];break;case"m":{let t=0;"x"in g||(G(g.x=e[0],g.y=e[1]),t=2);for(n=t;n<i;n+=2)G(g.x+=e[n],g.y+=e[n+1]);break}case"l":case"t":for(n=0;n<i;n+=2)G(g.x+=e[n],g.y+=e[n+1]);break;case"h":for(n=0;n<i;++n)G(g.x+=e[n],g.y);break;case"v":for(n=0;n<i;++n)G(g.x,g.y+=e[n]);break;case"c":for(n=0;n<i;n+=6)G(g.x+e[n],g.y+e[n+1]),G(g.x+e[n+2],g.y+e[n+3]),G(g.x+=e[n+4],g.y+=e[n+5]);break;case"s":case"q":for(n=0;n<i;n+=4)G(g.x+e[n],g.y+e[n+1]),G(g.x+=e[n+2],g.y+=e[n+3]);break;case"A":for(n=0;n<i;n+=7)G(e[n+5],e[n+6]);g.x=e[i-2],g.y=e[i-1];break;case"a":for(n=0;n<i;n+=7)G(g.x+=e[n+5],g.y+=e[n+6])}}function A(t,e,i){const n=f[t.toLowerCase()];let r;"number"==typeof n&&(n?e.length>=n&&(r={action:t,args:e.slice(0,e.length-e.length%n)},i.push(r),z(r)):(r={action:t,args:[]},i.push(r),z(r)))}function D(t){const e={x:0,y:0,width:0,height:0};if("circle"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if("ellipse"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if("image"===t.type||"rect"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if("path"===t.type){const i=function(t){const e=("string"!=typeof t.path?k(t.path):t.path).match(d),i=[];if(y={},g={},!e)return null;let n="",r=[];const o=e.length;for(let l=0;l<o;++l){const t=e[l],o=parseFloat(t);isNaN(o)?(n&&A(n,r,i),r=[],n=t):r.push(o)}A(n,r,i);const a={x:0,y:0,width:0,height:0};return y&&"left"in y&&(a.x=y.left,a.y=y.top,a.width=y.right-y.left,a.height=y.bottom-y.top),a}(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function C(t){const e={x:0,y:0,width:0,height:0};let i=null,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const o of t)i?(i.x=Math.min(i.x,o.x),i.y=Math.min(i.y,o.y),n=Math.max(n,o.x+o.width),r=Math.max(r,o.y+o.height)):(i=e,i.x=o.x,i.y=o.y,n=o.x+o.width,r=o.y+o.height);return i&&(i.width=n-i.x,i.height=r-i.y),i}function N(t,e,i,n,r,l,s,h,c){let u=(s&&l?x(l,e):e)/2,f=(s&&l?x(l,i):i)/2;if(c){const t=c[0],e=c[1];u=(s&&l?x(l,t):t)/2,f=(s&&l?x(l,e):e)/2}const d=t.width+n,y=t.height+n,g=(0,o.c)(),p=(0,o.c)();let m=!1;if(r&&0!==d&&0!==y){const t=e!==i?e/i:d/y,n=e>i?e:i;let r=1,o=1;isNaN(n)||(t>1?(r=n/d,o=n/t/y):(o=n/y,r=n*t/d)),(0,a.m)(p,p,j(g,r,o,u,f)),m=!0}const w=t.x+(d-n)/2,k=t.y+(y-n)/2;if((0,a.m)(p,p,$(g,u-w,f-k)),!m&&(d>e||y>i)){const t=d/e>y/i,n=(t?e:i)/(t?d:y);(0,a.m)(p,p,j(g,n,n,w,k))}return l&&(0,a.m)(p,p,function(t,e,i,n){const r=e%360*Math.PI/180;(0,a.r)(t,(0,a.c)(t),r);const o=Math.cos(r),l=Math.sin(r),s=t[4],h=t[5];return t[4]=s*o-h*l+n*l-i*o+i,t[5]=h*o+s*l-i*l-n*o+n,t}(g,l,w,k)),h&&(0,a.m)(p,p,$(g,h[0],h[1])),`matrix(${p[0]},${p[1]},${p[2]},${p[3]},${p[4]},${p[5]})`}function Z(t,e,i,n){const r=[],o=[],a=++w,s=function(t,e,i){const n=null==t?void 0:t.effects.find((t=>"bloom"===t.type));if(!n)return null;const{strength:r,radius:o}=n,a=r>0?o:0,s=(r+a)*e,h=4*r+1;return(0,l.u)("filter",{id:`bloom${i}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,l.u)("feMorphology",{operator:"dilate",radius:(r+.5*a)*(5**(e/100)*(.4+e/100)),in:"SourceGraphic",result:"dilate"}),(0,l.u)("feGaussianBlur",{in:"dilate",stdDeviation:s/25,result:"blur"}),(0,l.u)("feGaussianBlur",{in:"blur",stdDeviation:s/50,result:"intensityBlur"}),(0,l.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,l.u)("feFuncR",{type:"linear",slope:h}),(0,l.u)("feFuncG",{type:"linear",slope:h}),(0,l.u)("feFuncB",{type:"linear",slope:h})),(0,l.u)("feMerge",null,(0,l.u)("feMergeNode",{in:"intensityBlur"}),(0,l.u)("feMergeNode",{in:"intensityBrightness"}),(0,l.u)("feGaussianBlur",{stdDeviation:r/10})))}(null==n?void 0:n.effectView,e,a);let h=null;if(s){var c;const t=null==n||null==(c=n.effectView)?void 0:c.effects.find((t=>"bloom"===t.type)),r=(t.strength?t.strength+t.radius/2:0)/3,o=e+e*r,a=i+i*r;h=[Math.max(o,10),Math.max(a,10)]}for(const u of t){const t=[],a=[];let s=0,c=0,f=0;for(const e of u){const{shape:i,fill:n,stroke:o,font:l,offset:h}=e;s+=o&&o.width||0;const u=b(n),d=M(o),y="text"===i.type?I(i,l):null;r.push(S(u)),t.push(v(i,u.fill,d,y)),a.push(D(i)),h&&(c+=h[0],f+=h[1])}const d=N(C(a),e,i,s,null==n?void 0:n.scale,null==n?void 0:n.rotation,null==n?void 0:n.useRotationSize,[c,f],h);o.push((0,l.u)("g",{transform:d},t))}return null!=n&&n.useRotationSize&&null!=n&&n.rotation&&(e=x(null==n?void 0:n.rotation,e),i=x(null==n?void 0:n.rotation,i)),s&&(e=h[0],i=h[1]),(0,l.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:i,style:"display: block;"},s,(0,l.u)("defs",null,r),s?(0,l.u)("g",{filter:`url(#bloom${a})`},o):o)}},91935:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(10064),r=i(32718),o=i(58971);function a(t,e,i,n,o){const a=t.referencesGeometry()&&o?s(e,n,o):e,l=t.repurposeFeature(a);try{return t.evaluate({...i,$feature:l})}catch(h){return r.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",h),null}}const l=new Map;function s(t,e,i){const{transform:a,hasZ:s,hasM:h}=i;l.has(e)||l.set(e,function(t){const e={};switch(t){case"esriGeometryPoint":return(t,i,n,r)=>(0,o.U1)(i,e,t,n,r);case"esriGeometryPolygon":return(t,i,n,r)=>(0,o.Ie)(i,e,t,n,r);case"esriGeometryPolyline":return(t,i,n,r)=>(0,o.G6)(i,e,t,n,r);case"esriGeometryMultipoint":return(t,i,n,r)=>(0,o.J9)(i,e,t,n,r);default:return r.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new n.Z("mapview-arcade",`Unable to handle geometryType: ${t}`)),t=>t}}(e));const c=l.get(e)(t.geometry,a,s,h);return{...t,geometry:c}}}}]);
//# sourceMappingURL=9836.90d397b0.chunk.js.map