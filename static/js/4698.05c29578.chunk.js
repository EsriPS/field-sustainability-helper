"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[4698,3806],{24698:function(n,e,t){t.r(e),t.d(e,{executeScript:function(){return hn},extend:function(){return fn},extractFieldLiterals:function(){return dn},findFunctionCalls:function(){return wn},functionHelper:function(){return sn},referencesFunction:function(){return vn},referencesMember:function(){return gn},validateScript:function(){return pn}});var r=t(37762),a=t(72741),o=t(19191),i=t(62357),u=t(5431),c=t(790),l=t(47488),s=t(40778),f=t(44715),h=t(28183),d=t(29876),p=t(44241),g=t(97512),v=t(83806),w=t(12271),m=t(85265),E=t(82197),y=t(63425),I=t(66978),N=t(53866),A=t(32238),b=t(77577),R=t(7882),C=t(80885),S=t(29909),Z=t(78952);function U(n){return n&&"function"==typeof n.then}var T=100;function F(n){return n instanceof Error?(0,I.d1)(n):(0,I.d1)(new Error(n))}function O(n){return(0,I.DB)(n)}function x(n,e){for(var t=[],r=0;r<e.arguments.length;r++)t.push(L(n,e.arguments[r]));return(0,I.$6)(t)}function D(n,e,t){return(0,I.Ue)((function(r,a){if(!0===e.preparsed)return r(t(n,null,e.arguments));x(n,e).then((function(o){try{r(t(n,e,o))}catch(i){a(i)}}),a)}))}function H(n,e,t){try{if(!0===e.preparsed){var r=t(n,null,e.arguments);return U(r)?r:(0,I.DB)(r)}return x(n,e).then((function(r){try{var a=t(n,e,r);return U(a)?a:(0,I.DB)(a)}catch(o){return F(o)}}))}catch(a){return F(a)}}function L(n,e,t){try{if(e.breakpoint&&!0!==t)return e.breakpoint().then((function(){return L(n,e,!0)}));switch(e.type){case"VariableDeclarator":return function(n,e){try{var r=null;return r=null===e.init?(0,I.DB)(null):L(n,e.init),null!==n.localScope?r.then((function(t){return(0,I.Ue)((function(r){if(t===f.v&&(t=null),"Identifier"!==e.id.type)throw new Error("Can only assign a regular variable");var a=e.id.name.toLowerCase();n.localScope[a]={value:t,valueset:!0,node:e.init},r(f.v)}))})):r.then((function(t){return(0,I.Ue)((function(r){if("Identifier"!==e.id.type)throw new Error("Can only assign a regular variable");var a=e.id.name.toLowerCase();t===f.v&&(t=null),n.globalScope[a]={value:t,valueset:!0,node:e.init},r(f.v)}))}))}catch(t){return F(t)}}(n,e);case"VariableDeclaration":return Y(n,e,0);case"BlockStatement":return function(n,e){try{return V(n,e,0)}catch(t){return F(t)}}(n,e);case"FunctionDeclaration":return function(n,e){try{var r=e.id.name.toLowerCase();return n.globalScope[r]={valueset:!0,node:null,value:new c.Z(e,n)},(0,I.DB)(f.v)}catch(t){return F(t)}}(n,e);case"ReturnStatement":return function(n,e){return(0,I.Ue)((function(t,r){null===e.argument?t(new f.R(f.v)):L(n,e.argument).then((function(n){try{t(new f.R(n))}catch(e){r(e)}}),r)}))}(n,e);case"IfStatement":return function(n,e){return(0,I.Ue)((function(t,r){"AssignmentExpression"!==e.test.type&&"UpdateExpression"!==e.test.type?L(n,e.test).then((function(a){try{!0===a?L(n,e.consequent).then(t,r):!1===a?null!==e.alternate?L(n,e.alternate).then(t,r):t(f.v):r(new Error((0,h.H5)(e.test,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION")))}catch(o){r(o)}}),r):r(new Error((0,h.H5)(e.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}(n,e);case"ExpressionStatement":return function(n,e){try{return"AssignmentExpression"===e.expression.type?L(n,e.expression):(e.expression.type,L(n,e.expression).then((function(n){return(0,I.Ue)((function(e){e(n===f.v?f.v:new f.I(n))}))})))}catch(t){return(0,I.d1)(t)}}(n,e);case"UpdateExpression":return function(n,e){try{var t=e.argument;if("MemberExpression"===t.type){var r={t:null};return L(n,t.object).then((function(e){var a=null;return r.t=e,!0===t.computed?a=L(n,t.property):"Identifier"===t.property.type&&(a=(0,I.DB)(t.property.name)),a})).then((function(n){return(0,I.Ue)((function(t){var a,o=r.t;if((0,f.a)(o)){if(!(0,f.j)(n))throw new Error("Invalid Parameter");if(n<0&&(n=o.length+n),n<0||n>=o.length)throw new Error("Assignment outside of array bounds");a=(0,f.t)(o[n]),o[n]="++"===e.operator?a+1:a-1}else if(o instanceof i.Z){if(!1===(0,f.f)(n))throw new Error("Dictionary accessor must be a string");if(!0!==o.hasField(n))throw new Error("Invalid Parameter");a=(0,f.t)(o.field(n)),o.setField(n,"++"===e.operator?a+1:a-1)}else{if(!(0,f.k)(o))throw(0,f.b)(o)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,f.f)(n))throw new Error("Feature accessor must be a string");if(!0!==o.hasField(n))throw new Error("Invalid Parameter");a=(0,f.t)(o.field(n)),o.setField(n,"++"===e.operator?a+1:a-1)}!1===e.prefix?t(a):t("++"===e.operator?a+1:a-1)}))}))}return(0,I.Ue)((function(t,r){var a,o="Identifier"===e.argument.type?e.argument.name.toLowerCase():"";if(!o)throw new Error("Invalid identifier");return null!==n.localScope&&void 0!==n.localScope[o]?(a=(0,f.t)(n.localScope[o].value),n.localScope[o]={value:"++"===e.operator?a+1:a-1,valueset:!0,node:e},void(!1===e.prefix?t(a):t("++"===e.operator?a+1:a-1))):void 0!==n.globalScope[o]?(a=(0,f.t)(n.globalScope[o].value),n.globalScope[o]={value:"++"===e.operator?a+1:a-1,valueset:!0,node:e},void(!1===e.prefix?t(a):t("++"===e.operator?a+1:a-1))):void r(new Error("Variable not recognised"))}))}catch(a){return(0,I.d1)(a)}}(n,e);case"AssignmentExpression":return function(n,e){return(0,I.Ue)((function(t,r){var a=e.left;if("MemberExpression"===a.type)L(n,e.right).then((function(o){try{L(n,a.object).then((function(u){try{var c=null;if(!0===a.computed)c=L(n,a.property);else{if("Identifier"!==a.property.type)throw new Error("Expected computed or identifier for assignemnt target");c=(0,I.DB)(a.property.name)}c.then((function(n){try{if((0,f.a)(u)){if(!(0,f.j)(n))throw new Error("Invalid Parameter");if(n<0&&(n=u.length+n),n<0||n>u.length)throw new Error("Assignment outside of array bounds");if(n===u.length){if("="!==e.operator)throw new Error("Invalid Parameter");u[n]=j(o,e.operator,u[n],e)}else u[n]=j(o,e.operator,u[n],e)}else if(u instanceof i.Z){if(!1===(0,f.f)(n))throw new Error("Dictionary accessor must be a string");if(!0===u.hasField(n))u.setField(n,j(o,e.operator,u.field(n),e));else{if("="!==e.operator)throw new Error("Invalid Parameter");u.setField(n,j(o,e.operator,null,e))}}else{if(!(0,f.k)(u))throw(0,f.b)(u)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,f.f)(n))throw new Error("Feature accessor must be a string");if(!0===u.hasField(n))u.setField(n,j(o,e.operator,u.field(n),e));else{if("="!==e.operator)throw new Error("Invalid Parameter");u.setField(n,j(o,e.operator,null,e))}}t(f.v)}catch(a){r(a)}}),r)}catch(l){r(l)}}),r)}catch(u){r(u)}}),r);else{var o=a.name.toLowerCase();if(null!==n.localScope&&void 0!==n.localScope[o])return void L(n,e.right).then((function(a){try{n.localScope[o]={value:j(a,e.operator,n.localScope[o].value,e),valueset:!0,node:e.right},t(f.v)}catch(i){r(i)}}),r);void 0!==n.globalScope[o]?L(n,e.right).then((function(a){try{n.globalScope[o]={value:j(a,e.operator,n.globalScope[o].value,e),valueset:!0,node:e.right},t(f.v)}catch(i){r(i)}}),r):r(new Error("Cannot assign undeclared variable"))}}))}(n,e);case"ForStatement":return function(n,e){try{return null!==e.init?L(n,e.init).then((function(){return(0,I.Ue)((function(t,r){k(n,e,{testResult:!0,lastAction:f.v},(function(n){t(n)}),(function(n){r(n)}),0)}))})):(0,I.Ue)((function(t,r){k(n,e,{testResult:!0,lastAction:f.v},(function(n){t(n)}),(function(n){r(n)}),0)}))}catch(t){return(0,I.d1)(t)}}(n,e);case"ForInStatement":return function(n,e){return(0,I.Ue)((function(t,r){L(n,e.right).then((function(a){try{("VariableDeclaration"===e.left.type?L(n,e.left):(0,I.DB)()).then((function(){try{var o="";if("VariableDeclaration"===e.left.type){var u=e.left.declarations[0].id;"Identifier"===u.type&&(o=u.name)}else"Identifier"===e.left.type&&(o=e.left.name);if(!o)throw new Error((0,h.H5)(e,"RUNTIME","INVALIDVARIABLE"));o=o.toLowerCase();var c=null;if(null!==n.localScope&&void 0!==n.localScope[o]&&(c=n.localScope[o]),null===c&&void 0!==n.globalScope[o]&&(c=n.globalScope[o]),null===c)return void r(new Error((0,h.H5)(e,"RUNTIME","VARIABLENOTDECLARED")));(0,f.a)(a)||(0,f.f)(a)?z(n,e,a,{reject:r,resolve:t},c):(0,f.b)(a)?function(n,e,t,r,a,o){try{if(void 0===o&&(o="i"),0===t.length)return void r.resolve(f.v);B(n,e,t,a,0,o,(function(n){r.resolve(n)}),(function(n){r.reject(n)}),0)}catch(i){r.reject(i)}}(n,e,a,{reject:r,resolve:t},c):a instanceof i.Z||(0,f.k)(a)?function(n,e,t,r,o){try{z(n,e,t.keys(),r,o,"k")}catch(a){r.reject(a)}}(n,e,a,{reject:r,resolve:t},c):(0,f.q)(a)?_(a.iterator(n.abortSignal),n,e,a,c,(function(n){t(n)}),(function(n){r(n)}),0):z(n,e,[],{reject:r,resolve:t},c)}catch(l){r(l)}}),r)}catch(o){r(o)}}),r)}))}(n,e);case"BreakStatement":return(0,I.DB)(f.m);case"EmptyStatement":return(0,I.DB)(f.v);case"ContinueStatement":return(0,I.DB)(f.n);case"TemplateElement":return function(n,e){return(0,I.DB)(e.value?e.value.cooked:"")}(0,e);case"TemplateLiteral":return function(n,e){return(0,I.Ue)((function(t){var a=[];(0,d.Dt)(e.expressions,(function(e,t,r,o){return L(n,t).then((function(n){a[r]=(0,f.d)(n)}))})).then((function(){var n,o="",i=0,u=(0,r.Z)(e.quasis);try{for(u.s();!(n=u.n()).done;){var c=n.value;o+=c.value?c.value.cooked:"",!1===c.tail&&(o+=a[i]?a[i]:"",i++)}}catch(l){u.e(l)}finally{u.f()}t(o)}))}))}(n,e);case"Identifier":return W(n,e);case"MemberExpression":return function(n,e){try{return L(n,e.object).then((function(t){try{return null===t?(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","NOTFOUND"))):!1===e.computed?"Identifier"===e.property.type?t instanceof i.Z||(0,f.k)(t)?(0,I.DB)(t.field(e.property.name)):t instanceof A.Z?(0,I.DB)(q(t,e.property.name,n,e)):(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE"))):(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE"))):L(n,e.property).then((function(r){return(0,I.Ue)((function(a,o){if(t instanceof i.Z||(0,f.k)(t))(0,f.f)(r)?a(t.field(r)):o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if(t instanceof A.Z)(0,f.f)(r)?a(q(t,r,n,e)):o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.a)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));a(t[r])}else o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.b)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));a(t.get(r))}else o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else if((0,f.f)(t))if((0,f.j)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new Error((0,h.H5)(e,"RUNTIME","OUTOFBOUNDS"));a(t[r])}else o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")));else o(new Error((0,h.H5)(e,"RUNTIME","INVALIDTYPE")))}))}))}catch(r){return F(r)}}))}catch(t){return F(t)}}(n,e);case"Literal":return O(e.value);case"CallExpression":return function(n,e){try{if("Identifier"!==e.callee.type)return F((0,h.H5)(e,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==n.localScope&&void 0!==n.localScope[e.callee.name.toLowerCase()]){var r=n.localScope[e.callee.name.toLowerCase()];return r.value instanceof f.N?r.value.fn(n,e):r.value instanceof c.Z?rn(n,e,r.value.definition):F((0,h.H5)(e,"RUNTIME","NOTAFUNCTION"))}if(void 0!==n.globalScope[e.callee.name.toLowerCase()]){var a=n.globalScope[e.callee.name.toLowerCase()];return a.value instanceof f.N?a.value.fn(n,e):a.value instanceof c.Z?rn(n,e,a.value.definition):F((0,h.H5)(e,"RUNTIME","NOTAFUNCTION"))}return F((0,h.H5)(e,"RUNTIME","NOTFOUND"))}catch(t){return F(t)}}(n,e);case"UnaryExpression":return function(n,e){try{return L(n,e.argument).then((function(n){return(0,I.Ue)((function(t,r){(0,f.i)(n)&&"!"===e.operator?t(!n):"-"===e.operator?t(-1*(0,f.t)(n)):"+"===e.operator?t(1*(0,f.t)(n)):"~"===e.operator?t(~(0,f.t)(n)):r(new Error((0,h.H5)(e,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR")))}))}))}catch(t){return F(t)}}(n,e);case"BinaryExpression":return function(n,e){try{return(0,I.$6)([L(n,e.left),L(n,e.right)]).then((function(n){return(0,I.Ue)((function(t,r){var a=n[0],o=n[1];switch(e.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":t((0,f.h)((0,f.t)(a),(0,f.t)(o),e.operator));case"==":t((0,f.e)(a,o));break;case"!=":t(!(0,f.e)(a,o));break;case"<":case">":case"<=":case">=":t((0,f.g)(a,o,e.operator));break;case"+":(0,f.f)(a)||(0,f.f)(o)?t((0,f.d)(a)+(0,f.d)(o)):t((0,f.t)(a)+(0,f.t)(o));break;case"-":t((0,f.t)(a)-(0,f.t)(o));break;case"*":t((0,f.t)(a)*(0,f.t)(o));break;case"/":t((0,f.t)(a)/(0,f.t)(o));break;case"%":t((0,f.t)(a)%(0,f.t)(o));break;default:r(new Error((0,h.H5)(e,"RUNTIME","OPERATORNOTRECOGNISED")))}}))}))}catch(t){return F(t)}}(n,e);case"LogicalExpression":return function(n,e){return(0,I.Ue)((function(t,r){"AssignmentExpression"!==e.left.type&&"UpdateExpression"!==e.left.type?"AssignmentExpression"!==e.right.type&&"UpdateExpression"!==e.right.type?L(n,e.left).then((function(a){try{if(!(0,f.i)(a))throw new Error((0,h.H5)(e,"RUNTIME","ONLYBOOLEAN"));switch(e.operator){case"||":!0===a?t(a):L(n,e.right).then((function(n){try{if(!(0,f.i)(n))throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"));t(n)}catch(a){r(a)}}),r);break;case"&&":!1===a?t(a):L(n,e.right).then((function(n){try{if(!(0,f.i)(n))throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"));t(n)}catch(a){r(a)}}),r);break;default:throw new Error((0,h.H5)(e,"RUNTIME","ONLYORORAND"))}}catch(o){r(o)}}),r):r(new Error((0,h.H5)(e.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))):r(new Error((0,h.H5)(e.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION")))}))}(n,e);case"ArrayExpression":return function(n,e){try{for(var r=[],a=0;a<e.elements.length;a++)r.push(L(n,e.elements[a]));return(0,I.$6)(r).then((function(n){return(0,I.Ue)((function(t,r){for(var a=0;a<n.length;a++){if((0,f.c)(n[a]))return void r(new Error((0,h.H5)(e,"RUNTIME","FUNCTIONCONTEXTILLEGAL")));n[a]===f.v&&(n[a]=null)}t(n)}))}))}catch(t){return F(t)}}(n,e);case"ObjectExpression":return function(n,e){try{for(var t=[],r=0;r<e.properties.length;r++)t.push(L(n,e.properties[r]));return(0,I.$6)(t).then((function(n){return(0,I.Ue)((function(e){for(var t={},r=0;r<n.length;r++){var a=n[r];if((0,f.c)(a.value))throw new Error("Illegal Argument");if(!1===(0,f.f)(a.key))throw new Error("Illegal Argument");a.value===f.v?t[a.key.toString()]=null:t[a.key.toString()]=a.value}var o=new i.Z(t);o.immutable=!1,e(o)}))}))}catch(a){return F(a)}}(n,e);case"Property":return function(n,e){try{return L(n,e.value).then((function(t){return(0,I.Ue)((function(r){"Identifier"===e.key.type?r({key:e.key.name,value:t}):L(n,e.key).then((function(n){r({key:n,value:t})}))}))}))}catch(t){return(0,I.d1)(t)}}(n,e);default:return F((0,h.H5)(e,"RUNTIME","UNREOGNISED"))}}catch(a){return F(a)}}function M(n,e,t){try{return L(n,e.body).then((function(r){try{return t.lastAction=r,t.lastAction===f.m||t.lastAction instanceof f.R?(t.testResult=!1,(0,I.DB)(t)):null!==e.update?L(n,e.update).then((function(){return(0,I.DB)(t)})):(0,I.DB)(t)}catch(a){return(0,I.d1)(a)}}))}catch(r){return(0,I.d1)(r)}}function k(n,e,t,r,a,o){try{(function(n,e,t){try{return null!==e.test?L(n,e.test).then((function(r){try{return!0===n.abortSignal.aborted?(0,I.d1)(new Error("Cancelled")):(t.testResult=r,!1===t.testResult?(0,I.DB)(t):!0!==t.testResult?(0,I.d1)(new Error((0,h.H5)(e,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))):M(n,e,t))}catch(a){return(0,I.d1)(a)}})):M(n,e,t)}catch(r){return(0,I.d1)(r)}})(n,e,t).then((function(){try{!0===t.testResult?++o>T?(o=0,setTimeout((function(){k(n,e,t,r,a,o)}),0)):k(n,e,t,r,a,o):t.lastAction instanceof f.R?r(t.lastAction):r(f.v)}catch(i){a(i)}}),(function(n){a(n)}))}catch(i){a(i)}}function P(n,e,t,r,a,o,i,u,c,l){try{if(r<=o)return void u(f.v);a.value="k"===i?t[o]:o,L(n,e.body).then((function(s){try{s instanceof f.R?u(s):s===f.m?u(f.v):++l>T?(l=0,setTimeout((function(){P(n,e,t,r,a,o+1,i,u,c,l)}),0)):P(n,e,t,r,a,o+1,i,u,c,l)}catch(h){c(h)}}),(function(n){c(n)}))}catch(s){c(s)}}function B(n,e,t,r,a,o,i,u,c){try{if(t.length()<=a)return void i(f.v);r.value="k"===o?t.get(a):a,L(n,e.body).then((function(l){l instanceof f.R?i(l):l===f.m?i(f.v):++c>T?(c=0,setTimeout((function(){B(n,e,t,r,a+1,o,i,u,c)}),0)):B(n,e,t,r,a+1,o,i,u,c)}),(function(n){u(n)}))}catch(l){u(l)}}function z(n,e,t,r,a,o){try{if(void 0===o&&(o="i"),0===t.length)return void r.resolve(f.v);P(n,e,t,t.length,a,0,o,(function(n){r.resolve(n)}),(function(n){r.reject(n)}),0)}catch(i){r.reject(i)}}function _(n,e,t,r,a,o,i,c){try{n.next().then((function(l){try{if(null===l)o(f.v);else{var s=u.Z.createFromGraphicLikeObject(l.geometry,l.attributes,r);s._underlyingGraphic=l,a.value=s,L(e,t.body).then((function(u){try{u===f.m?o(f.v):u instanceof f.R?o(u):++c>T?(c=0,setTimeout((function(){_(n,e,t,r,a,o,i,c)}),0)):_(n,e,t,r,a,o,i,c)}catch(l){i(l)}}),(function(n){i(n)}))}}catch(h){i(h)}}),(function(n){i(n)}))}catch(l){i(l)}}function j(n,e,t,r){switch(e){case"=":return n===f.v?null:n;case"/=":return(0,f.t)(t)/(0,f.t)(n);case"*=":return(0,f.t)(t)*(0,f.t)(n);case"-=":return(0,f.t)(t)-(0,f.t)(n);case"+=":return(0,f.f)(t)||(0,f.f)(n)?(0,f.d)(t)+(0,f.d)(n):(0,f.t)(t)+(0,f.t)(n);case"%=":return(0,f.t)(t)%(0,f.t)(n);default:throw new Error((0,h.H5)(r,"RUNTIME","OPERATORNOTRECOGNISED"))}}function V(n,e,t){try{return t>=e.body.length?(0,I.DB)(f.v):(0,I.Ue)((function(r,a){L(n,e.body[t]).then((function(o){try{o instanceof f.R||o===f.m||o===f.n||t===e.body.length-1?r(o):V(n,e,t+1).then(r,a)}catch(i){a(i)}}),a)}))}catch(r){return F(r)}}function Y(n,e,t){return(0,I.Ue)((function(r,a){t>=e.declarations.length?r(f.v):L(n,e.declarations[t]).then((function(){t===e.declarations.length-1?r(f.v):Y(n,e,t+1).then((function(){r(f.v)}),a)}),a)}))}var G=0;function q(n,e,t,r){var a;switch(e=e.toLowerCase()){case"hasz":var o=n.hasZ;return void 0!==o&&o;case"hasm":var u=n.hasM;return void 0!==u&&u;case"spatialreference":var c=n.spatialReference._arcadeCacheId;if(void 0===c){var f=!0;Object.freeze&&Object.isFrozen(n.spatialReference)&&(f=!1),f&&(G++,n.spatialReference._arcadeCacheId=G,c=G)}var d=new i.Z({wkt:n.spatialReference.wkt,wkid:n.spatialReference.wkid});return void 0!==c&&(d._arcadeCacheId="SPREF"+c.toString()),d}switch(n.type){case"extent":switch(e){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":var p=n[e];return void 0!==p?p:null;case"type":return"Extent"}break;case"polygon":switch(e){case"rings":return void 0===(a=n.cache._arcadeCacheId)&&(a=++G,n.cache._arcadeCacheId=a),new l.Z(n.rings,n.spatialReference,!0===n.hasZ,!0===n.hasM,a);case"type":return"Polygon"}break;case"point":switch(e){case"x":case"y":case"z":case"m":return void 0!==n[e]?n[e]:null;case"type":return"Point"}break;case"polyline":switch(e){case"paths":return void 0===(a=n.cache._arcadeCacheId)&&(a=++G,n.cache._arcadeCacheId=a),new l.Z(n.paths,n.spatialReference,!0===n.hasZ,!0===n.hasM,a);case"type":return"Polyline"}break;case"multipoint":switch(e){case"points":return void 0===(a=n.cache._arcadeCacheId)&&(a=++G,n.cache._arcadeCacheId=a),new s.Z(n.points,n.spatialReference,!0===n.hasZ,!0===n.hasM,a,1);case"type":return"Multipoint"}}throw new Error((0,h.H5)(r,"RUNTIME","PROPERTYNOTFOUND"))}function W(n,e){return(0,I.Ue)((function(t,r){var a=e.name.toLowerCase();if(null===n.localScope||void 0===n.localScope[a])if(void 0===n.globalScope[a])r(new Error((0,h.H5)(e,"RUNTIME","VARIABLENOTFOUND")));else{var o=n.globalScope[a];!0===o.valueset?t(o.value):null!==o.d?o.d.then(t,r):(o.d=L(n,o.node),o.d.then((function(n){try{o.value=n,o.valueset=!0,t(n)}catch(a){r(a)}}),r))}else{var i=n.localScope[a];!0===i.valueset?t(i.value):null!==i.d?i.d.then(t,r):(i.d=L(n,i.node),i.d.then((function(n){try{i.value=n,i.valueset=!0,t(n)}catch(a){r(a)}}),r))}}))}var J={};function $(n){return null===n?"":(0,f.a)(n)||(0,f.b)(n)?"Array":(0,f.o)(n)?"Date":(0,f.f)(n)?"String":(0,f.i)(n)?"Boolean":(0,f.j)(n)?"Number":n instanceof o.Z?"Attachment":n instanceof a.Z?"Portal":n instanceof i.Z?"Dictionary":(0,f.k)(n)?"Feature":n instanceof R.Z?"Point":n instanceof C.Z?"Polygon":n instanceof S.Z?"Polyline":n instanceof b.Z?"Multipoint":n instanceof N.Z?"Extent":(0,f.c)(n)?"Function":(0,f.q)(n)?"FeatureSet":(0,f.r)(n)?"FeatureSetCollection":n===f.v?"":"number"==typeof n&&isNaN(n)?"Number":"Unrecognised Type"}function K(n,e,t,r){return(0,I.Ue)((function(a,o){L(n,e.arguments[t]).then((function(i){try{if((0,f.e)(i,r))return void L(n,e.arguments[t+1]).then(a,o);var u=e.arguments.length-t;return 1===u?void L(n,e.arguments[t]).then(a,o):(2===u&&a(null),3===u?void L(n,e.arguments[t+2]).then(a,o):void K(n,e,t+2,r).then(a,o))}catch(c){o(c)}}),o)}))}function Q(n,e,t,r){return(0,I.Ue)((function(a,o){!0===r?L(n,e.arguments[t+1]).then(a,o):3===e.arguments.length-t?L(n,e.arguments[t+2]).then(a,o):L(n,e.arguments[t+2]).then((function(r){try{if(!1===(0,f.i)(r))return void o(new Error("WHEN needs boolean test conditions"));Q(n,e,t+2,r).then(a,o)}catch(i){o(i)}}))}))}function X(n,e){try{var t=n.length,r=Math.floor(t/2);return 0===t?(0,I.DB)([]):1===t?(0,I.DB)([n[0]]):(0,I.Ue)((function(a,o){var i=[X(n.slice(0,r),e),X(n.slice(r,t),e)];(0,I.$6)(i).then((function(n){try{nn(n[0],n[1],e,[]).then(a,o)}catch(t){o(t)}}),o)}))}catch(a){return F(a)}}function nn(n,e,t,r){return(0,I.Ue)((function(a,o){var i=r;n.length>0||e.length>0?n.length>0&&e.length>0?t(n[0],e[0]).then((function(u){try{isNaN(u)&&(u=1),u<=0?(i.push(n[0]),n=n.slice(1)):(i.push(e[0]),e=e.slice(1)),nn(n,e,t,r).then(a,o)}catch(c){o(c)}}),o):n.length>0?(i.push(n[0]),nn(n=n.slice(1),e,t,r).then(a,o)):e.length>0&&(i.push(e[0]),e=e.slice(1),nn(n,e,t,r).then(a,o)):a(r)}))}function en(n,e){var t=n.length,r=Math.floor(t/2);return e||(e=function(n,e){return n<e?-1:n===e?0:1}),0===t?[]:1===t?[n[0]]:function(n,e,t){for(var r=[];n.length>0||e.length>0;)if(n.length>0&&e.length>0){var a=t(n[0],e[0]);isNaN(a)&&(a=1),a<=0?(r.push(n[0]),n=n.slice(1)):(r.push(e[0]),e=e.slice(1))}else n.length>0?(r.push(n[0]),n=n.slice(1)):e.length>0&&(r.push(e[0]),e=e.slice(1));return r}(en(n.slice(0,r),e),en(n.slice(r,t),e),e)}function tn(n,e,t){try{var r=n.body;if(t.length!==n.params.length)return F(new Error("Invalid Parameter calls to function."));for(var a=0;a<t.length;a++){var o=n.params[a];"Identifier"===o.type&&(e.localScope[o.name.toLowerCase()]={d:null,value:t[a],valueset:!0,node:null})}return L(e,r).then((function(n){return(0,I.Ue)((function(e,t){n instanceof f.R?e(n.value):n!==f.m?n!==f.n?e(n instanceof f.I?n.value:n):t(new Error("Cannot Continue from a Function")):t(new Error("Cannot Break from a Function"))}))}))}catch(i){return(0,I.d1)(i)}}function rn(n,e,t){return H(n,e,(function(e,r,a){var o={spatialReference:n.spatialReference,services:n.services,console:n.console,lrucache:n.lrucache,interceptor:n.interceptor,localScope:{},abortSignal:n.abortSignal,globalScope:n.globalScope,depthCounter:n.depthCounter+1};if(o.depthCounter>64)throw new Error("Exceeded maximum function depth");return tn(t,o,a)}))}function an(n){return function(){var e={abortSignal:n.context.abortSignal,spatialReference:n.context.spatialReference,console:n.context.console,lrucache:n.context.lrucache,interceptor:n.context.interceptor,services:n.context.services,localScope:{},globalScope:n.context.globalScope,depthCounter:n.context.depthCounter+1};if(e.depthCounter>64)throw new Error("Exceeded maximum function depth");return tn(n.definition,e,arguments)}}(0,g.r)(J,D),(0,y.r)(J,D),(0,m.r)(J,D),(0,w.r)(J,D),(0,E.r)(J,D),(0,v.registerFunctions)({functions:J,compiled:!1,signatures:null,failDefferred:null,evaluateIdentifier:null,arcadeCustomFunctionHandler:null,mode:"async",standardFunction:D,standardFunctionAsync:H}),J.typeof=function(n,e){return D(n,e,(function(n,e,t){(0,f.p)(t,1,1);var r=$(t[0]);if("Unrecognised Type"===r)throw new Error("Unrecognised Type");return r}))},J.iif=function(n,e){return(0,I.Ue)((function(t,r){(0,f.p)(null===e.arguments?[]:e.arguments,3,3),L(n,e.arguments[0]).then((function(a){try{if(!1===(0,f.i)(a))return void r(new Error("IF Function must have a boolean test condition"));(0,I.$6)([L(n,e.arguments[1]),L(n,e.arguments[2])]).then((function(n){t(a?n[0]:n[1])}),r)}catch(o){r(o)}}),r)}))},J.decode=function(n,e){return(0,I.Ue)((function(t,r){e.arguments.length<2?r(new Error("Missing Parameters")):2!==e.arguments.length?(e.arguments.length-1)%2!=0?L(n,e.arguments[0]).then((function(a){try{K(n,e,1,a).then(t,r)}catch(o){r(o)}}),r):r(new Error("Must have a default value result.")):L(n,e.arguments[1]).then(t,r)}))},J.when=function(n,e){try{return e.arguments.length<3?F("Missing Parameters"):e.arguments.length%2==0?F("Must have a default value result."):L(n,e.arguments[0]).then((function(t){return(0,I.Ue)((function(r,a){!1!==(0,f.i)(t)?Q(n,e,0,t).then(r,a):a(new Error("WHEN needs boolean test conditions"))}))}))}catch(t){return F(t)}},J.sort=function(n,e){return H(n,e,(function(n,e,t){(0,f.p)(t,1,2);var r=t[0];if((0,f.b)(r)&&(r=r.toArray()),!1===(0,f.a)(r))return F(Error("Illegal Argument"));if(t.length>1)return!1===(0,f.c)(t[1])?F(Error("Illegal Argument")):X(r,an(t[1]));var a=r;if(0===a.length)return(0,I.DB)([]);for(var o={},i=0;i<a.length;i++){var u=$(a[i]);""!==u&&(o[u]=!0)}if(!0===o.Array||!0===o.Dictionary||!0===o.Feature||!0===o.Point||!0===o.Polygon||!0===o.Polyline||!0===o.Multipoint||!0===o.Extent||!0===o.Function)return(0,I.DB)(a.slice(0));var c=0,l="";for(var s in o)c++,l=s;return c>1||"String"===l?a=en(a,(function(n,e){if(null==n||n===f.v)return null==e||e===f.v?0:1;if(null==e||e===f.v)return-1;var t=(0,f.d)(n),r=(0,f.d)(e);return t<r?-1:t===r?0:1})):"Number"===l?a=en(a,(function(n,e){return n-e})):"Boolean"===l?a=en(a,(function(n,e){return n===e?0:e?-1:1})):"Date"===l&&(a=en(a,(function(n,e){return e-n}))),(0,I.DB)(a)}))};var on={failDefferred:F,resolveDeffered:O,fixSpatialReference:f.s,parseArguments:x,standardFunction:D,standardFunctionAsync:H,evaluateIdentifier:W,arcadeCustomFunction:an};for(var un in J)J[un]={value:new f.N(J[un]),valueset:!0,node:null};var cn=function(){};function ln(n){console.log(n)}(cn.prototype=J).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},cn.prototype.pi={value:Math.PI,valueset:!0,node:null};var sn=on;function fn(n){for(var e={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:D,standardFunctionAsync:H,failDefferred:F,evaluateIdentifier:W,arcadeCustomFunctionHandler:an},t=0;t<n.length;t++)n[t].registerFunctions(e);for(var r in e.functions)J[r]={value:new f.N(e.functions[r]),valueset:!0,node:null},cn.prototype[r]=J[r];for(var a=0;a<e.signatures.length;a++)(0,h.gW)(e.signatures[a],"async")}function hn(n,e){var t=e.spatialReference;null==t&&(t=new Z.Z({wkid:102100}));var r=function(n,e){var t=new cn;null==n&&(n={}),null==e&&(e={});var r=new i.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});for(var a in r.immutable=!1,t.textformatting={value:r,valueset:!0,node:null},e)t[a]={value:new f.N(e[a]),native:!0,valueset:!0,node:null};for(var o in n)n[o]&&"esri.Graphic"===n[o].declaredClass?t[o]={value:u.Z.createFromGraphic(n[o]),valueset:!0,node:null}:t[o]={value:n[o],valueset:!0,node:null};return t}(e.vars,e.customfunctions);return L({spatialReference:t,services:e.services,abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:r,console:e.console?e.console:ln,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:1},n.body[0].body).then((function(n){return(0,I.Ue)((function(e,t){n instanceof f.R&&(n=n.value),n instanceof f.I&&(n=n.value),n===f.v&&(n=null),n!==f.m?n!==f.n?n instanceof f.N||n instanceof c.Z?t(new Error("Cannot return FUNCTION")):e(n):t(new Error("Cannot return CONTINUE")):t(new Error("Cannot return BREAK"))}))}))}function dn(n,e){return(0,h.mb)(n)}function pn(n,e){return(0,h.FS)(n,e,"full")}function gn(n,e){return(0,h.bV)(n,e)}function vn(n,e){return(0,h.w8)(n,e)}function wn(n){return(0,h.Vf)(n)}fn([p.A])},83806:function(n,e,t){t.r(e),t.d(e,{registerFunctions:function(){return I}});var r=t(37762),a=t(19545),o=t(47238),i=t(44715),u=t(95435),c=t(66978),l=t(53866),s=t(32238),f=t(84178),h=t(77577),d=t(7882),p=t(80885),g=t(29909),v=t(77981),w=t(68860);function m(n){return 0===a.i8.indexOf("4.")?p.Z.fromExtent(n):new p.Z({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function E(n){if((0,i.p)(n,2,2),n[0]instanceof s.Z&&n[1]instanceof s.Z);else if(n[0]instanceof s.Z&&null===n[1]);else if(n[1]instanceof s.Z&&null===n[0]);else if(null!==n[0]||null!==n[1])throw new Error("Illegal Argument")}function y(n,e){if("polygon"!==n.type&&"polyline"!==n.type&&"extent"!==n.type)return(0,c.DB)(0);var t=1;(n.spatialReference.vcsWkid||n.spatialReference.latestVcsWkid)&&(t=(0,u._R)(n.spatialReference)/(0,w.c9)(n.spatialReference));var a=0;if("polyline"===n.type){var o,l=(0,r.Z)(n.paths);try{for(l.s();!(o=l.n()).done;)for(var s=o.value,h=1;h<s.length;h++)a+=(0,u.AW)(s[h],s[h-1],t)}catch(y){l.e(y)}finally{l.f()}}else if("polygon"===n.type){var d,p=(0,r.Z)(n.rings);try{for(p.s();!(d=p.n()).done;){for(var v=d.value,m=1;m<v.length;m++)a+=(0,u.AW)(v[m],v[m-1],t);(v[0][0]!==v[v.length-1][0]||v[0][1]!==v[v.length-1][1]||void 0!==v[0][2]&&v[0][2]!==v[v.length-1][2])&&(a+=(0,u.AW)(v[0],v[v.length-1],t))}}catch(y){p.e(y)}finally{p.f()}}else"extent"===n.type&&(a+=2*(0,u.AW)([n.xmin,n.ymin,0],[n.xmax,n.ymin,0],t),a+=2*(0,u.AW)([n.xmin,n.ymin,0],[n.xmin,n.ymax,0],t),a*=2,a+=4*Math.abs((0,i.C)(n.zmax,0)*t-(0,i.C)(n.zmin,0)*t));var E=new g.Z({hasZ:!1,hasM:!1,spatialReference:n.spatialReference,paths:[[0,0],[0,a]]});return(0,f.sz)(E,e)}function I(n){"async"===n.mode&&(n.functions.disjoint=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null===t[0]||null===t[1]||(0,f.ED)(t[0],t[1])}))},n.functions.intersects=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.kK)(t[0],t[1])}))},n.functions.touches=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.W4)(t[0],t[1])}))},n.functions.crosses=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.jU)(t[0],t[1])}))},n.functions.within=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.uh)(t[0],t[1])}))},n.functions.contains=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.r3)(t[0],t[1])}))},n.functions.overlaps=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null!==t[1]&&(0,f.Nm)(t[0],t[1])}))},n.functions.equals=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return(0,i.p)(t,2,2),t[0]===t[1]||(t[0]instanceof s.Z&&t[1]instanceof s.Z?(0,f.fS)(t[0],t[1]):!(!(0,i.o)(t[0])||!(0,i.o)(t[1]))&&t[0].getTime()===t[1].getTime())}))},n.functions.relate=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,3,3),t[0]instanceof s.Z&&t[1]instanceof s.Z)return(0,f.LV)(t[0],t[1],(0,i.d)(t[2]));if(t[0]instanceof s.Z&&null===t[1])return!1;if(t[1]instanceof s.Z&&null===t[0])return!1;if(null===t[0]&&null===t[1])return!1;throw new Error("Illegal Argument")}))},n.functions.intersection=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null===t[0]||null===t[1]?null:(0,f.wf)(t[0],t[1])}))},n.functions.union=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){var a=[];if(0===(r=(0,i.H)(r)).length)throw new Error("Function called with wrong number of Parameters");if(1===r.length)if((0,i.a)(r[0])){for(var u=(0,i.H)(r[0]),c=0;c<u.length;c++)if(null!==u[c]){if(!(u[c]instanceof s.Z))throw new Error("Illegal Argument");a.push(u[c])}}else{if(!(0,i.b)(r[0])){if(r[0]instanceof s.Z)return(0,i.s)((0,o.r1)(r[0]),e.spatialReference);if(null===r[0])return null;throw new Error("Illegal Argument")}for(var l=(0,i.H)(r[0].toArray()),h=0;h<l.length;h++)if(null!==l[h]){if(!(l[h]instanceof s.Z))throw new Error("Illegal Argument");a.push(l[h])}}else for(var d=0;d<r.length;d++)if(null!==r[d]){if(!(r[d]instanceof s.Z))throw new Error("Illegal Argument");a.push(r[d])}return 0===a.length?null:(0,f.G0)(a)}))},n.functions.difference=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null!==t[0]&&null===t[1]?(0,o.r1)(t[0]):null===t[0]?null:(0,f.e5)(t[0],t[1])}))},n.functions.symmetricdifference=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){return E(t=(0,i.H)(t)),null===t[0]&&null===t[1]?null:null===t[0]?(0,o.r1)(t[1]):null===t[1]?(0,o.r1)(t[0]):(0,f.Sp)(t[0],t[1])}))},n.functions.clip=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,2),!(t[1]instanceof l.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return null===t[1]?null:(0,f.oq)(t[0],t[1])}))},n.functions.cut=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,2),!(t[1]instanceof g.Z)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return[];if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return null===t[1]?[(0,o.r1)(t[0])]:(0,f.z7)(t[0],t[1])}))},n.functions.area=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.H)(r))[0])return 0;if((0,i.q)(r[0]))return r[0].sumArea((0,o.EI)((0,i.C)(r[1],-1)),!1,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var a=(0,i.K)(r[0],e.spatialReference);return null===a?0:(0,f.CJ)(a,(0,o.EI)((0,i.C)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.CJ)(r[0],(0,o.EI)((0,i.C)(r[1],-1)))}))},n.functions.areageodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.H)(r))[0])return 0;if((0,i.q)(r[0]))return r[0].sumArea((0,o.EI)((0,i.C)(r[1],-1)),!0,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var a=(0,i.K)(r[0],e.spatialReference);return null===a?0:(0,f.Y4)(a,(0,o.EI)((0,i.C)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.Y4)(r[0],(0,o.EI)((0,i.C)(r[1],-1)))}))},n.functions.length=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.H)(r))[0])return 0;if((0,i.q)(r[0]))return r[0].sumLength((0,o.Lz)((0,i.C)(r[1],-1)),!1,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var a=(0,i.J)(r[0],e.spatialReference);return null===a?0:(0,f.sz)(a,(0,o.Lz)((0,i.C)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.sz)(r[0],(0,o.Lz)((0,i.C)(r[1],-1)))}))},n.functions.length3d=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.H)(r))[0])return 0;if((0,i.a)(r[0])||(0,i.b)(r[0])){var a=(0,i.J)(r[0],e.spatialReference);return null===a?0:!0===a.hasZ?y(a,(0,o.Lz)((0,i.C)(r[1],-1))):(0,f.sz)(a,(0,o.Lz)((0,i.C)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return!0===r[0].hasZ?y(r[0],(0,o.Lz)((0,i.C)(r[1],-1))):(0,f.sz)(r[0],(0,o.Lz)((0,i.C)(r[1],-1)))}))},n.functions.lengthgeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if((0,i.p)(r,1,2),null===(r=(0,i.H)(r))[0])return 0;if((0,i.q)(r[0]))return r[0].sumLength((0,o.Lz)((0,i.C)(r[1],-1)),!0,e.abortSignal).then((function(n){if(e.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if((0,i.a)(r[0])||(0,i.b)(r[0])){var a=(0,i.J)(r[0],e.spatialReference);return null===a?0:(0,f.kQ)(a,(0,o.Lz)((0,i.C)(r[1],-1)))}if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.kQ)(r[0],(0,o.Lz)((0,i.C)(r[1],-1)))}))},n.functions.distance=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){r=(0,i.H)(r),(0,i.p)(r,2,3);var a=r[0];((0,i.a)(r[0])||(0,i.b)(r[0]))&&(a=(0,i.L)(r[0],e.spatialReference));var u=r[1];if(((0,i.a)(r[1])||(0,i.b)(r[1]))&&(u=(0,i.L)(r[1],e.spatialReference)),!(a instanceof s.Z))throw new Error("Illegal Argument");if(!(u instanceof s.Z))throw new Error("Illegal Argument");return(0,f.TE)(a,u,(0,o.Lz)((0,i.C)(r[2],-1)))}))},n.functions.distancegeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){t=(0,i.H)(t),(0,i.p)(t,2,3);var r=t[0],a=t[1];if(!(r instanceof d.Z))throw new Error("Illegal Argument");if(!(a instanceof d.Z))throw new Error("Illegal Argument");var u=new g.Z({paths:[],spatialReference:r.spatialReference});return u.addPath([r,a]),(0,f.kQ)(u,(0,o.Lz)((0,i.C)(t[2],-1)))}))},n.functions.densify=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof p.Z||t[0]instanceof g.Z?(0,f.Cz)(t[0],r,(0,o.Lz)((0,i.C)(t[2],-1))):t[0]instanceof l.Z?(0,f.Cz)(m(t[0]),r,(0,o.Lz)((0,i.C)(t[2],-1))):t[0]}))},n.functions.densifygeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");if(r<=0)throw new Error("Illegal Argument");return t[0]instanceof p.Z||t[0]instanceof g.Z?(0,f.j2)(t[0],r,(0,o.Lz)((0,i.C)(t[2],-1))):t[0]instanceof l.Z?(0,f.j2)(m(t[0]),r,(0,o.Lz)((0,i.C)(t[2],-1))):t[0]}))},n.functions.generalize=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,4),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return(0,f.D$)(t[0],r,(0,i.z)((0,i.C)(t[2],!0)),(0,o.Lz)((0,i.C)(t[3],-1)))}))},n.functions.buffer=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):(0,f.f3)(t[0],r,(0,o.Lz)((0,i.C)(t[2],-1)))}))},n.functions.buffergeodetic=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,3),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");return 0===r?(0,o.r1)(t[0]):(0,f.rd)(t[0],r,(0,o.Lz)((0,i.C)(t[2],-1)))}))},n.functions.offset=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,2,6),null===t[0])return null;if(!(t[0]instanceof p.Z||t[0]instanceof g.Z))throw new Error("Illegal Argument");var r=(0,i.t)(t[1]);if(isNaN(r))throw new Error("Illegal Argument");var a=(0,i.t)((0,i.C)(t[4],10));if(isNaN(a))throw new Error("Illegal Argument");var u=(0,i.t)((0,i.C)(t[5],0));if(isNaN(u))throw new Error("Illegal Argument");return(0,f.cv)(t[0],r,(0,o.Lz)((0,i.C)(t[2],-1)),(0,i.d)((0,i.C)(t[3],"round")).toLowerCase(),a,u)}))},n.functions.rotate=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){t=(0,i.H)(t),(0,i.p)(t,2,3);var r=t[0];if(null===r)return null;if(!(r instanceof s.Z))throw new Error("Illegal Argument");r instanceof l.Z&&(r=p.Z.fromExtent(r));var a=(0,i.t)(t[1]);if(isNaN(a))throw new Error("Illegal Argument");var o=(0,i.C)(t[2],null);if(null===o)return(0,f.U1)(r,a);if(o instanceof d.Z)return(0,f.U1)(r,a,o);throw new Error("Illegal Argument")}))},n.functions.centroid=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){if(r=(0,i.H)(r),(0,i.p)(r,1,1),null===r[0])return null;var a=r[0];if(((0,i.a)(r[0])||(0,i.b)(r[0]))&&(a=(0,i.L)(r[0],e.spatialReference)),null===a)return null;if(!(a instanceof s.Z))throw new Error("Illegal Argument");return a instanceof d.Z?(0,i.s)((0,o.r1)(r[0]),e.spatialReference):a instanceof p.Z?a.centroid:a instanceof g.Z?(0,u.s9)(a):a instanceof h.Z?(0,u.Ay)(a):a instanceof l.Z?a.center:null}))},n.functions.multiparttosinglepart=function(e,t){return n.standardFunctionAsync(e,t,(function(n,t,r){r=(0,i.H)(r),(0,i.p)(r,1,1);var a=[];if(null===r[0])return null;if(!(r[0]instanceof s.Z))throw new Error("Illegal Argument");return r[0]instanceof d.Z||r[0]instanceof l.Z?[(0,i.s)((0,o.r1)(r[0]),e.spatialReference)]:(0,f.og)(r[0]).then((function(n){if(n instanceof p.Z){for(var t=[],u=[],c=0;c<n.rings.length;c++)if(n.isClockwise(n.rings[c])){var l=(0,v.im)({rings:[n.rings[c]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});t.push(l)}else u.push({ring:n.rings[c],pt:n.getPoint(c,0)});for(var s=0;s<u.length;s++)for(var f=0;f<t.length;f++)if(t[f].contains(u[s].pt)){t[f].addRing(u[s].ring);break}return t}if(n instanceof g.Z){for(var d=[],w=0;w<n.paths.length;w++){var m=(0,v.im)({paths:[n.paths[w]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});d.push(m)}return d}if(r[0]instanceof h.Z){for(var E=(0,i.s)((0,o.r1)(r[0]),e.spatialReference),y=0;y<E.points.length;y++)a.push(E.getPoint(y));return a}return null}))}))},n.functions.issimple=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,1,1),null===t[0])return!0;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.Gg)(t[0])}))},n.functions.simplify=function(e,t){return n.standardFunctionAsync(e,t,(function(n,e,t){if(t=(0,i.H)(t),(0,i.p)(t,1,1),null===t[0])return null;if(!(t[0]instanceof s.Z))throw new Error("Illegal Argument");return(0,f.og)(t[0])}))})}}}]);
//# sourceMappingURL=4698.05c29578.chunk.js.map