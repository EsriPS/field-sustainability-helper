"use strict";(self.webpackChunkfield_sustainability_helper=self.webpackChunkfield_sustainability_helper||[]).push([[5947],{15947:function(e,t,i){i.r(t),i.d(t,{default:function(){return We}});var r,n,o,s,a,l=i(37762),_=i(15671),u=i(43144),E=i(11752),c=i(61120),d=i(60136),R=i(54062),T=i(27366),p=i(81608),y=i(10064),A=i(100),h=i(32718),v=i(92026),S=i(97642),f=i(66978),C=i(94172),N=i(49861),b=(i(63780),i(93169)),I=i(25243),L=i(38511),O=i(69912),m=i(11186),g=i(71353),P=i(74184),M=i(76200);!function(e){e[e.Binary=0]="Binary",e[e.JSON=1]="JSON"}(r||(r={})),function(e){e[e.TreeIndex=0]="TreeIndex",e[e.TreeStats=1]="TreeStats",e[e.TreeData=2]="TreeData",e[e.BrickBundles=3]="BrickBundles",e[e.Section=4]="Section",e[e.VariableStats=5]="VariableStats"}(n||(n={})),function(e){e[e.None=1]="None",e[e.Front=2]="Front",e[e.Back=3]="Back"}(o||(o={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(s||(s={})),function(e){e[e.None=0]="None",e[e.StaticSections=1]="StaticSections",e[e.Slices=2]="Slices",e[e.DynamicSections=4]="DynamicSections",e[e.GhostShell=8]="GhostShell",e[e.Isosurface=16]="Isosurface",e[e.Quality=32]="Quality",e[e.SunLocation=64]="SunLocation",e[e.StaticSectionSelection=128]="StaticSectionSelection",e[e.ExaggerationAndOffset=256]="ExaggerationAndOffset",e[e.CurrentTime=512]="CurrentTime",e[e.CurrentVariable=1024]="CurrentVariable",e[e.DeleteIsosurface=2048]="DeleteIsosurface",e[e.ContainerVisibility=4096]="ContainerVisibility",e[e.RenderMode=8192]="RenderMode",e[e.Optimization=16384]="Optimization"}(a||(a={}));var D=i(65905);function w(e){return(0,D.V)("esri/libs/vxl/".concat(e))}var x,U=i(68198),F=i(93822),B=i(49800),G=i(8548),V=h.Z.getLogger("esri.layers.VoxelWasmPerScene");!function(e){e[e.Lifetime=1]="Lifetime",e[e.RequestResponse=2]="RequestResponse",e[e.Rendering=3]="Rendering",e[e.Error=4]="Error"}(x||(x={}));var H=function(){function e(t){(0,_.Z)(this,e),this._halfIntTexturesAvailable=!1,this._havePreparedWithAllLayers=!1,this._renderPluginContext=null,this._vxl=null,this._pluginIsActive=!1,this._moreToLoad=!1,this._viewportWidth=-1,this._viewportHeight=-1,this._newLayers=[],this._layers=new Map,this._renderPass=U.C.MATERIAL,this._renderSlot=F.r.VOXEL,this._rctx=null,this._renderTargetToRestore=null,this._lastFrameWasStationary=!1,this._wasmMemBlockSizes=[512,1024,2048,4096,8192,16384,32768,65536],this._wasmMemBlocks=new Map,this._dbgFlags=new Set,this._view=t,this._initialize()}return(0,u.Z)(e,[{key:"canRender",get:function(){return!!this._vxl&&"local"===this._view.viewingMode}},{key:"_dbg",value:function(e,t){this._dbgFlags.has(e)&&(e===x.Error?V.error(t):V.warn(t))}},{key:"_removeRenderPlugin",value:function(){this._pluginIsActive&&this._view._stage&&(this._dbg(x.Lifetime,"--removeRenderPlugin--"),this._view._stage.removeRenderPlugin(this)),this._pluginIsActive=!1}},{key:"_initialize",value:function(){var e=this;this._dbg(x.Lifetime,"--initialize--");var t,i=(0,l.Z)(this._wasmMemBlockSizes);try{for(i.s();!(t=i.n()).done;){var r=t.value;this._wasmMemBlocks.set(r,0)}}catch(n){i.e(n)}finally{i.f()}this._readyWatchHandle=(0,C.YP)((function(){return e._view.ready}),(function(t){t&&"local"===e._view.viewingMode?(e._dbg(x.Lifetime,"view ready status changed to ready on a local view, calling addRenderPlugin"),e._view._stage.addRenderPlugin([e._renderSlot],e),e._pluginIsActive=!0):(e._dbg(x.Lifetime,"view ready status changed, not ready or not a local view!"),e._removeRenderPlugin())}),{initial:!0}),this._qualityWatchHandle=(0,C.YP)((function(){var t;return null==(t=e._view)?void 0:t.qualityProfile}),(function(t){e._dbg(x.Rendering,"qualityProfile changed to "+t),e._vxl&&e._vxl.set_quality(e._toWasmQuality(t))}),{initial:!0}),this._timeExtentWatchHandle=(0,C.YP)((function(){var t;return null==(t=e._view)?void 0:t.timeExtent}),(function(){if(e._vxl){var t,i=e._getTimeArgs(null==(t=e._view)?void 0:t.timeExtent);e._dbg(x.Rendering,"sceneView timeExtent changed to useTime="+i.useTime+" st="+i.startTime+" et="+i.endTime),e._vxl.set_scene_time_extent(i.startTime,i.endTime,i.useTime),e._renderPluginContext.requestRender()}}),{initial:!0}),this._stationaryWatchHandle=(0,C.YP)((function(){var t;return null==(t=e._view)?void 0:t.stationary}),(function(t){e._vxl&&t&&!e._lastFrameWasStationary&&e._renderPluginContext.requestRender()}))}},{key:"initializeRenderContext",value:function(e){this._dbg(x.Lifetime,"--initializeRenderContext--");var t=e.renderContext.rctx;t.type===B.zO.WEBGL2?(this._renderPluginContext=e,this._rctx=e.renderContext.rctx,this._halfIntTexturesAvailable=!!this._rctx.capabilities.textureNorm16,this._initializeWasm(t.gl)):this._dbg(x.Error,"WebGL 1 context only!")}},{key:"uninitializeRenderContext",value:function(){this._renderPluginContext=null,this._rctx=null,this._dbg(x.Lifetime,"--uninitializeRenderContext--")}},{key:"_restoreFramebuffer",value:function(){if(this._renderTargetToRestore){var e=this._renderTargetToRestore.fbo;if(this._rctx){this._rctx.bindFramebuffer(e,!0);var t=this._renderTargetToRestore.viewport;this._rctx.setViewport(t.x,t.y,t.width,t.height)}else this._dbg(x.Error,"no context in restoreFramebuffer!")}}},{key:"_bindPreviousDepthToSlot",value:function(e,t){var i=!!this._rctx,r=!!this._renderTargetToRestore;if(!i||!r)return 0;var n=this._renderTargetToRestore.fbo.depthStencilTexture;return n?(0===t?this._rctx.bindTexture(null,e,!0):this._rctx.bindTexture(n,e,!0),1):(this._dbg(x.Error,"no depth/stencil texture exists!"),0)}},{key:"_modifyResourceCount",value:function(e,t,i){if(this._rctx){var r=e;1===i?this._rctx.instanceCounter.increment(r,t):this._rctx.instanceCounter.decrement(r,t)}else this._dbg(x.Error,"modifyAllocation callback has no rendering context!")}},{key:"_setBlendState",value:function(e,t,i,r){this._rctx?(this._rctx.setBlendingEnabled(1===e),this._rctx.setBlendFunction(t,i),this._rctx.setBlendEquation(r)):this._dbg(x.Error,"setBlendState callback has no rendering context!")}},{key:"_setFrontFace",value:function(e){this._rctx?this._rctx.setFrontFace(e):this._dbg(x.Error,"setFrontFace callback has no rendering context!")}},{key:"_setDepthStencilStateFunction",value:function(e,t,i){this._rctx?(this._rctx.setDepthFunction(i),this._rctx.setDepthTestEnabled(1===e),this._rctx.setDepthWriteEnabled(1===t),this._rctx.setStencilTestEnabled(!1),this._rctx.setStencilFunction(G.wb.ALWAYS,0,255),this._rctx.setStencilOpSeparate(G.LR.FRONT,G.xS.KEEP,G.xS.INCR,G.xS.KEEP),this._rctx.setStencilOpSeparate(G.LR.BACK,G.xS.KEEP,G.xS.DECR,G.xS.KEEP)):this._dbg(x.Error,"setDepthStencilStateFunction callback has no rendering context!")}},{key:"_setRasterizerState",value:function(e){if(this._rctx)switch(e){case o.None:this._rctx.setFaceCullingEnabled(!1);break;case o.Back:this._rctx.setCullFace(G.LR.BACK),this._rctx.setFaceCullingEnabled(!0);break;case o.Front:this._rctx.setCullFace(G.LR.FRONT),this._rctx.setFaceCullingEnabled(!0)}else this._dbg(x.Error,"setRasterizerState callback has no rendering context!")}},{key:"_setViewport",value:function(e,t,i,r){this._rctx?this._rctx.setViewport(e,t,i,r):this._dbg(x.Error,"setViewport callback has no rendering context!")}},{key:"_updateMemoryUsage",value:function(){var e=this;this._layers.forEach((function(t,i){if(t.needMemoryUsageUpdate){var r=e._vxl.estimate_memory_usage(i);r>=0&&(t.needMemoryUsageUpdate=!1,t.layerView.setUsedMemory(r))}}))}},{key:"_syncRequestsResponses",value:function(){var e=this;this._layers.forEach((function(t,i){var r=[];t.responses.forEach((function(o,s){r.push(s),e._dbg(x.RequestResponse,"responding for requestID:"+s+" size:"+o.size),e._vxl.respond(i,s,o),o.requestType!==n.TreeIndex&&o.requestType!==n.Section||(t.needMemoryUsageUpdate=!0)}));for(var o=t.responses,s=0,a=r;s<a.length;s++){var l=a[s];o.delete(l)}var _=e._vxl.get_new_requests(i),u=t.abortController.signal,E=function(i){t.outstandingRequestCount+=1,1===t.outstandingRequestCount&&t.layerView.updatingFlagChanged();var r=_[i],n={responseType:"array-buffer",signal:u};e._dbg(x.RequestResponse,"making requestID:"+i+" url:"+r.url),(0,M.default)(r.url,n).then((function(n){t.outstandingRequestCount-=1,0===t.outstandingRequestCount&&t.layerView.updatingFlagChanged(),e._dbg(x.RequestResponse,"have response for requestID:"+i);var s=0;if(n.data.byteLength>0){s=e._vxl._malloc(n.data.byteLength);for(var a=new Uint8Array(e._vxl.HEAPU8.buffer,s,n.data.byteLength),l=new Uint8Array(n.data),_=0;_<n.data.byteLength;++_)a[_]=l[_]}o.set(+i,{responseType:r.responseType,ptr:s,size:n.data.byteLength,success:!0,requestType:r.requestType})})).catch((function(n){t.outstandingRequestCount-=1,0===t.outstandingRequestCount&&t.layerView.updatingFlagChanged(),(0,f.D_)(n)||(e._dbg(x.Error,"requestID:".concat(i," failed, error=").concat(n.toString())),o.set(+i,{responseType:r.responseType,ptr:0,size:0,success:!1,requestType:r.requestType}))}))};for(var c in _)E(c)}))}},{key:"updateWasmCamera",value:function(e){this._vxl.set_projection_matrix.apply(this._vxl,e.projectionMatrix),this._vxl.set_view_matrix.apply(this._vxl,e.viewMatrix),this._vxl.set_near_far(e.near,e.far)}},{key:"isUpdating",value:function(e){return!(this._vxl||!this._vxlPromise)||!!this._layers.has(e)&&this._layers.get(e).outstandingRequestCount>0}},{key:"setEnabled",value:function(e,t){var i=this;this._layers.forEach((function(r,n){r.layerView===e&&(i._vxl.set_enabled(n,t),i._renderPluginContext.requestRender())}))}},{key:"setSlices",value:function(e,t){var i={mask:a.Slices,slices:{planes:t,currentEditPlane:-1}};return this._doMaskedUIUpdate(e,i,!0)}},{key:"setDynamicSections",value:function(e,t){var i={mask:a.DynamicSections,dynamicSections:{planes:t,currentEditPlane:-1}};return this._doMaskedUIUpdate(e,i,!0)}},{key:"setStaticSections",value:function(e,t){var i={mask:a.StaticSections,staticSections:t};return this._doMaskedUIUpdate(e,i,!0)}},{key:"setCurrentVariable",value:function(e,t){var i={mask:a.CurrentVariable,currentVariable:t};return this._doMaskedUIUpdate(e,i,!0)}},{key:"setRenderMode",value:function(e,t){var i={mask:a.RenderMode,renderMode:t};return this._doMaskedUIUpdate(e,i,!0)}},{key:"_doMaskedUIUpdate",value:function(e,t,i){var r=this;if(!this._vxl)return!1;var n=!1;return this._layers.forEach((function(i,o){if(i.layerView===e){var s={str:JSON.stringify(t),byteCount:0,ptr:0,isReusable:!1};r._allocateBlock(s)&&(n=1===r._vxl.handle_masked_ui_update(o,s.ptr,s.byteCount),s.isReusable||r._vxl._free(s.ptr))}})),n&&i&&this._renderPluginContext.requestRender(),n}},{key:"addVoxelLayer",value:function(e){if(!this._vxl){var t={layerView:e,resolveCallback:null,rejectCallback:null},i=new Promise((function(e,i){t.resolveCallback=e,t.rejectCallback=i}));return this._newLayers.push(t),i}var r=this._addVoxelLayer(e);return r<0?Promise.reject(-1):Promise.resolve(r)}},{key:"removeVoxelLayer",value:function(e){var t=this;if(!this._vxl){var i=this._newLayers.findIndex((function(t){return e===t.layerView}));i>=0&&(this._newLayers[i].resolveCallback(-1),this._newLayers.splice(i,1));var r=this._newLayers.length;return 0===r&&(this._dbg(x.Lifetime," no voxel layers left after removing a layer, removing RenderPlugin and destroying"),this.destroy()),r}var n=-1;this._layers.forEach((function(i,r){i.layerView===e&&(n=r,i.abortController.abort(),t._vxl.remove_layer(n))})),n>=0&&this._layers.delete(n);var o=this._layers.size;return 0===o&&(this._dbg(x.Lifetime," no voxel layers left after removing a layer, removing RenderPlugin and destroying"),this.destroy()),o}},{key:"_getBlockSize",value:function(e){var t,i=(0,l.Z)(this._wasmMemBlockSizes);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(e<r)return r}}catch(n){i.e(n)}finally{i.f()}return-1}},{key:"_allocateBlock",value:function(e){e.byteCount=this._vxl.lengthBytesUTF8(e.str)+1;var t=this._getBlockSize(e.byteCount);return t<0?(e.isReusable=!1,e.ptr=this._vxl._malloc(e.byteCount)):(e.isReusable=!0,e.ptr=this._wasmMemBlocks.get(t),0===e.ptr&&(e.ptr=this._vxl._malloc(t),this._wasmMemBlocks.set(t,e.ptr))),0!==e.ptr&&(this._vxl.stringToUTF8(e.str,e.ptr,e.byteCount),!0)}},{key:"_getTimeArgs",value:function(e){var t=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=!1;return(0,v.pC)(e)&&(e.isAllTime?r=!0:((0,v.pC)(e.start)&&(r=!0,t=e.start.getTime()/1e3),(0,v.pC)(e.end)&&(r=!0,i=e.end.getTime()/1e3))),{startTime:t,endTime:i,useTime:r}}},{key:"_addVoxelLayer",value:function(e){var t,i,r=e.layer,n=r.getConfiguration();if(n.length<1)return-1;var o={str:n,byteCount:0,ptr:0,isReusable:!1};if(!this._allocateBlock(o))return-1;var s=this._getTimeArgs(null==(t=this._view)?void 0:t.timeExtent),a=this._view.spatialReference.isWGS84&&r.spatialReference.isWGS84?111319.49079327357:1;if(i=this._vxl.add_layer(r.serviceRoot,o.ptr,o.byteCount,a,a,s.startTime,s.endTime,s.useTime,this._toWasmQuality(this._view.qualityProfile)),o.isReusable||this._vxl._free(o.ptr),i>=0){var _=new AbortController;if(this._layers.set(i,{layerView:e,responses:new Map,outstandingRequestCount:0,abortController:_,needMemoryUsageUpdate:!1}),!this._halfIntTexturesAvailable||(0,b.Z)("mac")){var u,E=[],c="",d=(0,l.Z)(e.layer.variables);try{for(d.s();!(u=d.n()).done;){var R=u.value;"Int16"!==R.renderingFormat.type&&"UInt16"!==R.renderingFormat.type||(E.push(R.name),R.id===e.layer.style.currentVariableId&&(c=R.name))}}catch(T){d.e(T)}finally{d.f()}""!==c&&V.error("#addVoxelLayer_error()",e.layer,"The voxel layer '".concat(e.layer.title,"' cannot render the current variable '").concat(c,"' in this browser")),E.length>0&&V.warn("#addVoxelLayer_warning()",e.layer,"The voxel layer '".concat(e.layer.title,"' cannot render the variables '").concat(E.toString(),"' in this browser"))}return(0,b.Z)("esri-mobile")&&V.warnOnce("Mobile support differs across devices. Voxel layer might not display as expected."),i}return-1}},{key:"prepareRender",value:function(e){if(this._vxl){var t=e.viewForward,i=e.eye;this._vxl.update_camera_pos_and_direction(i[0],i[1],i[2],t[0],t[1],t[2]);var r=this._vxl.cull();this._dbg(x.RequestResponse,"missingResourceCount="+r),this._moreToLoad=r>0,this._havePreparedWithAllLayers=0===this._newLayers.length,this._updateMemoryUsage()}}},{key:"render",value:function(e){if(this._vxl&&e.pass===this._renderPass&&e.slot===this._renderSlot){var t,i=(0,l.Z)(this._newLayers);try{for(i.s();!(t=i.n()).done;){var r=t.value,n=this._addVoxelLayer(r.layerView);-1===n?r.rejectCallback(-1):r.resolveCallback(n)}}catch(s){i.e(s)}finally{i.f()}if(this._newLayers=[],0!==this._layers.size){this._renderTargetToRestore={fbo:this._rctx.getBoundFramebufferObject(),viewport:this._rctx.getViewport()},this._syncRequestsResponses(),this._lastFrameWasStationary=this._view.stationary,this._rctx.setPolygonOffsetFillEnabled(!1),this._rctx.setScissorTestEnabled(!1),this._rctx.setColorMask(!0,!0,!0,!0),this._vxl.begin_color_frame(!this._view.stationary||this._moreToLoad,e.scenelightingData.lightingMainDirection[0],e.scenelightingData.lightingMainDirection[1],e.scenelightingData.lightingMainDirection[2]);var o=this._renderTargetToRestore.viewport;o.width===this._viewportWidth&&o.height===this._viewportHeight||(this._viewportWidth=o.width,this._viewportHeight=o.height,this._vxl.set_viewport(o.width,o.height),this._layers.forEach((function(e){e.needMemoryUsageUpdate=!0}))),0===o.x&&0===o.y||this._dbg(x.Error,"Unsupported viewport parameters detected!"),this.updateWasmCamera(e.camera),this._vxl.draw(),this._renderTargetToRestore.fbo=null,e.rctx.externalTextureUnitUpdate(this._vxl.get_texture_units_bound_in_frame(),this._vxl.get_active_texture_unit()),e.rctx.externalVertexArrayObjectUpdate(),e.rctx.externalVertexBufferUpdate(),this._rctx.externalProgramUpdate(),(this._moreToLoad||!this._havePreparedWithAllLayers&&this._layers.size>0)&&this._renderPluginContext.requestRender()}else this._dbg(x.Error,"No voxel layers but RenderPlugin instance is being asked to render!")}}},{key:"destroy",value:function(){var e=this;this._dbg(x.Lifetime,"--destroy--"),this._removeRenderPlugin(),this._readyWatchHandle=(0,v.hw)(this._readyWatchHandle),this._qualityWatchHandle=(0,v.hw)(this._qualityWatchHandle),this._timeExtentWatchHandle=(0,v.hw)(this._timeExtentWatchHandle),this._stationaryWatchHandle=(0,v.hw)(this._stationaryWatchHandle),this._vxl&&(this._layers.forEach((function(e){e.abortController.abort()})),this._wasmMemBlocks.forEach((function(t){0!==t&&e._vxl._free(t)})),this._vxl.uninitialize_voxel_wasm(),this._vxl=null)}},{key:"_initializeWasm",value:function(e){var t=this;return this._vxl?Promise.resolve():(this._vxlPromise||(this._vxlPromise=function(e){return new Promise((function(t){return i.e(4808).then(i.bind(i,4808)).then((function(e){return e.v})).then((function(i){var r=(0,i.default)({locateFile:w,preinitializedWebGLContext:e,onRuntimeInitialized:function(){return t(r)}})}))})).catch((function(e){return Promise.reject(e)}))}(e).then((function(e){var i;if(t._vxl=e,t._vxlPromise=null,t._newLayers.length<=0)return t._dbg(x.Lifetime," no voxel layers left after WASM downloaded, removing RenderPlugin and destroying"),void t.destroy();var r=t._getTimeArgs(null==(i=t._view)?void 0:i.timeExtent),n=t._vxl.addFunction(t._restoreFramebuffer.bind(t),"v"),o=t._vxl.addFunction(t._setBlendState.bind(t),"viiii"),s=t._vxl.addFunction(t._setFrontFace.bind(t),"vi"),a=t._vxl.addFunction(t._setRasterizerState.bind(t),"vi"),l=t._vxl.addFunction(t._setDepthStencilStateFunction.bind(t),"viii"),_=t._vxl.addFunction(t._setViewport.bind(t),"viiii"),u=t._vxl.addFunction(t._bindPreviousDepthToSlot.bind(t),"iii"),E=t._vxl.addFunction(t._modifyResourceCount.bind(t),"viii"),c=t._halfIntTexturesAvailable&&!(0,b.Z)("mac");t._vxl.initialize_voxel_wasm(n,o,s,a,l,_,u,E,r.startTime,r.endTime,r.useTime,c),t._renderPluginContext&&t._renderPluginContext.requestRender()})).catch((function(){var e,i=(0,l.Z)(t._newLayers);try{for(i.s();!(e=i.n()).done;){e.value.rejectCallback(-2)}}catch(r){i.e(r)}finally{i.f()}t._dbg(x.Error," WASM failed to download, removing RenderPlugin and destroying"),t.destroy()}))),this._vxlPromise)}},{key:"pickDepth",value:function(e,t,i){if(!this._vxl||!this._rctx||0===this._layers.size)return null;var r=i.viewport[3]-t;if(e<0||e>i.viewport[2]||t<0||t>i.viewport[3])return this._dbg(x.Error,"pickDepth: outOfRange, screenXY=[".concat(e,", ").concat(r,"], vp=[").concat(i.viewport.toString(),"]")),null;this._renderTargetToRestore={fbo:this._rctx.getBoundFramebufferObject(),viewport:this._rctx.getViewport()};var n=i.viewForward,o=i.eye;this._vxl.update_camera_pos_and_direction(o[0],o[1],o[2],n[0],n[1],n[2]),this.updateWasmCamera(i),this._vxl.begin_frame();var s=this._vxl.pick_depth(e,r);return this._renderTargetToRestore.fbo=null,this._rctx.externalTextureUnitUpdate(this._vxl.get_texture_units_bound_in_frame(),this._vxl.get_active_texture_unit()),this._rctx.externalVertexArrayObjectUpdate(),this._rctx.externalVertexBufferUpdate(),this._rctx.externalProgramUpdate(),s.success?s.distanceToCamera:null}},{key:"_toWasmQuality",value:function(e){switch(e){case"low":return 0;case"medium":return 1;case"high":return 2}}}]),e}(),Z=function(){function e(){(0,_.Z)(this,e),this.view2WASM=new Map}return(0,u.Z)(e,[{key:"getVoxelWasmPerSceneView",value:function(e){return this.view2WASM.has(e)?this.view2WASM.get(e):null}},{key:"isUpdating",value:function(e,t){return!!this.view2WASM.has(e)&&this.view2WASM.get(e).isUpdating(t)}},{key:"addLayer",value:function(e,t){return this.view2WASM.has(e)||this.view2WASM.set(e,new H(e)),this.view2WASM.get(e).addVoxelLayer(t)}},{key:"removeLayer",value:function(e,t){this.view2WASM.has(e)&&this.view2WASM.get(e).removeVoxelLayer(t)<1&&this.view2WASM.delete(e)}},{key:"setLayerEnabled",value:function(e,t,i){this.view2WASM.has(e)&&this.view2WASM.get(e).setEnabled(t,i)}},{key:"setLayerSlices",value:function(e,t){var i=!1;return this.view2WASM.forEach((function(r,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(i=r.setSlices(n,t))}))})),i}},{key:"setLayerDynamicSections",value:function(e,t){var i=!1;return this.view2WASM.forEach((function(r,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(i=r.setDynamicSections(n,t))}))})),i}},{key:"setLayerCurrentVariable",value:function(e,t){var i=!1;return this.view2WASM.forEach((function(r,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(i=r.setCurrentVariable(n,t))}))})),i}},{key:"setLayerRenderMode",value:function(e,t){var i=!1;return this.view2WASM.forEach((function(r,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(i=r.setRenderMode(n,t))}))})),i}},{key:"setLayerStaticSections",value:function(e,t){var i=!1;return this.view2WASM.forEach((function(r,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(i=r.setStaticSections(n,t))}))})),i}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),k=i(27961),j=i(11936),W=i(6061),q=i(29598),Y=i(56811),z=i(95731),X=i(25899),Q=i(45948),K=i(46784),J=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.label="",e.normal=null,e.point=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Boolean,json:{default:!0,write:!0}})],J.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],J.prototype,"label",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],J.prototype,"normal",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],J.prototype,"point",void 0);var $=J=(0,T._)([(0,O.j)("esri.layers.support.VoxelDynamicSection")],J),ee=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.label="",e.normal=null,e.point=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],ee.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],ee.prototype,"label",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],ee.prototype,"normal",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],ee.prototype,"point",void 0);var te=ee=(0,T._)([(0,O.j)("esri.layers.support.VoxelSlice")],ee),ie=i(53283),re=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).enabled=!0,e.href=null,e.id=null,e.label="",e.normal=null,e.point=null,e.sizeInPixel=null,e.slices=null,e.timeId=0,e.variableId=null,e}return(0,u.Z)(i,[{key:"readHref",value:function(e,t,i){return(0,ie.f)(e,i)}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:Boolean,json:{default:!0,write:!0}})],re.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"href",void 0),(0,T._)([(0,L.r)(["service","web-scene"],"href")],re.prototype,"readHref",null),(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"id",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],re.prototype,"label",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"normal",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"point",void 0),(0,T._)([(0,N.Cb)({type:[I.z8],json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"sizeInPixel",void 0),(0,T._)([(0,N.Cb)({type:[te],json:{write:!0}})],re.prototype,"slices",void 0),(0,T._)([(0,N.Cb)({type:I.z8,json:{default:0,write:!0}})],re.prototype,"timeId",void 0),(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],re.prototype,"variableId",void 0);var ne=re=(0,T._)([(0,O.j)("esri.layers.support.VoxelSection")],re),oe=i(60354),se=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).diffuseFactor=.5,e.specularFactor=.5,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],se.prototype,"diffuseFactor",void 0),(0,T._)([(0,N.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],se.prototype,"specularFactor",void 0);var ae=se=(0,T._)([(0,O.j)("esri.layers.support.VoxelSimpleShading")],se),le=i(51995),_e=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.value=null,e.enabled=!0,e.label=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:le.Z,json:{type:[I.z8],write:{enabled:!0,isRequired:!0}}})],_e.prototype,"color",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],_e.prototype,"value",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{default:!0,write:!0}})],_e.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],_e.prototype,"label",void 0);var ue=_e=(0,T._)([(0,O.j)("esri.layers.support.VoxelIsosurface")],_e),Ee=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).alpha=0,e.position=0,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Ee.prototype,"alpha",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Ee.prototype,"position",void 0);var ce=Ee=(0,T._)([(0,O.j)("esri.layers.support.VoxelAlphaStop")],Ee),de=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.position=0,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:le.Z,json:{type:[I.z8],write:{enabled:!0,isRequired:!0}}})],de.prototype,"color",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],de.prototype,"position",void 0);var Re=de=(0,T._)([(0,O.j)("esri.layers.support.VoxelColorStop")],de),Te=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).enabled=!1,e.range=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],Te.prototype,"range",void 0);var pe=Te=(0,T._)([(0,O.j)("esri.layers.support.VoxelRangeFilter")],Te),ye=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(e){var r;return(0,_.Z)(this,i),(r=t.call(this,e)).interpolation=null,r.stretchRange=null,r.rangeFilter=null,r.colorStops=new p.Z,r.alphaStops=new p.Z,r}return(0,u.Z)(i,[{key:"colorStops",set:function(e){this._set("colorStops",(0,oe.Z)(e,this._get("colorStops"),p.Z.ofType(Re)))}},{key:"alphaStops",set:function(e){this._set("alphaStops",(0,oe.Z)(e,this._get("alphaStops"),p.Z.ofType(ce)))}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:["linear","nearest"],json:{write:!0}})],ye.prototype,"interpolation",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],ye.prototype,"stretchRange",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(Re),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],ye.prototype,"colorStops",null),(0,T._)([(0,N.Cb)({type:p.Z.ofType(ce),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.alphaStops&&this.alphaStops.length>0}}}}})],ye.prototype,"alphaStops",null),(0,T._)([(0,N.Cb)({type:pe,json:{write:!0}})],ye.prototype,"rangeFilter",void 0);var Ae=ye=(0,T._)([(0,O.j)("esri.layers.support.VoxelTransferFunctionStyle")],ye),he=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).color=null,e.value=0,e.enabled=!0,e.label=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:le.Z,json:{type:[I.z8],write:{enabled:!0,isRequired:!0}}})],he.prototype,"color",void 0),(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],he.prototype,"value",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{default:!0,write:!0}})],he.prototype,"enabled",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],he.prototype,"label",void 0);var ve=he=(0,T._)([(0,O.j)("esri.layers.support.VoxelUniqueValue")],he),Se=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(e){var r;return(0,_.Z)(this,i),(r=t.call(this,e)).variableId=0,r.label=null,r.transferFunction=null,r.uniqueValues=new p.Z,r.isosurfaces=new p.Z,r}return(0,u.Z)(i,[{key:"uniqueValues",set:function(e){this._set("uniqueValues",(0,oe.Z)(e,this._get("uniqueValues"),p.Z.ofType(ve)))}},{key:"isosurfaces",set:function(e){this._set("isosurfaces",(0,oe.Z)(e,this._get("isosurfaces"),p.Z.ofType(ue)))}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],Se.prototype,"variableId",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],Se.prototype,"label",void 0),(0,T._)([(0,N.Cb)({type:Ae,json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],Se.prototype,"transferFunction",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(ve),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],Se.prototype,"uniqueValues",null),(0,T._)([(0,N.Cb)({type:p.Z.ofType(ue),json:{write:{enabled:!0,overridePolicy:function(){var e=!this.uniqueValues||this.uniqueValues.length<1,t=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&t}}}}})],Se.prototype,"isosurfaces",null);var fe=Se=(0,T._)([(0,O.j)("esri.layers.support.VoxelVariableStyle")],Se),Ce=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(e){var r;return(0,_.Z)(this,i),(r=t.call(this,e)).volumeId=0,r.verticalExaggeration=1,r.exaggerationMode="scale-height",r.verticalOffset=0,r.slices=new p.Z,r.dynamicSections=new p.Z,r}return(0,u.Z)(i,[{key:"slices",set:function(e){this._set("slices",(0,oe.Z)(e,this._get("slices"),p.Z.ofType(te)))}},{key:"dynamicSections",set:function(e){this._set("dynamicSections",(0,oe.Z)(e,this._get("dynamicSections"),p.Z.ofType($)))}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],Ce.prototype,"volumeId",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{default:1,write:!0}})],Ce.prototype,"verticalExaggeration",void 0),(0,T._)([(0,N.Cb)({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],Ce.prototype,"exaggerationMode",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{default:0,write:!0}})],Ce.prototype,"verticalOffset",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(te),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],Ce.prototype,"slices",null),(0,T._)([(0,N.Cb)({type:p.Z.ofType($),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],Ce.prototype,"dynamicSections",null);var Ne=Ce=(0,T._)([(0,O.j)("esri.layers.support.VoxelVolumeStyle")],Ce),be=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(e){var r;return(0,_.Z)(this,i),(r=t.call(this,e)).currentVariableId=0,r.renderMode="volume",r.enableSlices=!0,r.enableSections=!0,r.enableDynamicSections=!0,r.enableIsosurfaces=!0,r.shading=new ae,r.volumeStyles=new p.Z,r.variableStyles=new p.Z,r}return(0,u.Z)(i,[{key:"volumeStyles",set:function(e){this._set("volumeStyles",(0,oe.Z)(e,this._get("volumeStyles"),p.Z.ofType(Ne)))}},{key:"variableStyles",set:function(e){this._set("variableStyles",(0,oe.Z)(e,this._get("variableStyles"),p.Z.ofType(fe)))}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:p.Z.ofType(Ne),json:{write:!0}})],be.prototype,"volumeStyles",null),(0,T._)([(0,N.Cb)({type:I.z8,json:{write:{enabled:!0,isRequired:!0}}})],be.prototype,"currentVariableId",void 0),(0,T._)([(0,N.Cb)({type:["volume","surfaces"],json:{write:!0}})],be.prototype,"renderMode",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(fe),json:{write:!0}})],be.prototype,"variableStyles",null),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"enableSlices",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"enableSections",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"enableDynamicSections",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],be.prototype,"enableIsosurfaces",void 0),(0,T._)([(0,N.Cb)({type:ae,json:{write:!0}})],be.prototype,"shading",void 0);var Ie=be=(0,T._)([(0,O.j)("esri.layers.support.VoxelStyle")],be),Le=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).continuity=null,e.hasNoData=!1,e.noData=0,e.offset=0,e.scale=1,e.type=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:["discrete","continuous"],json:{write:!0}})],Le.prototype,"continuity",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],Le.prototype,"hasNoData",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],Le.prototype,"noData",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],Le.prototype,"offset",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],Le.prototype,"scale",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],Le.prototype,"type",void 0);var Oe=Le=(0,T._)([(0,O.j)("esri.layers.support.VoxelFormat")],Le),me=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).id=null,e.description="",e.name=null,e.originalFormat=null,e.renderingFormat=null,e.unit="",e.volumeId=0,e.type=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"id",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],me.prototype,"description",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"name",void 0),(0,T._)([(0,N.Cb)({type:Oe,json:{write:!0}})],me.prototype,"originalFormat",void 0),(0,T._)([(0,N.Cb)({type:Oe,json:{write:{enabled:!0,isRequired:!0}}})],me.prototype,"renderingFormat",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],me.prototype,"unit",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],me.prototype,"volumeId",void 0),(0,T._)([(0,N.Cb)({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],me.prototype,"type",void 0);var ge=me=(0,T._)([(0,O.j)("esri.layers.support.VoxelVariable")],me),Pe=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).values=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:[Number],json:{write:!0}})],Pe.prototype,"values",void 0);var Me=Pe=(0,T._)([(0,O.j)("esri.layers.support.VoxelIrregularSpacing")],Pe),De=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).scale=1,e.offset=0,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],De.prototype,"scale",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],De.prototype,"offset",void 0);var we=De=(0,T._)([(0,O.j)("esri.layers.support.VoxelRegularSpacing")],De),xe=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).irregularSpacing=null,e.isPositiveUp=null,e.isWrappedDateLine=null,e.label=null,e.name=null,e.quantity=null,e.regularSpacing=null,e.size=0,e.unit=null,e}return(0,u.Z)(i)}(K.wq);(0,T._)([(0,N.Cb)({type:Me,json:{write:!0}})],xe.prototype,"irregularSpacing",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],xe.prototype,"isPositiveUp",void 0),(0,T._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],xe.prototype,"isWrappedDateLine",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],xe.prototype,"label",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],xe.prototype,"name",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],xe.prototype,"quantity",void 0),(0,T._)([(0,N.Cb)({type:we,json:{write:!0}})],xe.prototype,"regularSpacing",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:!0}})],xe.prototype,"size",void 0),(0,T._)([(0,N.Cb)({type:String,json:{write:!0}})],xe.prototype,"unit",void 0);var Ue=xe=(0,T._)([(0,O.j)("esri.layers.support.VoxelDimension")],xe),Fe=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).id=0,e.dimensions=null,e}return(0,u.Z)(i,[{key:"getZDimension",value:function(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(var e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}},{key:"isVolumeValid",value:function(){return!!this.dimensions&&!!Array.isArray(this.dimensions)&&4===this.dimensions.length&&!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&-1!==this.getZDimension()}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Fe.prototype,"id",void 0),(0,T._)([(0,N.Cb)({type:[Ue],json:{write:{enabled:!0,isRequired:!0}}})],Fe.prototype,"dimensions",void 0);var Be,Ge=Fe=(0,T._)([(0,O.j)("esri.layers.support.VoxelVolume")],Fe),Ve=Be=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(){var e;return(0,_.Z)(this,i),(e=t.apply(this,arguments)).apronWidth=1,e.brickSize=[32,32,32],e.maxLodLevel=0,e.nodeSize=[4,4,4],e}return(0,u.Z)(i,[{key:"isValid",value:function(){var e=new Be;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}}]),i}(K.wq);(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"apronWidth",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"brickSize",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"maxLodLevel",void 0),(0,T._)([(0,N.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],Ve.prototype,"nodeSize",void 0);var He,Ze=Ve=Be=(0,T._)([(0,O.j)("esri.layers.support.VoxelVolumeIndex")],Ve),ke=h.Z.getLogger(" esri.layers.VoxelLayer");!function(e){e[e.API=1]="API",e[e.VerboseAPI=2]="VerboseAPI",e[e.Error=3]="Error"}(He||(He={}));var je=function(e){(0,d.Z)(i,e);var t=(0,R.Z)(i);function i(e){var r;return(0,_.Z)(this,i),(r=t.call(this,e)).serviceRoot="",r.popupEnabled=!0,r.operationalLayerType="Voxel",r.legendEnabled=!0,r.title=null,r.sections=new p.Z,r.style=null,r.opacity=1,r.variables=new p.Z,r.volumes=new p.Z,r.index=null,r.minScale=0,r.maxScale=0,r.type="voxel",r._dbgFlags=new Set,r._handles=new A.Z,r.version={major:Number.NaN,minor:Number.NaN,versionString:""},r}return(0,u.Z)(i,[{key:"url",set:function(e){this._set("url",(0,X.Nm)(e,ke))}},{key:"destroy",value:function(){this._handles=(0,v.SC)(this._handles)}},{key:"_dbg",value:function(e,t){this._dbgFlags.has(e)&&(e===He.Error?ke.error(t):ke.warn(t))}},{key:"load",value:function(e){var t=this,i=(0,v.pC)(e)?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(f.r9).then((function(){return t._fetchService(i)})).then((function(){return t.serviceRoot=t.url}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"getConfiguration",value:function(){var e=this;this._handles.add([(0,C.YP)((function(){return e._getRenderMode()}),(function(t){return e._pushRenderModeToWasm(t)})),(0,C.YP)((function(){return e._getCurrentVariableId()}),(function(t){return e._pushCurrentVariableIdToWasm(t)})),(0,C.YP)((function(){return e._getDynamicSections()}),(function(t){return e._pushDynamicSectionsToWasm(t)})),(0,C.YP)((function(){return e._getSlices()}),(function(t){return e._pushSlicesToWasm(t)})),(0,C.YP)((function(){return e._getSections()}),(function(t){return e._pushSectionsToWasm(t)}))]);var t={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.sections.toJSON(),style:this.style};return t.index&&this.index.isValid()?JSON.stringify(t):""}},{key:"readVersion",value:function(e,t){return(0,E.Z)((0,c.Z)(i.prototype),"parseVersionString",this).call(this,e)}},{key:"_getSections",value:function(){var e,t=[],i=(0,l.Z)(this.sections);try{for(i.s();!(e=i.n()).done;){var r=e.value;t.push(new ne({enabled:r.enabled,href:r.href,id:r.id,label:r.label,normal:r.normal,point:r.point,sizeInPixel:r.sizeInPixel,slices:r.slices,timeId:r.timeId,variableId:r.variableId}))}}catch(n){i.e(n)}finally{i.f()}return t}},{key:"_pushSectionsToWasm",value:function(e){this._dbg(He.VerboseAPI,"VoxelLayer._pushSectionsToWasm() called"),Z.getInstance().setLayerStaticSections(this,e)||this._dbg(He.Error,"VoxelLayer._pushSectionsToWasm() failed!")}},{key:"_isPlaneValid",value:function(e,t,i){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(var r=0;r<3;++r){var n=e.point[r];if(n<0||n>=i[t[r]].size)return!1}var o=(0,g.f)(e.normal[0],e.normal[1],e.normal[2]);(0,m.n)(o,o);return!(Math.abs(o[0])+Math.abs(o[1])+Math.abs(o[2])<1e-6)&&(e.normal[0]=o[0],e.normal[1]=o[1],e.normal[2]=o[2],!0)}},{key:"getVariableStyle",value:function(e){var t;if(t=(0,v.pC)(e)?e:this._getCurrentVariableId(),!(null==this?void 0:this.style.variableStyles)||-1===t)return null;var i=this.style.variableStyles.findIndex((function(e){return e.variableId===t}));return i<0?null:this.style.variableStyles.getItemAt(i)}},{key:"getVariable",value:function(e){var t;if(t=(0,v.pC)(e)?e:this._getCurrentVariableId(),!this.variables||-1===t)return null;var i=this.variables.findIndex((function(e){return e.id===t}));return i<0?null:this.variables.getItemAt(i)}},{key:"getVolume",value:function(e){var t=this.getVariable(e);return(0,v.pC)(t)?this.volumes.find((function(e){return e.id===t.volumeId})):null}},{key:"validateLayer",value:function(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new y.Z("voxel-layer:layer-type-not-supported","VoxelLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new y.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"});if(this.version.major>3)throw new y.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"})}},{key:"_getVolumeStyle",value:function(e){var t=this.getVariable(e);return(0,v.pC)(t)?this.style.volumeStyles.find((function(e){return e.volumeId===t.volumeId})):null}},{key:"_getSlices",value:function(){var e=[],t=this.getVolume(null);if(!(0,v.pC)(t)||!t.isVolumeValid())return e;var i=this._getVolumeStyle(null);if(!(0,v.pC)(i))return e;var r,n=(0,l.Z)(i.slices);try{for(n.s();!(r=n.n()).done;){var o=r.value;this._isPlaneValid(o,[0,1,t.getZDimension()],t.dimensions)?e.push(new te({enabled:o.enabled,label:o.label,point:o.point,normal:o.normal})):e.push(new te({enabled:!1,label:"invalid",point:o.point,normal:o.normal}))}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"_pushSlicesToWasm",value:function(e){this._dbg(He.VerboseAPI,"VoxelLayer._pushSlicesToWasm() called!"),Z.getInstance().setLayerSlices(this,e)||this._dbg(He.Error,"VoxelLayer._pushSlicesToWasm() failed!")}},{key:"_getDynamicSections",value:function(){var e=[],t=this.getVolume(null);if(!(0,v.pC)(t)||!t.isVolumeValid())return e;var i=this._getVolumeStyle(null);if(!(0,v.pC)(i))return e;var r,n=(0,l.Z)(i.dynamicSections);try{for(n.s();!(r=n.n()).done;){var o=r.value;this._isPlaneValid(o,[0,1,t.getZDimension()],t.dimensions)?e.push(new $({enabled:o.enabled,label:o.label,point:o.point,normal:o.normal})):e.push(new $({enabled:!1,label:"invalid",point:o.point,normal:o.normal}))}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"_pushDynamicSectionsToWasm",value:function(e){this._dbg(He.VerboseAPI,"VoxelLayer._pushDynamicSectionsToWasm() called!"),Z.getInstance().setLayerDynamicSections(this,e)||this._dbg(He.Error,"VoxelLayer._updateDynamicSections() failed!")}},{key:"_getCurrentVariableId",value:function(){return this.style?this.style.currentVariableId:-1}},{key:"_pushCurrentVariableIdToWasm",value:function(e){this._dbg(He.VerboseAPI,"VoxelLayer._pushCurrentVariableIdToWasm() called!"),Z.getInstance().setLayerCurrentVariable(this,e)||this._dbg(He.Error,"VoxelLayer._pushCurrentVariableIdToWasm() failed!")}},{key:"_getRenderMode",value:function(){return this.style?this.style.renderMode:"volume"}},{key:"_pushRenderModeToWasm",value:function(e){this._dbg(He.VerboseAPI,"VoxelLayer._pushRenderModeToWasm() called!"),Z.getInstance().setLayerRenderMode(this,e)||this._dbg(He.Error,"VoxelLayer.setLayerRenderMode() failed!")}}]),i}((0,z.Vt)((0,j.Y)((0,W.q)((0,q.I)((0,Y.M)((0,S.R)((0,k.V)(P.Z))))))));(0,T._)([(0,N.Cb)(Q.C_)],je.prototype,"popupEnabled",void 0),(0,T._)([(0,N.Cb)({type:["Voxel"]})],je.prototype,"operationalLayerType",void 0),(0,T._)([(0,N.Cb)(Q.rn)],je.prototype,"legendEnabled",void 0),(0,T._)([(0,N.Cb)({json:{write:!0}})],je.prototype,"title",void 0),(0,T._)([(0,N.Cb)(Q.HQ)],je.prototype,"url",null),(0,T._)([(0,N.Cb)({type:p.Z.ofType(ne),json:{write:!0,origins:{"web-scene":{name:"layerDefinition.sections",write:!0},service:{write:!1}}}})],je.prototype,"sections",void 0),(0,T._)([(0,N.Cb)({type:Ie,json:{write:!0,origins:{"web-scene":{name:"layerDefinition.style",write:!0},service:{write:!1}}}})],je.prototype,"style",void 0),(0,T._)([(0,N.Cb)({type:["show","hide"]})],je.prototype,"listMode",void 0),(0,T._)([(0,N.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],je.prototype,"opacity",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(ge)})],je.prototype,"variables",void 0),(0,T._)([(0,N.Cb)({type:p.Z.ofType(Ge)})],je.prototype,"volumes",void 0),(0,T._)([(0,N.Cb)({type:Ze})],je.prototype,"index",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{name:"layerDefinition.minScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],je.prototype,"minScale",void 0),(0,T._)([(0,N.Cb)({type:Number,json:{name:"layerDefinition.maxScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],je.prototype,"maxScale",void 0),(0,T._)([(0,N.Cb)({json:{read:!1},readOnly:!0})],je.prototype,"type",void 0),(0,T._)([(0,N.Cb)({readOnly:!0,json:{name:"serviceVersion"}})],je.prototype,"version",void 0),(0,T._)([(0,L.r)("service","version")],je.prototype,"readVersion",null);var We=je=(0,T._)([(0,O.j)("esri.layers.VoxelLayer")],je)},68198:function(e,t,i){var r;i.d(t,{C:function(){return r}}),function(e){e[e.MATERIAL=0]="MATERIAL",e[e.MATERIAL_ALPHA=1]="MATERIAL_ALPHA",e[e.MATERIAL_DEPTH=2]="MATERIAL_DEPTH",e[e.MATERIAL_NORMAL=3]="MATERIAL_NORMAL",e[e.MATERIAL_DEPTH_SHADOWMAP_ALL=4]="MATERIAL_DEPTH_SHADOWMAP_ALL",e[e.MATERIAL_HIGHLIGHT=5]="MATERIAL_HIGHLIGHT",e[e.MATERIAL_DEPTH_SHADOWMAP_DEFAULT=6]="MATERIAL_DEPTH_SHADOWMAP_DEFAULT",e[e.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT=7]="MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT",e[e.MAX_PASS=8]="MAX_PASS"}(r||(r={}))},93822:function(e,t,i){var r;i.d(t,{r:function(){return r}}),function(e){e[e.INTEGRATED_MESH=0]="INTEGRATED_MESH",e[e.OPAQUE_TERRAIN=1]="OPAQUE_TERRAIN",e[e.OPAQUE_MATERIAL=2]="OPAQUE_MATERIAL",e[e.OPAQUE_PLUGIN=3]="OPAQUE_PLUGIN",e[e.TRANSPARENT_MATERIAL=4]="TRANSPARENT_MATERIAL",e[e.TRANSPARENT_PLUGIN=5]="TRANSPARENT_PLUGIN",e[e.TRANSPARENT_TERRAIN=6]="TRANSPARENT_TERRAIN",e[e.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=7]="TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL",e[e.OCCLUDED_TERRAIN=8]="OCCLUDED_TERRAIN",e[e.OCCLUDER_MATERIAL=9]="OCCLUDER_MATERIAL",e[e.TRANSPARENT_OCCLUDER_MATERIAL=10]="TRANSPARENT_OCCLUDER_MATERIAL",e[e.OCCLUSION_PIXELS=11]="OCCLUSION_PIXELS",e[e.POSTPROCESSING_ENVIRONMENT_OPAQUE=12]="POSTPROCESSING_ENVIRONMENT_OPAQUE",e[e.POSTPROCESSING_ENVIRONMENT_TRANSPARENT=13]="POSTPROCESSING_ENVIRONMENT_TRANSPARENT",e[e.LASERLINES=14]="LASERLINES",e[e.LASERLINES_CONTRAST_CONTROL=15]="LASERLINES_CONTRAST_CONTROL",e[e.HUD_MATERIAL=16]="HUD_MATERIAL",e[e.LABEL_MATERIAL=17]="LABEL_MATERIAL",e[e.LINE_CALLOUTS=18]="LINE_CALLOUTS",e[e.LINE_CALLOUTS_HUD_DEPTH=19]="LINE_CALLOUTS_HUD_DEPTH",e[e.DRAPED_MATERIAL=20]="DRAPED_MATERIAL",e[e.DRAPED_WATER=21]="DRAPED_WATER",e[e.VOXEL=22]="VOXEL",e[e.MAX_SLOTS=23]="MAX_SLOTS"}(r||(r={}))},8548:function(e,t,i){var r,n,o,s,a,l,_,u,E,c,d,R,T,p,y,A,h,v,S,f,C,N;i.d(t,{Br:function(){return A},Ho:function(){return S},LR:function(){return l},Ld:function(){return L},Lm:function(){return C},Lu:function(){return x},MX:function(){return n},No:function(){return T},OU:function(){return N},Se:function(){return m},Tg:function(){return h},V7:function(){return D},VI:function(){return p},VY:function(){return I},Wf:function(){return _},Y5:function(){return M},_g:function(){return b},cw:function(){return d},db:function(){return s},e8:function(){return R},g:function(){return u},l1:function(){return v},lP:function(){return y},lk:function(){return r},q_:function(){return O},qi:function(){return f},w0:function(){return a},wb:function(){return E},xS:function(){return c},zi:function(){return o}}),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"}(r||(r={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(n||(n={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(o||(o={})),function(e){e[e.ADD=32774]="ADD",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(s||(s={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(a||(a={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(l||(l={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(_||(_={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(u||(u={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(E||(E={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(c||(c={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(d||(d={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(R||(R={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(T||(T={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(p||(p={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(y||(y={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(A||(A={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(h||(h={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(v||(v={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(S||(S={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(f||(f={})),function(e){e[e.TEXTURE=0]="TEXTURE",e[e.RENDER_BUFFER=1]="RENDER_BUFFER",e[e.CUBEMAP=2]="CUBEMAP"}(C||(C={})),function(e){e[e.NONE=0]="NONE",e[e.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",e[e.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(N||(N={}));var b,I,L=33984;!function(e){e[e.Texture=0]="Texture",e[e.Buffer=1]="Buffer",e[e.VAO=2]="VAO",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.Framebuffer=5]="Framebuffer",e[e.Renderbuffer=6]="Renderbuffer",e[e.Sync=7]="Sync",e[e.COUNT=8]="COUNT"}(b||(b={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(I||(I={}));var O,m,g,P,M,D,w,x=33306;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(O||(O={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(m||(m={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(g||(g={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(P||(P={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(M||(M={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(D||(D={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(w||(w={}))}}]);
//# sourceMappingURL=5947.c4aed8e7.chunk.js.map